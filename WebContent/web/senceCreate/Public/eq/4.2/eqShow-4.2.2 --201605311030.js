/**
 * mingriSoft
 * Copyright (c) 2016
 * Licensed MIT <>
 */

!
function(a, b, c) {
    function d(a) {
        this.mode = k.MODE_8BIT_BYTE,
        this.data = a
    }
    function e(a, b) {
        this.typeNumber = a,
        this.errorCorrectLevel = b,
        this.modules = null ,
        this.moduleCount = 0,
        this.dataCache = null ,
        this.dataList = new Array
    }
    function f(a, b) {
        if (a.length == c)
            throw new Error(a.length + "/" + b);
        for (var d = 0; d < a.length && 0 == a[d]; )
            d++;
        this.num = new Array(a.length - d + b);
        for (var e = 0; e < a.length - d; e++)
            this.num[e] = a[e + d]
    }
    function g(a, b) {
        this.totalCount = a,
        this.dataCount = b
    }
    function h() {
        this.buffer = new Array,
        this.length = 0
    }
    function i() {
        var b = !1;
        return function(a) {
            (/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(a) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(a.substr(0, 4))) && (b = !0)
        }(navigator.userAgent || navigator.vendor || a.opera),
        b
    }
    function j(a) {
        for (var b = 0, c = 0; c < a.length; c++) {
            var d = a.charCodeAt(c);
            d >= 1 && 126 >= d || d >= 65376 && 65439 >= d ? b++ : b += 2
        }
        return b
    }
    !
    function(a, b) {
        function c(a) {
            function b(a, b, c) {
                return a[b] || (a[b] = c())
            }
            var c = b(a, "eqShow", Object);
            return b(c, "templateParser", function() {
                var a = {};
                return function(c, d) {
                    if ("hasOwnProperty" === c)
                        throw new Error("hasOwnProperty is not a valid name");
                    return d && a.hasOwnProperty(c) && (a[c] = null ),
                    b(a, c, d)
                }
            })
        }
        function d(b) {
            templateParser = c(a)
        }
        var e = a.eqShow || (a.eqShow = {});
        d(e)
    }(a, document),
    a.flux = {
        version: "1.4.4"
    },
    function(b) {
        flux.slider = function(c, d) {
            flux.browser.init(),
            flux.browser.supportsTransitions || a.console && a.console.error && console.error("Flux Slider requires a browser that supports CSS3 transitions");
            var e = this;
            this.element = b(c),
            this.transitions = [];
            for (var f in flux.transitions)
                this.transitions.push(f);
            this.options = b.extend({
                autoplay: !0,
                transitions: this.transitions,
                delay: 4e3,
                pagination: !0,
                controls: !1,
                captions: !1,
                width: null ,
                height: null ,
                onTransitionEnd: null ,
                onStartEnd: null ,
                bgColor: ""
            }, d),
            this.height = this.options.height ? this.options.height : null ,
            this.width = this.options.width ? this.options.width : null ;
            var g = [];
            b(this.options.transitions).each(function(a, b) {
                var c = new flux.transitions[b](this)
                  
                
                , 
                d = !0;
                c.options.requires3d && !flux.browser.supports3d && (d = !1),
                c.options.compatibilityCheck && (d = c.options.compatibilityCheck()),
                d && g.push(b)
            }),
            this.options.transitions = g,
            this.images = new Array,
            this.imageLoadedCount = 0,
            this.currentImageIndex = 0,
            this.nextImageIndex = 1,
            this.playing = !1,
            this.container = b('<div class="fluxslider"></div>').appendTo(this.element),
            this.surface = b('<div class="surface" style="position: relative"></div>').appendTo(this.container),
            this.container.bind("click", function(c) {
                b(c.target).hasClass("hasLink") && (a.location = b(c.target).data("href"))
            }),
            this.imageContainer = b('<div class="images loading1"></div>').css({
                position: "relative",
                overflow: "hidden"
            }).appendTo(this.surface),
            this.width && this.height && this.imageContainer.css({
                width: this.width + "px",
                height: this.height + "px"
            }),
            this.image1 = b('<div class="image1" style="height: 100%; width: 100%"></div>').appendTo(this.imageContainer),
            this.image2 = b('<div class="image2" style="height: 100%; width: 100%"></div>').appendTo(this.imageContainer),
            b(this.image1).add(this.image2).css({
                position: "absolute",
                top: "0px",
                left: "0px"
            }),
            this.element.find("img, a img").each(function(a, c) {
                var d = c.cloneNode(!1)
                  
                
                , 
                f = b(c).parent();
                f.is("a") && b(d).data("href", f.attr("href")),
                e.images.push(d),
                b(c).remove()
            });
            for (var h = 0; h < this.images.length; h++) {
                var i = new Image;
                i.onload = function() {
                    e.imageLoadedCount++,
                    e.width = e.width ? e.width : this.width,
                    e.height = e.height ? e.height : this.height,
                    e.imageLoadedCount >= e.images.length && (e.finishedLoading(),
                    e.setupImages())
                }
                ,
                i.src = this.images[h].src
            }
            this.element.bind("fluxTransitionEnd", function(a, b) {
                e.options.onTransitionEnd && (a.preventDefault(),
                e.options.onTransitionEnd(b))
            }),
            this.options.autoplay && this.start();
            var j = {}
              
            
            , 
            k = {}
              
            
            , 
            l = 20;
            this.element.bind("mousedown touchstart", function(a) {
                "touchstart" == a.type ? j.left = a.originalEvent.touches[0].pageX : "mousedown" == a.type && (j.left = a.pageX)
            }).bind("mouseup touchend", function(a) {
                "touchend" == a.type ? k.left = a.originalEvent.changedTouches[0].pageX : "mouseup" == a.type && (k.left = a.pageX),
                k.left - j.left > l ? e.prev(null , {
                    direction: "right"
                }) : j.left - k.left > l && e.next(null , {
                    direction: "left"
                }),
                e.options.autoplay && (e.stop(),
                e.start())
            }),
            setTimeout(function() {
                b(a).focus(function() {
                    e.isPlaying() && e.next()
                })
            }, 100)
        }
        ,
        flux.slider.prototype = {
            constructor: flux.slider,
            playing: !1,
            start: function() {
                var a = this;
                this.playing = !0,
                this.interval = setInterval(function() {
                    a.transition()
                }, this.options.delay),
                "function" == typeof this.options.onStartEnd && this.options.onStartEnd(this.interval)
            },
            stop: function() {
                this.playing = !1,
                clearInterval(this.interval),
                this.interval = null 
            },
            isPlaying: function() {
                return this.playing
            },
            next: function(a, b) {
                b = b || {},
                b.direction = "left",
                this.showImage(this.currentImageIndex + 1, a, b)
            },
            prev: function(a, b) {
                b = b || {},
                b.direction = "right",
                this.showImage(this.currentImageIndex - 1, a, b)
            },
            showImage: function(a, b, c) {
                this.setNextIndex(a),
                this.setupImages(),
                this.transition(b, c)
            },
            finishedLoading: function() {
                var a = this;
                if (this.container.css({
                    width: this.width + "px",
                    height: this.height + "px"
                }),
                this.imageContainer.removeClass("loading1"),
                this.options.pagination && (this.pagination = b('<ul class="pagination"></ul>').css({
                    margin: "0px",
                    padding: "0px",
                    "text-align": "center"
                }),
                this.pagination.bind("click", function(c) {
                    c.preventDefault(),
                    a.showImage(b(c.target).data("index"))
                }),
                b(this.images).each(function(c, d) {
                    var e = b('<li data-index="' + c + '">' + (c + 1) + "</li>").css({
                        display: "inline-block",
                        "margin-left": "0.5em",
                        cursor: "pointer"
                    }).appendTo(a.pagination);
                    0 == c && e.css("margin-left", 0).addClass("current")
                }),
                this.container.append(this.pagination)),
                b(this.imageContainer).css({
                    width: this.width + "px",
                    height: this.height + "px"
                }),
                b(this.image1).css({
                    width: this.width + "px",
                    height: this.height + "px"
                }),
                b(this.image2).css({
                    width: this.width + "px",
                    height: this.height + "px"
                }),
                this.container.css({
                    width: this.width + "px",
                    height: this.height + (this.options.pagination ? this.pagination.height() : 0) + "px"
                }),
                this.options.controls) {
                    var c = {
                        padding: "4px 10px 10px",
                        "font-size": "60px",
                        "font-family": "arial, sans-serif",
                        "line-height": "1em",
                        "font-weight": "bold",
                        color: "#FFF",
                        "text-decoration": "none",
                        background: "rgba(0,0,0,0.5)",
                        position: "absolute",
                        "z-index": 2e3
                    };
                    this.nextButton = b('<a href="#">>></a>').css(c).css3({
                        "border-radius": "4px"
                    }).appendTo(this.surface).bind("click", function(b) {
                        b.preventDefault(),
                        a.next()
                    }),
                    this.prevButton = b('<a href="#"><<</a>').css(c).css3({
                        "border-radius": "4px"
                    }).appendTo(this.surface).bind("click", function(b) {
                        b.preventDefault(),
                        a.prev()
                    });
                    var d = (this.height - this.nextButton.height()) / 2;
                    this.nextButton.css({
                        top: d + "px",
                        right: "10px"
                    }),
                    this.prevButton.css({
                        top: d + "px",
                        left: "10px"
                    })
                }
                this.options.captions && (this.captionBar = b('<div class="caption"></div>').css({
                    background: "rgba(0,0,0,0.6)",
                    color: "#FFF",
                    "font-size": "16px",
                    "font-family": "helvetica, arial, sans-serif",
                    "text-decoration": "none",
                    "font-weight": "bold",
                    padding: "1.5em 1em",
                    opacity: 0,
                    position: "absolute",
                    "z-index": 110,
                    width: "100%",
                    bottom: 0
                }).css3({
                    "transition-property": "opacity",
                    "transition-duration": "800ms",
                    "box-sizing": "border-box"
                }).prependTo(this.surface)),
                this.updateCaption()
            },
            setupImages: function() {
                var a = this.getImage(this.currentImageIndex)
                  
                
                , 
                c = {
                    background: 'url("' + a.src + '") 50% 50% / contain no-repeat ' + this.options.bgColor,
                    zIndex: 101,
                    cursor: "auto"
                };
                b(a).data("href") ? (c.cursor = "pointer",
                this.image1.addClass("hasLink"),
                this.image1.data("href", b(a).data("href"))) : (this.image1.removeClass("hasLink"),
                this.image1.data("href", null )),
                this.image1.css(c).children().remove(),
                this.image2.css({
                    background: 'url("' + this.getImage(this.nextImageIndex).src + '") 50% 50% / contain no-repeat ' + this.options.bgColor,
                    zIndex: 100
                }),
                this.options.pagination && this.pagination && (this.pagination.find("li.current").removeClass("current"),
                b(this.pagination.find("li")[this.currentImageIndex]).addClass("current"))
            },
            transition: function(a, d) {
                if (a == c || !flux.transitions[a]) {
                    var e = Math.floor(Math.random() * this.options.transitions.length);
                    a = this.options.transitions[e]
                }
                var f = null ;
                try {
                    f = new flux.transitions[a](this,b.extend(this.options[a] ? this.options[a] : {}, d))
                } catch (g) {
                    f = new flux.transition(this,{
                        fallback: !0
                    })
                }
                f.run(),
                this.currentImageIndex = this.nextImageIndex,
                this.setNextIndex(this.currentImageIndex + 1),
                this.updateCaption()
            },
            updateCaption: function() {
                var a = b(this.getImage(this.currentImageIndex)).attr("title");
                this.options.captions && this.captionBar && ("" !== a && this.captionBar.html(a),
                this.captionBar.css("opacity", "" === a ? 0 : 1))
            },
            getImage: function(a) {
                return a %= this.images.length,
                this.images[a]
            },
            setNextIndex: function(a) {
                a == c && (a = this.currentImageIndex + 1),
                this.nextImageIndex = a,
                this.nextImageIndex > this.images.length - 1 && (this.nextImageIndex = 0),
                this.nextImageIndex < 0 && (this.nextImageIndex = this.images.length - 1)
            },
            increment: function() {
                this.currentImageIndex++,
                this.currentImageIndex > this.images.length - 1 && (this.currentImageIndex = 0)
            }
        }
    }(a.jQuery || a.Zepto),
    function(b) {
        flux.browser = {
            init: function() {
                if (flux.browser.supportsTransitions === c) {
                    var d = (document.createElement("div"),
                    ["-webkit", "-moz", "-o", "-ms"]);
                    if (a.Modernizr && Modernizr.csstransitions !== c ? flux.browser.supportsTransitions = Modernizr.csstransitions : flux.browser.supportsTransitions = this.supportsCSSProperty("Transition"),
                    a.Modernizr && Modernizr.csstransforms3d !== c)
                        flux.browser.supports3d = Modernizr.csstransforms3d;
                    else if (flux.browser.supports3d = this.supportsCSSProperty("Perspective"),
                    flux.browser.supports3d && "webkitPerspective" in b("body").get(0).style) {
                        var e = b('<div id="csstransform3d"></div>')
                          
                        
                        , 
                        f = b('<style media="(transform-3d), (' + d.join("-transform-3d),(") + '-transform-3d)">div#csstransform3d { position: absolute; left: 9px }</style>');
                        b("body").append(e),
                        b("head").append(f),
                        flux.browser.supports3d = 9 == e.get(0).offsetLeft,
                        e.remove(),
                        f.remove()
                    }
                }
            },
            supportsCSSProperty: function(a) {
                for (var b = document.createElement("div"), c = ["Webkit", "Moz", "O", "Ms"], d = !1, e = 0; e < c.length; e++)
                    c[e] + a in b.style && (d = d || !0);
                return d
            },
            translate: function(a, b, d) {
                return a = a != c ? a : 0,
                b = b != c ? b : 0,
                d = d != c ? d : 0,
                "translate" + (flux.browser.supports3d ? "3d(" : "(") + a + "px," + b + (flux.browser.supports3d ? "px," + d + "px)" : "px)")
            },
            rotateX: function(a) {
                return flux.browser.rotate("x", a)
            },
            rotateY: function(a) {
                return flux.browser.rotate("y", a)
            },
            rotateZ: function(a) {
                return flux.browser.rotate("z", a)
            },
            rotate: function(a, b) {
                return !a in {
                    x: "",
                    y: "",
                    z: ""
                } && (a = "z"),
                b = b != c ? b : 0,
                flux.browser.supports3d ? "rotate3d(" + ("x" == a ? "1" : "0") + ", " + ("y" == a ? "1" : "0") + ", " + ("z" == a ? "1" : "0") + ", " + b + "deg)" : "z" == a ? "rotate(" + b + "deg)" : ""
            }
        },
        b(function() {
            flux.browser.init()
        })
    }(a.jQuery || a.Zepto),
    function(a) {
        a.fn.css3 = function(a) {
            var b = {}
              
            
            , 
            c = ["webkit", "moz", "ms", "o"];
            for (var d in a) {
                for (var e = 0; e < c.length; e++)
                    b["-" + c[e] + "-" + d] = a[d];
                b[d] = a[d]
            }
            return this.css(b),
            this
        }
        ,
        a.fn.transitionEnd = function(b) {
            for (var c = ["webkitTransitionEnd", "transitionend", "oTransitionEnd"], d = 0; d < c.length; d++)
                this.bind(c[d], function(d) {
                    for (var e = 0; e < c.length; e++)
                        a(this).unbind(c[e]);
                    b && b.call(this, d)
                });
            return this
        }
        ,
        flux.transition = function(b, d) {
            if (this.options = a.extend({
                requires3d: !1,
                after: function() {}
            }, d),
            this.slider = b,
            this.options.requires3d && !flux.browser.supports3d || !flux.browser.supportsTransitions || this.options.fallback === !0) {
                var e = this;
                this.options.after = c,
                this.options.setup = function() {
                    e.fallbackSetup()
                }
                ,
                this.options.execute = function() {
                    e.fallbackExecute()
                }
            }
        }
        ,
        flux.transition.prototype = {
            constructor: flux.transition,
            hasFinished: !1,
            run: function() {
                var a = this;
                this.options.setup !== c && this.options.setup.call(this),
                this.slider.image1.css({
                    "background-image": "none"
                }),
                this.slider.imageContainer.css("overflow", this.options.requires3d ? "visible" : "hidden"),
                setTimeout(function() {
                    a.options.execute !== c && a.slider.image1.css("background-color", ""),
                    a.options.execute.call(a)
                }, 5)
            },
            finished: function() {
                this.hasFinished || (this.hasFinished = !0,
                this.options.after && this.options.after.call(this),
                this.slider.imageContainer.css("overflow", "hidden"),
                this.slider.setupImages(),
                this.slider.element.trigger("fluxTransitionEnd", {
                    currentImage: this.slider.getImage(this.slider.currentImageIndex)
                }))
            },
            fallbackSetup: function() {},
            fallbackExecute: function() {
                this.finished()
            }
        },
        flux.transitions = {},
        flux.transition_grid = function(b, c) {
            return new flux.transition(b,a.extend({
                columns: 6,
                rows: 6,
                forceSquare: !1,
                setup: function() {
                    var b = this.slider.image1.width()
                      
                    
                    , 
                    c = this.slider.image1.height()
                      
                    
                    , 
                    d = Math.floor(b / this.options.columns)
                      
                    
                    , 
                    e = Math.floor(c / this.options.rows);
                    this.options.forceSquare && (e = d,
                    this.options.rows = Math.floor(c / e));
                    for (var f = b - this.options.columns * d, g = Math.ceil(f / this.options.columns), h = c - this.options.rows * e, i = Math.ceil(h / this.options.rows), j = (this.slider.image1.height(),
                    0), k = 0, l = document.createDocumentFragment(), m = 0; m < this.options.columns; m++) {
                        var n = d
                          
                        
                        , 
                        k = 0;
                        if (f > 0) {
                            var o = f >= g ? g : f;
                            n += o,
                            f -= o
                        }
                        for (var p = 0; p < this.options.rows; p++) {
                            var q = e
                              
                            
                            , 
                            r = h;
                            if (r > 0) {
                                var o = r >= i ? i : r;
                                q += o,
                                r -= o
                            }
                            var s = a('<div class="tile tile-' + m + "-" + p + '"></div>').css({
                                width: n + "px",
                                height: q + "px",
                                position: "absolute",
                                top: k + "px",
                                left: j + "px"
                            });
                            this.options.renderTile.call(this, s, m, p, n, q, j, k),
                            l.appendChild(s.get(0)),
                            k += q
                        }
                        j += n
                    }
                    this.slider.image1.get(0).appendChild(l)
                },
                execute: function() {
                    var a = this
                      
                    
                    , 
                    b = this.slider.image1.height()
                      
                    
                    , 
                    c = this.slider.image1.find("div.barcontainer");
                    this.slider.image2.hide(),
                    c.last().transitionEnd(function(b) {
                        a.slider.image2.show(),
                        a.finished()
                    }),
                    c.css3({
                        transform: flux.browser.rotateX(-90) + " " + flux.browser.translate(0, b / 2, b / 2)
                    })
                },
                renderTile: function(a, b, c, d, e, f, g) {}
            }, c))
        }
    }(a.jQuery || a.Zepto),
    function(a) {
        flux.transitions.bars = function(b, c) {
            return new flux.transition_grid(b,a.extend({
                columns: 10,
                rows: 1,
                delayBetweenBars: 40,
                renderTile: function(b, c, d, e, f, g, h) {
                    a(b).css({
                        background: this.slider.image1.css("background"),
                        "background-size": this.slider.width + "px " + this.slider.height + "px",
                        "background-position": "-" + g + "px 0px"
                    }).css3({
                        "transition-duration": "400ms",
                        "transition-timing-function": "ease-in",
                        "transition-property": "all",
                        "transition-delay": c * this.options.delayBetweenBars + "ms"
                    })
                },
                execute: function() {
                    var b = this
                      
                    
                    , 
                    c = this.slider.image1.height()
                      
                    
                    , 
                    d = this.slider.image1.find("div.tile");
                    a(d[d.length - 1]).transitionEnd(function() {
                        b.finished()
                    }),
                    setTimeout(function() {
                        d.css({
                            opacity: "0.5"
                        }).css3({
                            transform: flux.browser.translate(0, c)
                        })
                    }, 50)
                }
            }, c))
        }
    }(a.jQuery || a.Zepto),
    function(a) {
        flux.transitions.bars3d = function(b, c) {
            return new flux.transition_grid(b,a.extend({
                requires3d: !0,
                columns: 7,
                rows: 1,
                delayBetweenBars: 150,
                perspective: 1e3,
                renderTile: function(b, c, d, e, f, g, h) {
                    var i = a('<div class="bar-' + c + '"></div>').css({
                        width: e + "px",
                        height: "100%",
                        position: "absolute",
                        top: "0px",
                        left: "0px",
                        "z-index": 200,
                        background: this.slider.image1.css("background"),
                        "background-size": this.slider.width + "px " + this.slider.height + "px",
                        "background-position": "-" + g + "px 0px",
                        "background-repeat": "no-repeat"
                    }).css3({
                        "backface-visibility": "hidden"
                    })
                      
                    
                    , 
                    j = a(i.get(0).cloneNode(!1)).css({
                        "background-image": this.slider.image2.css("background-image")
                    }).css3({
                        transform: flux.browser.rotateX(90) + " " + flux.browser.translate(0, -f / 2, f / 2)
                    })
                      
                    
                    , 
                    k = a('<div class="side bar-' + c + '"></div>').css({
                        width: f + "px",
                        height: f + "px",
                        position: "absolute",
                        top: "0px",
                        left: "0px",
                        background: "#222",
                        "z-index": 190
                    }).css3({
                        transform: flux.browser.rotateY(90) + " " + flux.browser.translate(f / 2, 0, -f / 2) + " " + flux.browser.rotateY(180),
                        "backface-visibility": "hidden"
                    })
                      
                    
                    , 
                    l = a(k.get(0).cloneNode(!1)).css3({
                        transform: flux.browser.rotateY(90) + " " + flux.browser.translate(f / 2, 0, e - f / 2)
                    });
                    a(b).css({
                        width: e + "px",
                        height: "100%",
                        position: "absolute",
                        top: "0px",
                        left: g + "px",
                        "z-index": c > this.options.columns / 2 ? 1e3 - c : 1e3
                    }).css3({
                        "transition-duration": "800ms",
                        "transition-timing-function": "linear",
                        "transition-property": "all",
                        "transition-delay": c * this.options.delayBetweenBars + "ms",
                        "transform-style": "preserve-3d"
                    }).append(i).append(j).append(k).append(l)
                },
                execute: function() {
                    this.slider.image1.css3({
                        perspective: this.options.perspective,
                        "perspective-origin": "50% 50%"
                    }).css({
                        "-moz-transform": "perspective(" + this.options.perspective + "px)",
                        "-moz-perspective": "none",
                        "-moz-transform-style": "preserve-3d"
                    });
                    var a = this
                      
                    
                    , 
                    b = this.slider.image1.height()
                      
                    
                    , 
                    c = this.slider.image1.find("div.tile");
                    this.slider.image2.hide(),
                    c.last().transitionEnd(function(b) {
                        a.slider.image1.css3({
                            "transform-style": "flat"
                        }),
                        a.slider.image2.show(),
                        a.finished()
                    }),
                    setTimeout(function() {
                        c.css3({
                            transform: flux.browser.rotateX(-90) + " " + flux.browser.translate(0, b / 2, b / 2)
                        })
                    }, 50)
                }
            }, c))
        }
    }(a.jQuery || a.Zepto),
    function(a) {
        flux.transitions.blinds = function(b, c) {
            return new flux.transitions.bars(b,a.extend({
                execute: function() {
                    var b = this
                      
                    
                    , 
                    c = (this.slider.image1.height(),
                    this.slider.image1.find("div.tile"));
                    a(c[c.length - 1]).transitionEnd(function() {
                        b.finished()
                    }),
                    setTimeout(function() {
                        c.css({
                            opacity: "0.5"
                        }).css3({
                            transform: "scalex(0.0001)"
                        })
                    }, 50)
                }
            }, c))
        }
    }(a.jQuery || a.Zepto),
    function(a) {
        flux.transitions.zip = function(b, c) {
            return new flux.transitions.bars(b,a.extend({
                execute: function() {
                    var b = this
                      
                    
                    , 
                    c = this.slider.image1.height()
                      
                    
                    , 
                    d = this.slider.image1.find("div.tile");
                    a(d[d.length - 1]).transitionEnd(function() {
                        b.finished()
                    }),
                    setTimeout(function() {
                        d.each(function(b, d) {
                            a(d).css({
                                opacity: "0.3"
                            }).css3({
                                transform: flux.browser.translate(0, b % 2 ? "-" + 2 * c : c)
                            })
                        })
                    }, 20)
                }
            }, c))
        }
    }(a.jQuery || a.Zepto),
    function(a) {
        flux.transitions.blocks = function(b, d) {
            return new flux.transition_grid(b,a.extend({
                forceSquare: !0,
                delayBetweenBars: 100,
                renderTile: function(b, d, e, f, g, h, i) {
                    var j = Math.floor(10 * Math.random() * this.options.delayBetweenBars);
                    a(b).css({
                        background: this.slider.image1.css("background"),
                        "background-size": this.slider.width + "px " + this.slider.height + "px",
                        "background-position": "-" + h + "px -" + i + "px"
                    }).css3({
                        "transition-duration": "350ms",
                        "transition-timing-function": "ease-in",
                        "transition-property": "all",
                        "transition-delay": j + "ms"
                    }),
                    this.maxDelay === c && (this.maxDelay = 0),
                    j > this.maxDelay && (this.maxDelay = j,
                    this.maxDelayTile = b)
                },
                execute: function() {
                    var b = this
                      
                    
                    , 
                    c = this.slider.image1.find("div.tile");
                    this.maxDelayTile.transitionEnd(function() {
                        b.finished()
                    }),
                    setTimeout(function() {
                        c.each(function(b, c) {
                            a(c).css({
                                opacity: "0"
                            }).css3({
                                transform: "scale(0.8)"
                            })
                        })
                    }, 50)
                }
            }, d))
        }
    }(a.jQuery || a.Zepto),
    function(a) {
        flux.transitions.blocks2 = function(b, c) {
            return new flux.transition_grid(b,a.extend({
                cols: 12,
                forceSquare: !0,
                delayBetweenDiagnols: 150,
                renderTile: function(b, c, d, e, f, g, h) {
                    Math.floor(10 * Math.random() * this.options.delayBetweenBars);
                    a(b).css({
                        background: this.slider.image1.css("background"),
                        "background-size": this.slider.width + "px " + this.slider.height + "px",
                        "background-position": "-" + g + "px -" + h + "px"
                    }).css3({
                        "transition-duration": "350ms",
                        "transition-timing-function": "ease-in",
                        "transition-property": "all",
                        "transition-delay": (c + d) * this.options.delayBetweenDiagnols + "ms",
                        "backface-visibility": "hidden"
                    })
                },
                execute: function() {
                    var b = this
                      
                    
                    , 
                    c = this.slider.image1.find("div.tile");
                    c.last().transitionEnd(function() {
                        b.finished()
                    }),
                    setTimeout(function() {
                        c.each(function(b, c) {
                            a(c).css({
                                opacity: "0"
                            }).css3({
                                transform: "scale(0.8)"
                            })
                        })
                    }, 50)
                }
            }, c))
        }
    }(a.jQuery || a.Zepto),
    function(a) {
        flux.transitions.cube = function(b, c) {
            return new flux.transition(b,a.extend({
                requires3d: !0,
                barWidth: 100,
                direction: "left",
                perspective: 1e3,
                setup: function() {
                    var b = this.slider.image1.width()
                      
                    
                    , 
                    c = this.slider.image1.height();
                    this.slider.image1.css3({
                        perspective: this.options.perspective,
                        "perspective-origin": "50% 50%"
                    }),
                    this.cubeContainer = a('<div class="cube"></div>').css({
                        width: b + "px",
                        height: c + "px",
                        position: "relative"
                    }).css3({
                        "transition-duration": "800ms",
                        "transition-timing-function": "linear",
                        "transition-property": "all",
                        "transform-style": "preserve-3d"
                    });
                    var d = {
                        height: "100%",
                        width: "100%",
                        position: "absolute",
                        top: "0px",
                        left: "0px"
                    }
                      
                    
                    , 
                    e = a('<div class="face current"></div>').css(a.extend(d, {
                        background: this.slider.image1.css("background"),
                        "background-size": this.slider.width + "px " + this.slider.height + "px"
                    })).css3({
                        "backface-visibility": "hidden"
                    });
                    this.cubeContainer.append(e);
                    var f = a('<div class="face next"></div>').css(a.extend(d, {
                        background: this.slider.image2.css("background-image")
                    })).css3({
                        transform: this.options.transitionStrings.call(this, this.options.direction, "nextFace"),
                        "backface-visibility": "hidden"
                    });
                    this.cubeContainer.append(f),
                    this.slider.image1.append(this.cubeContainer)
                },
                execute: function() {
                    var a = this;
                    this.slider.image1.width(),
                    this.slider.image1.height();
                    this.slider.image2.hide(),
                    this.cubeContainer.transitionEnd(function() {
                        a.slider.image2.show(),
                        a.finished()
                    }),
                    setTimeout(function() {
                        a.cubeContainer.css3({
                            transform: a.options.transitionStrings.call(a, a.options.direction, "container")
                        })
                    }, 50)
                },
                transitionStrings: function(a, b) {
                    var c = this.slider.image1.width()
                      
                    
                    , 
                    d = this.slider.image1.height()
                      
                    
                    , 
                    e = {
                        up: {
                            nextFace: flux.browser.rotateX(-90) + " " + flux.browser.translate(0, d / 2, d / 2),
                            container: flux.browser.rotateX(90) + " " + flux.browser.translate(0, -d / 2, d / 2)
                        },
                        down: {
                            nextFace: flux.browser.rotateX(90) + " " + flux.browser.translate(0, -d / 2, d / 2),
                            container: flux.browser.rotateX(-90) + " " + flux.browser.translate(0, d / 2, d / 2)
                        },
                        left: {
                            nextFace: flux.browser.rotateY(90) + " " + flux.browser.translate(c / 2, 0, c / 2),
                            container: flux.browser.rotateY(-90) + " " + flux.browser.translate(-c / 2, 0, c / 2)
                        },
                        right: {
                            nextFace: flux.browser.rotateY(-90) + " " + flux.browser.translate(-c / 2, 0, c / 2),
                            container: flux.browser.rotateY(90) + " " + flux.browser.translate(c / 2, 0, c / 2)
                        }
                    };
                    return e[a] && e[a][b] ? e[a][b] : !1
                }
            }, c))
        }
    }(a.jQuery || a.Zepto),
    function(a) {
        flux.transitions.tiles3d = function(b, c) {
            return new flux.transition_grid(b,a.extend({
                requires3d: !0,
                forceSquare: !0,
                columns: 5,
                perspective: 600,
                delayBetweenBarsX: 200,
                delayBetweenBarsY: 150,
                renderTile: function(b, c, d, e, f, g, h) {
                    var i = a("<div></div>").css({
                        width: e + "px",
                        height: f + "px",
                        position: "absolute",
                        top: "0px",
                        left: "0px",
                        background: this.slider.image1.css("background"),
                        "background-size": this.slider.width + "px " + this.slider.height + "px",
                        "background-position": "-" + g + "px -" + h + "px",
                        "background-repeat": "no-repeat",
                        "-moz-transform": "translateZ(1px)"
                    }).css3({
                        "backface-visibility": "hidden"
                    })
                      
                    
                    , 
                    j = a(i.get(0).cloneNode(!1)).css({
                        "background-image": this.slider.image2.css("background-image")
                    }).css3({
                        transform: flux.browser.rotateY(180),
                        "backface-visibility": "hidden"
                    });
                    a(b).css({
                        "z-index": (c > this.options.columns / 2 ? 500 - c : 500) + (d > this.options.rows / 2 ? 500 - d : 500)
                    }).css3({
                        "transition-duration": "800ms",
                        "transition-timing-function": "ease-out",
                        "transition-property": "all",
                        "transition-delay": c * this.options.delayBetweenBarsX + d * this.options.delayBetweenBarsY + "ms",
                        "transform-style": "preserve-3d"
                    }).append(i).append(j)
                },
                execute: function() {
                    this.slider.image1.css3({
                        perspective: this.options.perspective,
                        "perspective-origin": "50% 50%"
                    });
                    var a = this
                      
                    
                    , 
                    b = this.slider.image1.find("div.tile");
                    this.slider.image2.hide(),
                    b.last().transitionEnd(function(b) {
                        a.slider.image2.show(),
                        a.finished()
                    }),
                    setTimeout(function() {
                        b.css3({
                            transform: flux.browser.rotateY(180)
                        })
                    }, 50)
                }
            }, c))
        }
    }(a.jQuery || a.Zepto),
    function(a) {
        flux.transitions.turn = function(b, c) {
            return new flux.transition(b,a.extend({
                requires3d: !0,
                perspective: 1300,
                direction: "left",
                setup: function() {
                    var b = a('<div class="tab"></div>').css({
                        width: "50%",
                        height: "100%",
                        position: "absolute",
                        top: "0px",
                        left: "left" == this.options.direction ? "50%" : "0%",
                        "z-index": 101
                    }).css3({
                        "transform-style": "preserve-3d",
                        "transition-duration": "1000ms",
                        "transition-timing-function": "ease-out",
                        "transition-property": "all",
                        "transform-origin": "left" == this.options.direction ? "left center" : "right center"
                    })
                      
                    
                    , 
                    c = (a("<div></div>").appendTo(b).css({
                        background: this.slider.image1.css("background"),
                        "background-size": this.slider.width + "px " + this.slider.height + "px",
                        "background-position": ("left" == this.options.direction ? "-" + this.slider.image1.width() / 2 : 0) + "px 0",
                        width: "100%",
                        height: "100%",
                        position: "absolute",
                        top: "0",
                        left: "0",
                        "-moz-transform": "translateZ(1px)"
                    }).css3({
                        "backface-visibility": "hidden"
                    }),
                    a("<div></div>").appendTo(b).css({
                        background: this.slider.image2.css("background"),
                        "background-size": this.slider.width + "px " + this.slider.height + "px",
                        "background-position": ("left" == this.options.direction ? 0 : "-" + this.slider.image1.width() / 2) + "px 0",
                        width: "100%",
                        height: "100%",
                        position: "absolute",
                        top: "0",
                        left: "0"
                    }).css3({
                        transform: flux.browser.rotateY(180),
                        "backface-visibility": "hidden"
                    }),
                    a("<div></div>").css({
                        position: "absolute",
                        top: "0",
                        left: "left" == this.options.direction ? "0" : "50%",
                        width: "50%",
                        height: "100%",
                        background: this.slider.image1.css("background"),
                        "background-size": this.slider.width + "px " + this.slider.height + "px",
                        "background-position": ("left" == this.options.direction ? 0 : "-" + this.slider.image1.width() / 2) + "px 0",
                        "z-index": 100
                    }))
                      
                    
                    , 
                    d = a('<div class="overlay"></div>').css({
                        position: "absolute",
                        top: "0",
                        left: "left" == this.options.direction ? "50%" : "0",
                        width: "50%",
                        height: "100%",
                        background: "#000",
                        opacity: 1
                    }).css3({
                        "transition-duration": "800ms",
                        "transition-timing-function": "linear",
                        "transition-property": "opacity"
                    })
                      
                    
                    , 
                    e = a("<div></div>").css3({
                        width: "100%",
                        height: "100%"
                    }).css3({
                        perspective: this.options.perspective,
                        "perspective-origin": "50% 50%"
                    }).append(b).append(c).append(d);
                    this.slider.image1.append(e)
                },
                execute: function() {
                    var a = this;
                    this.slider.image1.find("div.tab").first().transitionEnd(function() {
                        a.finished()
                    }),
                    setTimeout(function() {
                        a.slider.image1.find("div.tab").css3({
                            transform: flux.browser.rotateY("left" == a.options.direction ? -179 : 179)
                        }),
                        a.slider.image1.find("div.overlay").css({
                            opacity: 0
                        })
                    }, 50)
                }
            }, c))
        }
    }(a.jQuery || a.Zepto),
    function(a) {
        flux.transitions.slide = function(b, c) {
            return new flux.transition(b,a.extend({
                direction: "left",
                setup: function() {
                    var b = this.slider.image1.width()
                      
                    
                    , 
                    c = this.slider.image1.height()
                      
                    
                    , 
                    d = a('<div class="current"></div>').css({
                        height: c + "px",
                        width: b + "px",
                        position: "absolute",
                        top: "0px",
                        left: "0px",
                        background: this.slider["left" == this.options.direction ? "image1" : "image2"].css("background")
                    }).css3({
                        "backface-visibility": "hidden"
                    })
                      
                    
                    , 
                    e = a('<div class="next"></div>').css({
                        height: c + "px",
                        width: b + "px",
                        position: "absolute",
                        top: "0px",
                        left: b + "px",
                        background: this.slider["left" == this.options.direction ? "image2" : "image1"].css("background")
                    }).css3({
                        "backface-visibility": "hidden"
                    });
                    this.slideContainer = a('<div class="slide"></div>').css({
                        width: 2 * b + "px",
                        height: c + "px",
                        position: "relative",
                        left: "left" == this.options.direction ? "0px" : -b + "px",
                        "z-index": 101
                    }).css3({
                        "transition-duration": "600ms",
                        "transition-timing-function": "ease-in",
                        "transition-property": "all"
                    }),
                    this.slideContainer.append(d).append(e),
                    this.slider.image1.append(this.slideContainer)
                },
                execute: function() {
                    var a = this
                      
                    
                    , 
                    b = this.slider.image1.width();
                    "left" == this.options.direction && (b = -b),
                    this.slideContainer.transitionEnd(function() {
                        a.finished()
                    }),
                    setTimeout(function() {
                        a.slideContainer.css3({
                            transform: flux.browser.translate(b)
                        })
                    }, 50)
                }
            }, c))
        }
    }(a.jQuery || a.Zepto),
    function(a) {
        flux.transitions.explode = function(b, d) {
            return new flux.transition_grid(b,a.extend({
                columns: 6,
                forceSquare: !0,
                delayBetweenBars: 30,
                perspective: 800,
                requires3d: !0,
                renderTile: function(b, d, e, f, g, h, i) {
                    var j = Math.floor(10 * Math.random() * this.options.delayBetweenBars);
                    a(b).css({
                        background: this.slider.image1.css("background"),
                        "background-size": this.slider.width + "px " + this.slider.height + "px",
                        "background-position": "-" + h + "px -" + i + "px"
                    }).css3({
                        "transition-duration": "500ms",
                        "transition-timing-function": "ease-in",
                        "transition-property": "all",
                        "transition-delay": j + "ms"
                    }),
                    this.maxDelay === c && (this.maxDelay = 0),
                    j > this.maxDelay && (this.maxDelay = j,
                    this.maxDelayTile = b)
                },
                execute: function() {
                    this.slider.image1.css3({
                        perspective: this.options.perspective,
                        "perspective-origin": "50% 50%"
                    }).css({
                        "-moz-transform": "perspective(" + this.options.perspective + "px)",
                        "-moz-perspective": "none",
                        "-moz-transform-style": "preserve-3d"
                    });
                    var b = this
                      
                    
                    , 
                    c = this.slider.image1.find("div.tile");
                    this.maxDelayTile.transitionEnd(function() {
                        b.slider.image1.css3({
                            "transform-style": "flat"
                        }),
                        b.finished()
                    }),
                    setTimeout(function() {
                        c.each(function(b, c) {
                            a(c).css({
                                opacity: "0"
                            }).css3({
                                transform: flux.browser.translate(0, 0, 700) + " rotate3d(" + (Math.round(2 * Math.random()) - 1) + ", " + (Math.round(2 * Math.random()) - 1) + ", " + (Math.round(2 * Math.random()) - 1) + ", 90deg) "
                            })
                        })
                    }, 50)
                }
            }, d))
        }
    }(a.jQuery || a.Zepto),
    function(a) {
        a.fn.qrcode = function(b) {
            "string" == typeof b && (b = {
                text: b
            }),
            b = a.extend({}, {
                render: "canvas",
                width: 256,
                height: 256,
                typeNumber: -1,
                correctLevel: l.H,
                background: "#ffffff",
                foreground: "#000000"
            }, b);
            var c = function() {
                var a = new e(b.typeNumber,b.correctLevel);
                a.addData(b.text),
                a.make();
                var c = document.createElement("canvas");
                c.width = b.width,
                c.height = b.height;
                for (var d = c.getContext("2d"), f = b.width / a.getModuleCount(), g = b.height / a.getModuleCount(), h = 0; h < a.getModuleCount(); h++)
                    for (var i = 0; i < a.getModuleCount(); i++) {
                        d.fillStyle = a.isDark(h, i) ? b.foreground : b.background;
                        var j = Math.ceil((i + 1) * f) - Math.floor(i * f)
                          
                        
                        , 
                        k = Math.ceil((h + 1) * f) - Math.floor(h * f);
                        d.fillRect(Math.round(i * f), Math.round(h * g), j, k)
                    }
                return c
            }
              
            
            , 
            d = function() {
                var c = new e(b.typeNumber,b.correctLevel);
                c.addData(b.text),
                c.make();
                for (var d = a("<table></table>").css("width", b.width + "px").css("height", b.height + "px").css("border", "0px").css("border-collapse", "collapse").css("background-color", b.background), f = b.width / c.getModuleCount(), g = b.height / c.getModuleCount(), h = 0; h < c.getModuleCount(); h++)
                    for (var i = a("<tr></tr>").css("height", g + "px").appendTo(d), j = 0; j < c.getModuleCount(); j++)
                        a("<td></td>").css("width", f + "px").css("background-color", c.isDark(h, j) ? b.foreground : b.background).appendTo(i);
                return d
            }
            ;
            return this.each(function() {
                var e = "canvas" == b.render ? c() : d();
                a(e).appendTo(this)
            })
        }
    }(jQuery),
    d.prototype = {
        getLength: function(a) {
            return this.data.length
        },
        write: function(a) {
            for (var b = 0; b < this.data.length; b++)
                a.put(this.data.charCodeAt(b), 8)
        }
    },
    e.prototype = {
        addData: function(a) {
            var b = new d(a);
            this.dataList.push(b),
            this.dataCache = null 
        },
        isDark: function(a, b) {
            if (0 > a || this.moduleCount <= a || 0 > b || this.moduleCount <= b)
                throw new Error(a + "," + b);
            return this.modules[a][b]
        },
        getModuleCount: function() {
            return this.moduleCount
        },
        make: function() {
            if (this.typeNumber < 1) {
                var a = 1;
                for (a = 1; 40 > a; a++) {
                    for (var b = g.getRSBlocks(a, this.errorCorrectLevel), c = new h, d = 0, e = 0; e < b.length; e++)
                        d += b[e].dataCount;
                    for (var e = 0; e < this.dataList.length; e++) {
                        var f = this.dataList[e];
                        c.put(f.mode, 4),
                        c.put(f.getLength(), n.getLengthInBits(f.mode, a)),
                        f.write(c)
                    }
                    if (c.getLengthInBits() <= 8 * d)
                        break
                }
                this.typeNumber = a
            }
            this.makeImpl(!1, this.getBestMaskPattern())
        },
        makeImpl: function(a, b) {
            this.moduleCount = 4 * this.typeNumber + 17,
            this.modules = new Array(this.moduleCount);
            for (var c = 0; c < this.moduleCount; c++) {
                this.modules[c] = new Array(this.moduleCount);
                for (var d = 0; d < this.moduleCount; d++)
                    this.modules[c][d] = null 
            }
            this.setupPositionProbePattern(0, 0),
            this.setupPositionProbePattern(this.moduleCount - 7, 0),
            this.setupPositionProbePattern(0, this.moduleCount - 7),
            this.setupPositionAdjustPattern(),
            this.setupTimingPattern(),
            this.setupTypeInfo(a, b),
            this.typeNumber >= 7 && this.setupTypeNumber(a),
            null  == this.dataCache && (this.dataCache = e.createData(this.typeNumber, this.errorCorrectLevel, this.dataList)),
            this.mapData(this.dataCache, b)
        },
        setupPositionProbePattern: function(a, b) {
            for (var c = -1; 7 >= c; c++)
                if (!(-1 >= a + c || this.moduleCount <= a + c))
                    for (var d = -1; 7 >= d; d++)
                        -1 >= b + d || this.moduleCount <= b + d || (c >= 0 && 6 >= c && (0 == d || 6 == d) || d >= 0 && 6 >= d && (0 == c || 6 == c) || c >= 2 && 4 >= c && d >= 2 && 4 >= d ? this.modules[a + c][b + d] = !0 : this.modules[a + c][b + d] = !1)
        },
        getBestMaskPattern: function() {
            for (var a = 0, b = 0, c = 0; 8 > c; c++) {
                this.makeImpl(!0, c);
                var d = n.getLostPoint(this);
                (0 == c || a > d) && (a = d,
                b = c)
            }
            return b
        },
        createMovieClip: function(a, b, c) {
            var d = a.createEmptyMovieClip(b, c)
              
            
            , 
            e = 1;
            this.make();
            for (var f = 0; f < this.modules.length; f++)
                for (var g = f * e, h = 0; h < this.modules[f].length; h++) {
                    var i = h * e
                      
                    
                    , 
                    j = this.modules[f][h];
                    j && (d.beginFill(0, 100),
                    d.moveTo(i, g),
                    d.lineTo(i + e, g),
                    d.lineTo(i + e, g + e),
                    d.lineTo(i, g + e),
                    d.endFill())
                }
            return d
        },
        setupTimingPattern: function() {
            for (var a = 8; a < this.moduleCount - 8; a++)
                null  == this.modules[a][6] && (this.modules[a][6] = a % 2 == 0);
            for (var b = 8; b < this.moduleCount - 8; b++)
                null  == this.modules[6][b] && (this.modules[6][b] = b % 2 == 0)
        },
        setupPositionAdjustPattern: function() {
            for (var a = n.getPatternPosition(this.typeNumber), b = 0; b < a.length; b++)
                for (var c = 0; c < a.length; c++) {
                    var d = a[b]
                      
                    
                    , 
                    e = a[c];
                    if (null  == this.modules[d][e])
                        for (var f = -2; 2 >= f; f++)
                            for (var g = -2; 2 >= g; g++)
                                -2 == f || 2 == f || -2 == g || 2 == g || 0 == f && 0 == g ? this.modules[d + f][e + g] = !0 : this.modules[d + f][e + g] = !1
                }
        },
        setupTypeNumber: function(a) {
            for (var b = n.getBCHTypeNumber(this.typeNumber), c = 0; 18 > c; c++) {
                var d = !a && 1 == (b >> c & 1);
                this.modules[Math.floor(c / 3)][c % 3 + this.moduleCount - 8 - 3] = d
            }
            for (var c = 0; 18 > c; c++) {
                var d = !a && 1 == (b >> c & 1);
                this.modules[c % 3 + this.moduleCount - 8 - 3][Math.floor(c / 3)] = d
            }
        },
        setupTypeInfo: function(a, b) {
            for (var c = this.errorCorrectLevel << 3 | b, d = n.getBCHTypeInfo(c), e = 0; 15 > e; e++) {
                var f = !a && 1 == (d >> e & 1);
                6 > e ? this.modules[e][8] = f : 8 > e ? this.modules[e + 1][8] = f : this.modules[this.moduleCount - 15 + e][8] = f
            }
            for (var e = 0; 15 > e; e++) {
                var f = !a && 1 == (d >> e & 1);
                8 > e ? this.modules[8][this.moduleCount - e - 1] = f : 9 > e ? this.modules[8][15 - e - 1 + 1] = f : this.modules[8][15 - e - 1] = f
            }
            this.modules[this.moduleCount - 8][8] = !a
        },
        mapData: function(a, b) {
            for (var c = -1, d = this.moduleCount - 1, e = 7, f = 0, g = this.moduleCount - 1; g > 0; g -= 2)
                for (6 == g && g--; ; ) {
                    for (var h = 0; 2 > h; h++)
                        if (null  == this.modules[d][g - h]) {
                            var i = !1;
                            f < a.length && (i = 1 == (a[f] >>> e & 1));
                            var j = n.getMask(b, d, g - h);
                            j && (i = !i),
                            this.modules[d][g - h] = i,
                            e--,
                            -1 == e && (f++,
                            e = 7)
                        }
                    if (d += c,
                    0 > d || this.moduleCount <= d) {
                        d -= c,
                        c = -c;
                        break
                    }
                }
        }
    },
    e.PAD0 = 236,
    e.PAD1 = 17,
    e.createData = function(a, b, c) {
        for (var d = g.getRSBlocks(a, b), f = new h, i = 0; i < c.length; i++) {
            var j = c[i];
            f.put(j.mode, 4),
            f.put(j.getLength(), n.getLengthInBits(j.mode, a)),
            j.write(f)
        }
        for (var k = 0, i = 0; i < d.length; i++)
            k += d[i].dataCount;
        if (f.getLengthInBits() > 8 * k)
            throw new Error("code length overflow. (" + f.getLengthInBits() + ">" + 8 * k + ")");
        for (f.getLengthInBits() + 4 <= 8 * k && f.put(0, 4); f.getLengthInBits() % 8 != 0; )
            f.putBit(!1);
        for (; ; ) {
            if (f.getLengthInBits() >= 8 * k)
                break;
            if (f.put(e.PAD0, 8),
            f.getLengthInBits() >= 8 * k)
                break;
            f.put(e.PAD1, 8)
        }
        return e.createBytes(f, d)
    }
    ,
    e.createBytes = function(a, b) {
        for (var c = 0, d = 0, e = 0, g = new Array(b.length), h = new Array(b.length), i = 0; i < b.length; i++) {
            var j = b[i].dataCount
              
            
            , 
            k = b[i].totalCount - j;
            d = Math.max(d, j),
            e = Math.max(e, k),
            g[i] = new Array(j);
            for (var l = 0; l < g[i].length; l++)
                g[i][l] = 255 & a.buffer[l + c];
            c += j;
            var m = n.getErrorCorrectPolynomial(k)
              
            
            , 
            o = new f(g[i],m.getLength() - 1)
              
            
            , 
            p = o.mod(m);
            h[i] = new Array(m.getLength() - 1);
            for (var l = 0; l < h[i].length; l++) {
                var q = l + p.getLength() - h[i].length;
                h[i][l] = q >= 0 ? p.get(q) : 0
            }
        }
        for (var r = 0, l = 0; l < b.length; l++)
            r += b[l].totalCount;
        for (var s = new Array(r), t = 0, l = 0; d > l; l++)
            for (var i = 0; i < b.length; i++)
                l < g[i].length && (s[t++] = g[i][l]);
        for (var l = 0; e > l; l++)
            for (var i = 0; i < b.length; i++)
                l < h[i].length && (s[t++] = h[i][l]);
        return s
    }
    ;
    for (var k = {
        MODE_NUMBER: 1,
        MODE_ALPHA_NUM: 2,
        MODE_8BIT_BYTE: 4,
        MODE_KANJI: 8
    }, l = {
        L: 1,
        M: 0,
        Q: 3,
        H: 2
    }, m = {
        PATTERN000: 0,
        PATTERN001: 1,
        PATTERN010: 2,
        PATTERN011: 3,
        PATTERN100: 4,
        PATTERN101: 5,
        PATTERN110: 6,
        PATTERN111: 7
    }, n = {
        PATTERN_POSITION_TABLE: [
        [], 
        [6, 18], 
        [6, 22], 
        [6, 26], 
        [6, 30], 
        [6, 34], 
        [6, 22, 38], 
        [6, 24, 42], 
        [6, 26, 46], 
        [6, 28, 50], 
        [6, 30, 54], 
        [6, 32, 58], 
        [6, 34, 62], 
        [6, 26, 46, 66], 
        [6, 26, 48, 70], 
        [6, 26, 50, 74], 
        [6, 30, 54, 78], 
        [6, 30, 56, 82], 
        [6, 30, 58, 86], 
        [6, 34, 62, 90], 
        [6, 28, 50, 72, 94], 
        [6, 26, 50, 74, 98], 
        [6, 30, 54, 78, 102], 
        [6, 28, 54, 80, 106], 
        [6, 32, 58, 84, 110], 
        [6, 30, 58, 86, 114], 
        [6, 34, 62, 90, 118], 
        [6, 26, 50, 74, 98, 122], 
        [6, 30, 54, 78, 102, 126], 
        [6, 26, 52, 78, 104, 130], 
        [6, 30, 56, 82, 108, 134], 
        [6, 34, 60, 86, 112, 138], 
        [6, 30, 58, 86, 114, 142], 
        [6, 34, 62, 90, 118, 146], 
        [6, 30, 54, 78, 102, 126, 150], 
        [6, 24, 50, 76, 102, 128, 154], 
        [6, 28, 54, 80, 106, 132, 158], 
        [6, 32, 58, 84, 110, 136, 162], 
        [6, 26, 54, 82, 110, 138, 166], 
        [6, 30, 58, 86, 114, 142, 170]
        ],
        G15: 1335,
        G18: 7973,
        G15_MASK: 21522,
        getBCHTypeInfo: function(a) {
            for (var b = a << 10; n.getBCHDigit(b) - n.getBCHDigit(n.G15) >= 0; )
                b ^= n.G15 << n.getBCHDigit(b) - n.getBCHDigit(n.G15);
            return (a << 10 | b) ^ n.G15_MASK
        },
        getBCHTypeNumber: function(a) {
            for (var b = a << 12; n.getBCHDigit(b) - n.getBCHDigit(n.G18) >= 0; )
                b ^= n.G18 << n.getBCHDigit(b) - n.getBCHDigit(n.G18);
            return a << 12 | b
        },
        getBCHDigit: function(a) {
            for (var b = 0; 0 != a; )
                b++,
                a >>>= 1;
            return b
        },
        getPatternPosition: function(a) {
            return n.PATTERN_POSITION_TABLE[a - 1]
        },
        getMask: function(a, b, c) {
            switch (a) {
            case m.PATTERN000:
                return (b + c) % 2 == 0;
            case m.PATTERN001:
                return b % 2 == 0;
            case m.PATTERN010:
                return c % 3 == 0;
            case m.PATTERN011:
                return (b + c) % 3 == 0;
            case m.PATTERN100:
                return (Math.floor(b / 2) + Math.floor(c / 3)) % 2 == 0;
            case m.PATTERN101:
                return b * c % 2 + b * c % 3 == 0;
            case m.PATTERN110:
                return (b * c % 2 + b * c % 3) % 2 == 0;
            case m.PATTERN111:
                return (b * c % 3 + (b + c) % 2) % 2 == 0;
            default:
                throw new Error("bad maskPattern:" + a)
            }
        },
        getErrorCorrectPolynomial: function(a) {
            for (var b = new f([1],0), c = 0; a > c; c++)
                b = b.multiply(new f([1, o.gexp(c)],0));
            return b
        },
        getLengthInBits: function(a, b) {
            if (b >= 1 && 10 > b)
                switch (a) {
                case k.MODE_NUMBER:
                    return 10;
                case k.MODE_ALPHA_NUM:
                    return 9;
                case k.MODE_8BIT_BYTE:
                    return 8;
                case k.MODE_KANJI:
                    return 8;
                default:
                    throw new Error("mode:" + a)
                }
            else if (27 > b)
                switch (a) {
                case k.MODE_NUMBER:
                    return 12;
                case k.MODE_ALPHA_NUM:
                    return 11;
                case k.MODE_8BIT_BYTE:
                    return 16;
                case k.MODE_KANJI:
                    return 10;
                default:
                    throw new Error("mode:" + a)
                }
            else {
                if (!(41 > b))
                    throw new Error("type:" + b);
                switch (a) {
                case k.MODE_NUMBER:
                    return 14;
                case k.MODE_ALPHA_NUM:
                    return 13;
                case k.MODE_8BIT_BYTE:
                    return 16;
                case k.MODE_KANJI:
                    return 12;
                default:
                    throw new Error("mode:" + a)
                }
            }
        },
        getLostPoint: function(a) {
            for (var b = a.getModuleCount(), c = 0, d = 0; b > d; d++)
                for (var e = 0; b > e; e++) {
                    for (var f = 0, g = a.isDark(d, e), h = -1; 1 >= h; h++)
                        if (!(0 > d + h || d + h >= b))
                            for (var i = -1; 1 >= i; i++)
                                0 > e + i || e + i >= b || (0 != h || 0 != i) && g == a.isDark(d + h, e + i) && f++;
                    f > 5 && (c += 3 + f - 5)
                }
            for (var d = 0; b - 1 > d; d++)
                for (var e = 0; b - 1 > e; e++) {
                    var j = 0;
                    a.isDark(d, e) && j++,
                    a.isDark(d + 1, e) && j++,
                    a.isDark(d, e + 1) && j++,
                    a.isDark(d + 1, e + 1) && j++,
                    (0 == j || 4 == j) && (c += 3)
                }
            for (var d = 0; b > d; d++)
                for (var e = 0; b - 6 > e; e++)
                    a.isDark(d, e) && !a.isDark(d, e + 1) && a.isDark(d, e + 2) && a.isDark(d, e + 3) && a.isDark(d, e + 4) && !a.isDark(d, e + 5) && a.isDark(d, e + 6) && (c += 40);
            for (var e = 0; b > e; e++)
                for (var d = 0; b - 6 > d; d++)
                    a.isDark(d, e) && !a.isDark(d + 1, e) && a.isDark(d + 2, e) && a.isDark(d + 3, e) && a.isDark(d + 4, e) && !a.isDark(d + 5, e) && a.isDark(d + 6, e) && (c += 40);
            for (var k = 0, e = 0; b > e; e++)
                for (var d = 0; b > d; d++)
                    a.isDark(d, e) && k++;
            var l = Math.abs(100 * k / b / b - 50) / 5;
            return c += 10 * l
        }
    }, o = {
        glog: function(a) {
            if (1 > a)
                throw new Error("glog(" + a + ")");
            return o.LOG_TABLE[a]
        },
        gexp: function(a) {
            for (; 0 > a; )
                a += 255;
            for (; a >= 256; )
                a -= 255;
            return o.EXP_TABLE[a]
        },
        EXP_TABLE: new Array(256),
        LOG_TABLE: new Array(256)
    }, p = 0; 8 > p; p++)
        o.EXP_TABLE[p] = 1 << p;
    for (var p = 8; 256 > p; p++)
        o.EXP_TABLE[p] = o.EXP_TABLE[p - 4] ^ o.EXP_TABLE[p - 5] ^ o.EXP_TABLE[p - 6] ^ o.EXP_TABLE[p - 8];
    for (var p = 0; 255 > p; p++)
        o.LOG_TABLE[o.EXP_TABLE[p]] = p;
    f.prototype = {
        get: function(a) {
            return this.num[a]
        },
        getLength: function() {
            return this.num.length
        },
        multiply: function(a) {
            for (var b = new Array(this.getLength() + a.getLength() - 1), c = 0; c < this.getLength(); c++)
                for (var d = 0; d < a.getLength(); d++)
                    b[c + d] ^= o.gexp(o.glog(this.get(c)) + o.glog(a.get(d)));
            return new f(b,0)
        },
        mod: function(a) {
            if (this.getLength() - a.getLength() < 0)
                return this;
            for (var b = o.glog(this.get(0)) - o.glog(a.get(0)), c = new Array(this.getLength()), d = 0; d < this.getLength(); d++)
                c[d] = this.get(d);
            for (var d = 0; d < a.getLength(); d++)
                c[d] ^= o.gexp(o.glog(a.get(d)) + b);
            return new f(c,0).mod(a)
        }
    },
    g.RS_BLOCK_TABLE = [
    [1, 26, 19], 
    [1, 26, 16], 
    [1, 26, 13], 
    [1, 26, 9], 
    [1, 44, 34], 
    [1, 44, 28], 
    [1, 44, 22], 
    [1, 44, 16], 
    [1, 70, 55], 
    [1, 70, 44], 
    [2, 35, 17], 
    [2, 35, 13], 
    [1, 100, 80], 
    [2, 50, 32], 
    [2, 50, 24], 
    [4, 25, 9], 
    [1, 134, 108], 
    [2, 67, 43], 
    [2, 33, 15, 2, 34, 16], 
    [2, 33, 11, 2, 34, 12], 
    [2, 86, 68], 
    [4, 43, 27], 
    [4, 43, 19], 
    [4, 43, 15], 
    [2, 98, 78], 
    [4, 49, 31], 
    [2, 32, 14, 4, 33, 15], 
    [4, 39, 13, 1, 40, 14], 
    [2, 121, 97], 
    [2, 60, 38, 2, 61, 39], 
    [4, 40, 18, 2, 41, 19], 
    [4, 40, 14, 2, 41, 15], 
    [2, 146, 116], 
    [3, 58, 36, 2, 59, 37], 
    [4, 36, 16, 4, 37, 17], 
    [4, 36, 12, 4, 37, 13], 
    [2, 86, 68, 2, 87, 69], 
    [4, 69, 43, 1, 70, 44], 
    [6, 43, 19, 2, 44, 20], 
    [6, 43, 15, 2, 44, 16], 
    [4, 101, 81], 
    [1, 80, 50, 4, 81, 51], 
    [4, 50, 22, 4, 51, 23], 
    [3, 36, 12, 8, 37, 13], 
    [2, 116, 92, 2, 117, 93], 
    [6, 58, 36, 2, 59, 37], 
    [4, 46, 20, 6, 47, 21], 
    [7, 42, 14, 4, 43, 15], 
    [4, 133, 107], 
    [8, 59, 37, 1, 60, 38], 
    [8, 44, 20, 4, 45, 21], 
    [12, 33, 11, 4, 34, 12], 
    [3, 145, 115, 1, 146, 116], 
    [4, 64, 40, 5, 65, 41], 
    [11, 36, 16, 5, 37, 17], 
    [11, 36, 12, 5, 37, 13], 
    [5, 109, 87, 1, 110, 88], 
    [5, 65, 41, 5, 66, 42], 
    [5, 54, 24, 7, 55, 25], 
    [11, 36, 12], 
    [5, 122, 98, 1, 123, 99], 
    [7, 73, 45, 3, 74, 46], 
    [15, 43, 19, 2, 44, 20], 
    [3, 45, 15, 13, 46, 16], 
    [1, 135, 107, 5, 136, 108], 
    [10, 74, 46, 1, 75, 47], 
    [1, 50, 22, 15, 51, 23], 
    [2, 42, 14, 17, 43, 15], 
    [5, 150, 120, 1, 151, 121], 
    [9, 69, 43, 4, 70, 44], 
    [17, 50, 22, 1, 51, 23], 
    [2, 42, 14, 19, 43, 15], 
    [3, 141, 113, 4, 142, 114], 
    [3, 70, 44, 11, 71, 45], 
    [17, 47, 21, 4, 48, 22], 
    [9, 39, 13, 16, 40, 14], 
    [3, 135, 107, 5, 136, 108], 
    [3, 67, 41, 13, 68, 42], 
    [15, 54, 24, 5, 55, 25], 
    [15, 43, 15, 10, 44, 16], 
    [4, 144, 116, 4, 145, 117], 
    [17, 68, 42], 
    [17, 50, 22, 6, 51, 23], 
    [19, 46, 16, 6, 47, 17], 
    [2, 139, 111, 7, 140, 112], 
    [17, 74, 46], 
    [7, 54, 24, 16, 55, 25], 
    [34, 37, 13], 
    [4, 151, 121, 5, 152, 122], 
    [4, 75, 47, 14, 76, 48], 
    [11, 54, 24, 14, 55, 25], 
    [16, 45, 15, 14, 46, 16], 
    [6, 147, 117, 4, 148, 118], 
    [6, 73, 45, 14, 74, 46], 
    [11, 54, 24, 16, 55, 25], 
    [30, 46, 16, 2, 47, 17], 
    [8, 132, 106, 4, 133, 107], 
    [8, 75, 47, 13, 76, 48], 
    [7, 54, 24, 22, 55, 25], 
    [22, 45, 15, 13, 46, 16], 
    [10, 142, 114, 2, 143, 115], 
    [19, 74, 46, 4, 75, 47], 
    [28, 50, 22, 6, 51, 23], 
    [33, 46, 16, 4, 47, 17], 
    [8, 152, 122, 4, 153, 123], 
    [22, 73, 45, 3, 74, 46], 
    [8, 53, 23, 26, 54, 24], 
    [12, 45, 15, 28, 46, 16], 
    [3, 147, 117, 10, 148, 118], 
    [3, 73, 45, 23, 74, 46], 
    [4, 54, 24, 31, 55, 25], 
    [11, 45, 15, 31, 46, 16], 
    [7, 146, 116, 7, 147, 117], 
    [21, 73, 45, 7, 74, 46], 
    [1, 53, 23, 37, 54, 24], 
    [19, 45, 15, 26, 46, 16], 
    [5, 145, 115, 10, 146, 116], 
    [19, 75, 47, 10, 76, 48], 
    [15, 54, 24, 25, 55, 25], 
    [23, 45, 15, 25, 46, 16], 
    [13, 145, 115, 3, 146, 116], 
    [2, 74, 46, 29, 75, 47], 
    [42, 54, 24, 1, 55, 25], 
    [23, 45, 15, 28, 46, 16], 
    [17, 145, 115], 
    [10, 74, 46, 23, 75, 47], 
    [10, 54, 24, 35, 55, 25], 
    [19, 45, 15, 35, 46, 16], 
    [17, 145, 115, 1, 146, 116], 
    [14, 74, 46, 21, 75, 47], 
    [29, 54, 24, 19, 55, 25], 
    [11, 45, 15, 46, 46, 16], 
    [13, 145, 115, 6, 146, 116], 
    [14, 74, 46, 23, 75, 47], 
    [44, 54, 24, 7, 55, 25], 
    [59, 46, 16, 1, 47, 17], 
    [12, 151, 121, 7, 152, 122], 
    [12, 75, 47, 26, 76, 48], 
    [39, 54, 24, 14, 55, 25], 
    [22, 45, 15, 41, 46, 16], 
    [6, 151, 121, 14, 152, 122], 
    [6, 75, 47, 34, 76, 48], 
    [46, 54, 24, 10, 55, 25], 
    [2, 45, 15, 64, 46, 16], 
    [17, 152, 122, 4, 153, 123], 
    [29, 74, 46, 14, 75, 47], 
    [49, 54, 24, 10, 55, 25], 
    [24, 45, 15, 46, 46, 16], 
    [4, 152, 122, 18, 153, 123], 
    [13, 74, 46, 32, 75, 47], 
    [48, 54, 24, 14, 55, 25], 
    [42, 45, 15, 32, 46, 16], 
    [20, 147, 117, 4, 148, 118], 
    [40, 75, 47, 7, 76, 48], 
    [43, 54, 24, 22, 55, 25], 
    [10, 45, 15, 67, 46, 16], 
    [19, 148, 118, 6, 149, 119], 
    [18, 75, 47, 31, 76, 48], 
    [34, 54, 24, 34, 55, 25], 
    [20, 45, 15, 61, 46, 16]
    ],
    g.getRSBlocks = function(a, b) {
        var d = g.getRsBlockTable(a, b);
        if (d == c)
            throw new Error("bad rs block @ typeNumber:" + a + "/errorCorrectLevel:" + b);
        for (var e = d.length / 3, f = new Array, h = 0; e > h; h++)
            for (var i = d[3 * h + 0], j = d[3 * h + 1], k = d[3 * h + 2], l = 0; i > l; l++)
                f.push(new g(j,k));
        return f
    }
    ,
    g.getRsBlockTable = function(a, b) {
        switch (b) {
        case l.L:
            return g.RS_BLOCK_TABLE[4 * (a - 1) + 0];
        case l.M:
            return g.RS_BLOCK_TABLE[4 * (a - 1) + 1];
        case l.Q:
            return g.RS_BLOCK_TABLE[4 * (a - 1) + 2];
        case l.H:
            return g.RS_BLOCK_TABLE[4 * (a - 1) + 3];
        default:
            return c
        }
    }
    ,
    h.prototype = {
        get: function(a) {
            var b = Math.floor(a / 8);
            return 1 == (this.buffer[b] >>> 7 - a % 8 & 1)
        },
        put: function(a, b) {
            for (var c = 0; b > c; c++)
                this.putBit(1 == (a >>> b - c - 1 & 1))
        },
        getLengthInBits: function() {
            return this.length
        },
        putBit: function(a) {
            var b = Math.floor(this.length / 8);
            this.buffer.length <= b && this.buffer.push(0),
            a && (this.buffer[b] |= 128 >>> this.length % 8),
            this.length++
        }
    },
    function(a) {
        a.fn.slides = function(b) {
            return b = a.extend({}, a.fn.slides.option, b),
            this.each(function() {
                function c() {
                    clearInterval(j.data("interval"))
                }
                function d() {
                    b.pause ? (clearTimeout(j.data("pause")),
                    clearInterval(j.data("interval")),
                    pauseTimeout = setTimeout(function() {
                        clearTimeout(j.data("pause")),
                        playInterval = setInterval(function() {
                            e("next", p)
                        }, b.play),
                        j.data("interval", playInterval)
                    }, b.pause),
                    j.data("pause", pauseTimeout)) : c()
                }
                function e(c, d, e) {
                    if (!g && f) {
                        switch (g = !0,
                        c) {
                        case "next":
                            s = u,
                            r = u + 1,
                            r = l === r ? 0 : r,
                            i = 2 * m,
                            c = 2 * -m,
                            u = r;
                            break;
                        case "prev":
                            s = u,
                            r = u - 1,
                            r = -1 === r ? l - 1 : r,
                            i = 0,
                            c = 0,
                            u = r;
                            break;
                        case "pagination":
                            r = parseInt(e, 10),
                            s = a("." + b.paginationClass + " li.current a", j).attr("rel"),
                            r > s ? (i = 2 * m,
                            c = 2 * -m) : (i = 0,
                            c = 0),
                            u = r
                        }
                        "fade" === d ? (b.animationStart(),
                        b.crossfade ? k.children(":eq(" + r + ")", j).css({
                            zIndex: 10
                        }).fadeIn(b.fadeSpeed, function() {
                            k.children(":eq(" + s + ")", j).css({
                                display: "none",
                                zIndex: 0
                            }),
                            a(this).css({
                                zIndex: 0
                            }),
                            b.animationComplete(r + 1),
                            g = !1
                        }) : (b.animationStart(),
                        k.children(":eq(" + s + ")", j).fadeOut(b.fadeSpeed, function() {
                            b.autoHeight ? k.animate({
                                height: k.children(":eq(" + r + ")", j).outerHeight()
                            }, b.autoHeightSpeed, function() {
                                k.children(":eq(" + r + ")", j).fadeIn(b.fadeSpeed)
                            }) : k.children(":eq(" + r + ")", j).fadeIn(b.fadeSpeed, function() {
                                a.browser.msie && a(this).get(0).style.removeAttribute("filter")
                            }),
                            b.animationComplete(r + 1),
                            g = !1
                        }))) : (k.children(":eq(" + r + ")").css({
                            left: i,
                            display: "block"
                        }),
                        b.autoHeight ? (b.animationStart(),
                        k.animate({
                            left: c,
                            height: k.children(":eq(" + r + ")").outerHeight()
                        }, b.slideSpeed, function() {
                            k.css({
                                left: -m
                            }),
                            k.children(":eq(" + r + ")").css({
                                left: m,
                                zIndex: 5
                            }),
                            k.children(":eq(" + s + ")").css({
                                left: m,
                                display: "none",
                                zIndex: 0
                            }),
                            b.animationComplete(r + 1),
                            g = !1
                        })) : (b.animationStart(),
                        k.animate({
                            left: c
                        }, b.slideSpeed, function() {
                            k.css({
                                left: -m
                            }),
                            k.children(":eq(" + r + ")").css({
                                left: m,
                                zIndex: 5
                            }),
                            k.children(":eq(" + s + ")").css({
                                left: m,
                                display: "none",
                                zIndex: 0
                            }),
                            b.animationComplete(r + 1),
                            g = !1
                        }))),
                        b.pagination && (a("." + b.paginationClass + " li.current", j).removeClass("current"),
                        a("." + b.paginationClass + " li a:eq(" + r + ")", j).parent().addClass("current"))
                    }
                }
                a("." + b.container, a(this)).children().wrapAll('<div class="slides_control"/>');
                var f, g, h, i, j = a(this), 
                k = a(".slides_control", j), 
                l = k.children().size(), 
                m = k.children().outerWidth(), 
                n = k.children().outerHeight(), 
                o = b.start - 1, 
                p = b.effect.indexOf(",") < 0 ? b.effect : b.effect.replace(" ", "").split(",")[0], 
                q = b.effect.indexOf(",") < 0 ? p : b.effect.replace(" ", "").split(",")[1], 
                r = 0, 
                s = 0, 
                t = 0, 
                u = 0;
                if (!(2 > l)) {
                    if (0 > o && (o = 0),
                    o > l && (o = l - 1),
                    b.start && (u = o),
                    b.randomize && k.randomize(),
                    a("." + b.container, j).css({
                        overflow: "hidden",
                        position: "relative"
                    }),
                    k.css({
                        position: "relative",
                        width: 3 * m,
                        height: n,
                        left: -m
                    }),
                    k.children().css({
                        position: "absolute",
                        top: 0,
                        left: m,
                        zIndex: 0,
                        display: "none"
                    }),
                    b.autoHeight && k.animate({
                        height: k.children(":eq(" + o + ")").outerHeight()
                    }, b.autoHeightSpeed),
                    b.preload && "IMG" == k.children()[0].tagName) {
                        j.css({
                            background: "url(" + b.preloadImage + ") no-repeat 50% 50%"
                        });
                        var v = a("img:eq(" + o + ")", j).attr("src") + "?" + (new Date).getTime();
                        a("img:eq(" + o + ")", j).attr("src", v).load(function() {
                            a(this).fadeIn(b.fadeSpeed, function() {
                                a(this).css({
                                    zIndex: 5
                                }),
                                j.css({
                                    background: ""
                                }),
                                f = !0
                            })
                        })
                    } else
                        k.children(":eq(" + o + ")").fadeIn(b.fadeSpeed, function() {
                            f = !0
                        });
                    b.bigTarget && (k.children().css({
                        cursor: "pointer"
                    }),
                    k.children().click(function() {
                        return e("next", p),
                        !1
                    })),
                    b.hoverPause && b.play && (k.children().bind("mouseover", function() {
                        c()
                    }),
                    k.children().bind("mouseleave", function() {
                        d()
                    })),
                    b.generateNextPrev && (a("." + b.container, j).after('<a href="#" class="' + b.prev + '">Prev</a>'),
                    a("." + b.prev, j).after('<a href="#" class="' + b.next + '">Next</a>')),
                    a("." + b.next, j).click(function(a) {
                        a.preventDefault(),
                        b.play && d(),
                        e("next", p)
                    }),
                    a("." + b.prev, j).click(function(a) {
                        a.preventDefault(),
                        b.play && d(),
                        e("prev", p)
                    }),
                    b.generatePagination ? (j.append("<ul class=" + b.paginationClass + "></ul>"),
                    k.children().each(function() {
                        a("." + b.paginationClass, j).append("<li><a rel=" + t + ' href="#">' + (t + 1) + "</a></li>"),
                        t++
                    })) : a("." + b.paginationClass + " li a", j).each(function() {
                        a(this).attr("rel", t),
                        t++
                    }),
                    a("." + b.paginationClass + " li a:eq(" + o + ")", j).parent().addClass("current"),
                    a("." + b.paginationClass + " li a", j).click(function() {
                        return b.play && d(),
                        h = a(this).attr("rel"),
                        u != h && e("pagination", q, h),
                        !1
                    }),
                    b.play && (playInterval = setInterval(function() {
                        e("next", p)
                    }, b.play),
                    j.data("interval", playInterval))
                }
            })
        }
        ,
        a.fn.slides.option = {
            preload: !1,
            preloadImage: "/img/loading.gif",
            container: "slides_container",
            generateNextPrev: !1,
            next: "next",
            prev: "prev",
            pagination: !0,
            generatePagination: !0,
            paginationClass: "pagination",
            fadeSpeed: 350,
            slideSpeed: 350,
            start: 1,
            effect: "slide",
            crossfade: !1,
            randomize: !1,
            play: 0,
            pause: 0,
            hoverPause: !1,
            autoHeight: !1,
            autoHeightSpeed: 350,
            bigTarget: !1,
            animationStart: function() {},
            animationComplete: function() {}
        },
        a.fn.randomize = function(b) {
            function d() {
                return Math.round(Math.random()) - .5
            }
            return a(this).each(function() {
                var e = a(this)
                  
                
                , 
                f = e.children()
                  
                
                , 
                g = f.length;
                if (g > 1) {
                    f.hide();
                    var h = [];
                    for (p = 0; g > p; p++)
                        h[h.length] = p;
                    h = h.sort(d),
                    a.each(h, function(a, d) {
                        var g = f.eq(d)
                          
                        
                        , 
                        h = g.clone(!0);
                        h.show().appendTo(e),
                        b !== c && b(g, h),
                        g.remove()
                    })
                }
            })
        }
    }(jQuery),
    function() {
        a.eqxiuSvg = {
            NAMESPACE: "http://www.w3.org/2000/svg",
            SYMBOLS: {
                bolt: '<path d="M32 0l-24 16 6 4-14 12 24-12-6-4z"></path>',
                camera: '<path d="M16 20c0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.209-1.791 4-4 4-2.209 0-4-1.791-4-4zM28 8l-3.289-6.643c-0.27-0.789-1.016-1.357-1.899-1.357h-5.492c-0.893 0-1.646 0.582-1.904 1.385l-3.412 6.615h-8.004c-2.209 0-4 1.791-4 4v20h32v-20c0-2.209-1.789-4-4-4zM6 16c-1.105 0-2-0.895-2-2s0.895-2 2-2 2 0.895 2 2-0.895 2-2 2zM20 28c-4.418 0-8-3.582-8-8s3.582-8 8-8 8 3.582 8 8-3.582 8-8 8z"></path>',
                "checkmark-circle": '<path d="M16 0c-8.836 0-16 7.164-16 16s7.164 16 16 16 16-7.164 16-16-7.164-16-16-16zM13.52 23.383l-7.362-7.363 2.828-2.828 4.533 4.535 9.617-9.617 2.828 2.828-12.444 12.445z"></path>',
                clock: '<path d="M16 4c6.617 0 12 5.383 12 12s-5.383 12-12 12-12-5.383-12-12 5.383-12 12-12zM16 0c-8.836 0-16 7.164-16 16s7.164 16 16 16 16-7.164 16-16-7.164-16-16-16v0zM21.422 18.578l-3.422-3.426v-7.152h-4.023v7.992c0 0.602 0.277 1.121 0.695 1.492l3.922 3.922 2.828-2.828z"></path>',
                cloud: '<path d="M24 10c-0.379 0-0.738 0.061-1.102 0.111-1.394-2.465-3.972-4.111-6.898-4.111-2.988 0-5.566 1.666-6.941 4.1-0.352-0.047-0.704-0.1-1.059-0.1-4.41 0-8 3.588-8 8 0 4.414 3.59 8 8 8h16c4.41 0 8-3.586 8-8 0-4.412-3.59-8-8-8zM24 22h-16c-2.207 0-4-1.797-4-4 0-2.193 1.941-3.885 4.004-3.945 0.008 0.943 0.172 1.869 0.5 2.744l3.746-1.402c-0.168-0.444-0.25-0.915-0.25-1.397 0-2.205 1.793-4 4-4 1.293 0 2.465 0.641 3.199 1.639-1.929 1.461-3.199 3.756-3.199 6.361h4c0-2.205 1.793-4 4-4s4 1.795 4 4c0 2.203-1.793 4-4 4z"></path>',
                cog: '<path d="M32 17.969v-4l-4.781-1.992c-0.133-0.375-0.273-0.738-0.445-1.094l1.93-4.805-2.829-2.828-4.762 1.961c-0.363-0.176-0.734-0.324-1.117-0.461l-2.027-4.75h-4l-1.977 4.734c-0.398 0.141-0.781 0.289-1.16 0.469l-4.754-1.91-2.828 2.828 1.938 4.711c-0.188 0.387-0.34 0.781-0.485 1.188l-4.703 2.011v4l4.707 1.961c0.145 0.406 0.301 0.801 0.488 1.188l-1.902 4.742 2.828 2.828 4.723-1.945c0.379 0.18 0.766 0.324 1.164 0.461l2.023 4.734h4l1.98-4.758c0.379-0.141 0.754-0.289 1.113-0.461l4.797 1.922 2.828-2.828-1.969-4.773c0.168-0.359 0.305-0.723 0.438-1.094l4.782-2.039zM15.969 22c-3.312 0-6-2.688-6-6s2.688-6 6-6 6 2.688 6 6-2.688 6-6 6z"></path>',
                denied: '<path d="M16 0c-8.836 0-16 7.164-16 16s7.164 16 16 16 16-7.164 16-16-7.164-16-16-16zM16 4c2.59 0 4.973 0.844 6.934 2.242l-16.696 16.688c-1.398-1.961-2.238-4.344-2.238-6.93 0-6.617 5.383-12 12-12zM16 28c-2.59 0-4.973-0.844-6.934-2.242l16.696-16.688c1.398 1.961 2.238 4.344 2.238 6.93 0 6.617-5.383 12-12 12z"></path>',
                earth: '<path d="M27.314 4.686c3.022 3.022 4.686 7.040 4.686 11.314s-1.664 8.292-4.686 11.314c-3.022 3.022-7.040 4.686-11.314 4.686s-8.292-1.664-11.314-4.686c-3.022-3.022-4.686-7.040-4.686-11.314s1.664-8.292 4.686-11.314c3.022-3.022 7.040-4.686 11.314-4.686s8.292 1.664 11.314 4.686zM25.899 25.9c1.971-1.971 3.281-4.425 3.821-7.096-0.421 0.62-0.824 0.85-1.073-0.538-0.257-2.262-2.335-0.817-3.641-1.621-1.375 0.927-4.466-1.802-3.941 1.276 0.81 1.388 4.375-1.858 2.598 1.079-1.134 2.050-4.145 6.592-3.753 8.946 0.049 3.43-3.504 0.715-4.729-0.422-0.824-2.279-0.281-6.262-2.434-7.378-2.338-0.102-4.344-0.314-5.25-2.927-0.545-1.87 0.58-4.653 2.584-5.083 2.933-1.843 3.98 2.158 6.731 2.232 0.854-0.894 3.182-1.178 3.375-2.18-1.805-0.318 2.29-1.517-0.173-2.199-1.358 0.16-2.234 1.409-1.512 2.467-2.632 0.614-2.717-3.809-5.247-2.414-0.064 2.206-4.132 0.715-1.407 0.268 0.936-0.409-1.527-1.594-0.196-1.379 0.654-0.036 2.854-0.807 2.259-1.325 1.225-0.761 2.255 1.822 3.454-0.059 0.866-1.446-0.363-1.713-1.448-0.98-0.612-0.685 1.080-2.165 2.573-2.804 0.497-0.213 0.973-0.329 1.336-0.296 0.752 0.868 2.142 1.019 2.215-0.104-1.862-0.892-3.915-1.363-6.040-1.363-3.051 0-5.952 0.969-8.353 2.762 0.645 0.296 1.012 0.664 0.39 1.134-0.483 1.439-2.443 3.371-4.163 3.098-0.893 1.54-1.482 3.238-1.733 5.017 1.441 0.477 1.773 1.42 1.464 1.736-0.734 0.64-1.185 1.548-1.418 2.541 0.469 2.87 1.818 5.515 3.915 7.612 2.644 2.644 6.16 4.1 9.899 4.1s7.255-1.456 9.899-4.1z"></path>',
                eye: '<path d="M16 4c-8.836 0-16 11.844-16 11.844s7.164 12.156 16 12.156 16-12.156 16-12.156-7.164-11.844-16-11.844zM16 24c-4.418 0-8-3.582-8-8s3.582-8 8-8 8 3.582 8 8-3.582 8-8 8zM12 16c0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.209-1.791 4-4 4-2.209 0-4-1.791-4-4z"></path>',
                facebook: '<path d="M17.996 32h-5.996v-16h-4v-5.514l4-0.002-0.007-3.248c0-4.498 1.22-7.236 6.519-7.236h4.412v5.515h-2.757c-2.064 0-2.163 0.771-2.163 2.209l-0.008 2.76h4.959l-0.584 5.514-4.37 0.002-0.004 16z"></path>',
                fork: '<path d="M20 0v3.875c0 1.602-0.625 3.109-1.754 4.238l-11.316 11.254c-1.789 1.785-2.774 4.129-2.883 6.633h-4.047l6 6 6-6h-3.957c0.105-1.438 0.684-2.773 1.711-3.805l11.316-11.25c1.891-1.89 2.93-4.398 2.93-7.070v-3.875h-4zM23.953 26c-0.109-2.504-1.098-4.848-2.887-6.641l-2.23-2.215-2.836 2.821 2.242 2.23c1.031 1.027 1.609 2.367 1.715 3.805h-3.957l6 6 6-6h-4.047z"></path>',
                globe: '<path d="M15 2c-8.284 0-15 6.716-15 15s6.716 15 15 15c8.284 0 15-6.716 15-15s-6.716-15-15-15zM23.487 22c0.268-1.264 0.437-2.606 0.492-4h3.983c-0.104 1.381-0.426 2.722-0.959 4h-3.516zM6.513 12c-0.268 1.264-0.437 2.606-0.492 4h-3.983c0.104-1.381 0.426-2.722 0.959-4h3.516zM21.439 12c0.3 1.28 0.481 2.62 0.54 4h-5.979v-4h5.439zM16 10v-5.854c0.456 0.133 0.908 0.355 1.351 0.668 0.831 0.586 1.625 1.488 2.298 2.609 0.465 0.775 0.867 1.638 1.203 2.578h-4.852zM10.351 7.422c0.673-1.121 1.467-2.023 2.298-2.609 0.443-0.313 0.895-0.535 1.351-0.668v5.854h-4.852c0.336-0.94 0.738-1.803 1.203-2.578zM14 12v4h-5.979c0.059-1.38 0.24-2.72 0.54-4h5.439zM2.997 22c-0.533-1.278-0.854-2.619-0.959-4h3.983c0.055 1.394 0.224 2.736 0.492 4h-3.516zM8.021 18h5.979v4h-5.439c-0.3-1.28-0.481-2.62-0.54-4zM14 24v5.854c-0.456-0.133-0.908-0.355-1.351-0.668-0.831-0.586-1.625-1.488-2.298-2.609-0.465-0.775-0.867-1.638-1.203-2.578h4.852zM19.649 26.578c-0.673 1.121-1.467 2.023-2.298 2.609-0.443 0.312-0.895 0.535-1.351 0.668v-5.854h4.852c-0.336 0.94-0.738 1.802-1.203 2.578zM16 22v-4h5.979c-0.059 1.38-0.24 2.72-0.54 4h-5.439zM23.98 16c-0.055-1.394-0.224-2.736-0.492-4h3.516c0.533 1.278 0.855 2.619 0.959 4h-3.983zM25.958 10h-2.997c-0.582-1.836-1.387-3.447-2.354-4.732 1.329 0.636 2.533 1.488 3.585 2.54 0.671 0.671 1.261 1.404 1.766 2.192zM5.808 7.808c1.052-1.052 2.256-1.904 3.585-2.54-0.967 1.285-1.771 2.896-2.354 4.732h-2.997c0.504-0.788 1.094-1.521 1.766-2.192zM4.042 24h2.997c0.583 1.836 1.387 3.447 2.354 4.732-1.329-0.636-2.533-1.488-3.585-2.54-0.671-0.671-1.261-1.404-1.766-2.192zM24.192 26.192c-1.052 1.052-2.256 1.904-3.585 2.54 0.967-1.285 1.771-2.896 2.354-4.732h2.997c-0.504 0.788-1.094 1.521-1.766 2.192z"></path>',
                happy: '<path d="M16 32c8.837 0 16-7.163 16-16s-7.163-16-16-16-16 7.163-16 16 7.163 16 16 16zM16 3c7.18 0 13 5.82 13 13s-5.82 13-13 13-13-5.82-13-13 5.82-13 13-13zM16 18.711c3.623 0 7.070-0.963 10-2.654-0.455 5.576-4.785 9.942-10 9.942-5.215 0-9.544-4.371-10-9.947 2.93 1.691 6.377 2.658 10 2.658zM8 11c0-1.657 0.895-3 2-3s2 1.343 2 3c0 1.657-0.895 3-2 3-1.105 0-2-1.343-2-3zM20 11c0-1.657 0.895-3 2-3s2 1.343 2 3c0 1.657-0.895 3-2 3-1.105 0-2-1.343-2-3z"></path>',
                "heart-fill": '<path d="M16 5.844c-1.613-2.266-4.129-3.844-7.113-3.844-4.903 0-8.887 3.992-8.887 8.891v0.734l16.008 18.375 15.992-18.375v-0.734c0-4.899-3.984-8.891-8.887-8.891-2.984 0-5.5 1.578-7.113 3.844z"></path>',
                "heart-stroke": '<path d="M23.113 6c2.457 0 4.492 1.82 4.836 4.188l-11.945 13.718-11.953-13.718c0.344-2.368 2.379-4.188 4.836-4.188 2.016 0 3.855 2.164 3.855 2.164l3.258 3.461 3.258-3.461c0 0 1.84-2.164 3.855-2.164zM23.113 2c-2.984 0-5.5 1.578-7.113 3.844-1.613-2.266-4.129-3.844-7.113-3.844-4.903 0-8.887 3.992-8.887 8.891v0.734l16.008 18.375 15.992-18.375v-0.734c0-4.899-3.984-8.891-8.887-8.891v0z"></path>',
                home: '<path d="M16 0l-16 16h4v16h24v-16h4l-16-16zM24 28h-6v-6h-4v6h-6v-14.344l8-5.656 8 5.656v14.344z"></path>',
                iphone: '<path d="M16 0h-8c-4.418 0-8 3.582-8 8v16c0 4.418 3.582 8 8 8h8c4.418 0 8-3.582 8-8v-16c0-4.418-3.582-8-8-8zM12 30.062c-1.139 0-2.062-0.922-2.062-2.062s0.924-2.062 2.062-2.062 2.062 0.922 2.062 2.062-0.923 2.062-2.062 2.062zM20 24h-16v-16c0-2.203 1.795-4 4-4h8c2.203 0 4 1.797 4 4v16z"></path>',
                lock: '<path d="M14 0c-5.508 0-9.996 4.484-9.996 10v2h-4.004v14c0 3.309 2.691 6 6 6h12c3.309 0 6-2.691 6-6v-16c0-5.516-4.488-10-10-10zM11.996 24c-1.101 0-1.996-0.895-1.996-2s0.895-2 1.996-2c1.105 0 2 0.895 2 2s-0.894 2-2 2zM20 12h-11.996v-2c0-3.309 2.691-6 5.996-6 3.309 0 6 2.691 6 6v2z"></path>',
                mail: '<path d="M15.996 15.457l16.004-7.539v-3.918h-32v3.906zM16.004 19.879l-16.004-7.559v15.68h32v-15.656z"></path>',
                "minus-circle": '<path d="M16 0c-8.836 0-16 7.164-16 16s7.164 16 16 16 16-7.164 16-16-7.164-16-16-16zM24 18h-16v-4h16v4z"></path>',
                moon: '<path d="M24.633 22.184c-8.188 0-14.82-6.637-14.82-14.82 0-2.695 0.773-5.188 2.031-7.363-6.824 1.968-11.844 8.187-11.844 15.644 0 9.031 7.32 16.355 16.352 16.355 7.457 0 13.68-5.023 15.648-11.844-2.18 1.254-4.672 2.028-7.367 2.028z"></path>',
                paperclip: '<path d="M17.293 15.292l-2.829-2.829-4 4c-1.953 1.953-1.953 5.119 0 7.071 1.953 1.953 5.118 1.953 7.071 0l10.122-9.879c3.123-3.124 3.123-8.188 0-11.313-3.125-3.124-8.19-3.124-11.313 0l-11.121 10.88c-4.296 4.295-4.296 11.26 0 15.557 4.296 4.296 11.261 4.296 15.556 0l6-6-2.829-2.829-5.999 6c-2.733 2.732-7.166 2.732-9.9 0-2.733-2.732-2.733-7.166 0-9.899l11.121-10.881c1.562-1.562 4.095-1.562 5.656 0 1.563 1.563 1.563 4.097 0 5.657l-10.121 9.879c-0.391 0.391-1.023 0.391-1.414 0s-0.391-1.023 0-1.414l4-4z"></path>',
                pin: '<path d="M17.070 2.93c-3.906-3.906-10.234-3.906-14.141 0-3.906 3.904-3.906 10.238 0 14.14 0.001 0 7.071 6.93 7.071 14.93 0-8 7.070-14.93 7.070-14.93 3.907-3.902 3.907-10.236 0-14.14zM10 14c-2.211 0-4-1.789-4-4s1.789-4 4-4 4 1.789 4 4-1.789 4-4 4z"></path>',
                "plus-circle": '<path d="M16 0c-8.836 0-16 7.164-16 16s7.164 16 16 16 16-7.164 16-16-7.164-16-16-16zM24 18h-6v6h-4v-6h-6v-4h6v-6h4v6h6v4z"></path>',
                rain: '<path d="M23.998 6c-0.375 0-0.733 0.061-1.103 0.111-1.389-2.465-3.969-4.111-6.895-4.111-2.987 0-5.565 1.666-6.94 4.1-0.353-0.047-0.705-0.1-1.060-0.1-4.41 0-8 3.588-8 8s3.59 8 8 8h15.998c4.414 0 8-3.588 8-8s-3.586-8-8-8zM23.998 18h-15.998c-2.207 0-4-1.795-4-4 0-2.193 1.941-3.885 4.004-3.945 0.009 0.943 0.172 1.869 0.5 2.744l3.746-1.402c-0.168-0.444-0.25-0.915-0.25-1.397 0-2.205 1.793-4 4-4 1.293 0 2.465 0.641 3.199 1.639-1.928 1.461-3.199 3.756-3.199 6.361h4c0-2.205 1.795-4 3.998-4 2.211 0 4 1.795 4 4s-1.789 4-4 4zM3.281 29.438c-0.75 0.75-1.969 0.75-2.719 0s-0.75-1.969 0-2.719 5.438-2.719 5.438-2.719-1.969 4.688-2.719 5.438zM11.285 29.438c-0.75 0.75-1.965 0.75-2.719 0-0.75-0.75-0.75-1.969 0-2.719 0.754-0.75 5.438-2.719 5.438-2.719s-1.965 4.688-2.719 5.438zM19.28 29.438c-0.75 0.75-1.969 0.75-2.719 0s-0.75-1.969 0-2.719 5.437-2.719 5.437-2.719-1.968 4.688-2.718 5.438z"></path>',
                ribbon: '<path d="M8 20c-1.41 0-2.742-0.289-4-0.736v12.736l4-4 4 4v-12.736c-1.258 0.447-2.59 0.736-4 0.736zM0 8c0-4.418 3.582-8 8-8s8 3.582 8 8c0 4.418-3.582 8-8 8-4.418 0-8-3.582-8-8z"></path>',
                sad: '<path d="M16 32c8.837 0 16-7.163 16-16s-7.163-16-16-16-16 7.163-16 16 7.163 16 16 16zM16 3c7.18 0 13 5.82 13 13s-5.82 13-13 13-13-5.82-13-13 5.82-13 13-13zM8 10c0-1.105 0.895-2 2-2s2 0.895 2 2c0 1.105-0.895 2-2 2-1.105 0-2-0.895-2-2zM20 10c0-1.105 0.895-2 2-2s2 0.895 2 2c0 1.105-0.895 2-2 2-1.105 0-2-0.895-2-2zM9.997 24.398l-2.573-1.544c1.749-2.908 4.935-4.855 8.576-4.855 3.641 0 6.827 1.946 8.576 4.855l-2.573 1.544c-1.224-2.036-3.454-3.398-6.003-3.398-2.549 0-4.779 1.362-6.003 3.398z"></path>',
                smiley: '<path d="M16 32c8.837 0 16-7.163 16-16s-7.163-16-16-16-16 7.163-16 16 7.163 16 16 16zM16 3c7.18 0 13 5.82 13 13s-5.82 13-13 13-13-5.82-13-13 5.82-13 13-13zM8 10c0-1.105 0.895-2 2-2s2 0.895 2 2c0 1.105-0.895 2-2 2-1.105 0-2-0.895-2-2zM20 10c0-1.105 0.895-2 2-2s2 0.895 2 2c0 1.105-0.895 2-2 2-1.105 0-2-0.895-2-2zM22.003 19.602l2.573 1.544c-1.749 2.908-4.935 4.855-8.576 4.855s-6.827-1.946-8.576-4.855l2.573-1.544c1.224 2.036 3.454 3.398 6.003 3.398s4.779-1.362 6.003-3.398z"></path>',
                star: '<path d="M22.137 19.625l9.863-7.625h-12l-4-12-4 12h-12l9.875 7.594-3.875 12.406 10.016-7.68 9.992 7.68z"></path>',
                sun: '<path d="M16.001 8c-4.418 0-8 3.582-8 8s3.582 8 8 8c4.418 0 7.999-3.582 7.999-8s-3.581-8-7.999-8v0zM14 2c0-1.105 0.895-2 2-2s2 0.895 2 2c0 1.105-0.895 2-2 2-1.105 0-2-0.895-2-2zM4 6c0-1.105 0.895-2 2-2s2 0.895 2 2c0 1.105-0.895 2-2 2-1.105 0-2-0.895-2-2zM2 14c1.105 0 2 0.895 2 2 0 1.107-0.895 2-2 2s-2-0.893-2-2c0-1.105 0.895-2 2-2zM4 26c0-1.105 0.895-2 2-2s2 0.895 2 2c0 1.105-0.895 2-2 2-1.105 0-2-0.895-2-2zM14 30c0-1.109 0.895-2 2-2 1.108 0 2 0.891 2 2 0 1.102-0.892 2-2 2-1.105 0-2-0.898-2-2zM24 26c0-1.105 0.895-2 2-2s2 0.895 2 2c0 1.105-0.895 2-2 2-1.105 0-2-0.895-2-2zM30 18c-1.104 0-2-0.896-2-2 0-1.107 0.896-2 2-2s2 0.893 2 2c0 1.104-0.896 2-2 2zM24 6c0-1.105 0.895-2 2-2s2 0.895 2 2c0 1.105-0.895 2-2 2-1.105 0-2-0.895-2-2z"></path>',
                "thin-arrow-down": '<path d="M4.586 19.414l10 10c0.781 0.781 2.047 0.781 2.828 0l10-10c0.781-0.781 0.781-2.047 0-2.828s-2.047-0.781-2.828 0l-6.586 6.586v-19.172c0-1.105-0.895-2-2-2s-2 0.895-2 2v19.172l-6.586-6.586c-0.391-0.39-0.902-0.586-1.414-0.586s-1.024 0.195-1.414 0.586c-0.781 0.781-0.781 2.047 0 2.828z"></path>',
                "thin-arrow-down-left": '<path d="M18 28c1.105 0 2-0.895 2-2s-0.895-2-2-2h-7.172l16.586-16.586c0.781-0.781 0.781-2.047 0-2.828-0.391-0.391-0.902-0.586-1.414-0.586s-1.024 0.195-1.414 0.586l-16.586 16.586v-7.172c0-1.105-0.895-2-2-2s-2 0.895-2 2v14h14z"></path>',
                "thin-arrow-down-right": '<path d="M28 14c0-1.105-0.895-2-2-2s-2 0.895-2 2v7.172l-16.586-16.586c-0.781-0.781-2.047-0.781-2.828 0-0.391 0.391-0.586 0.902-0.586 1.414s0.195 1.024 0.586 1.414l16.586 16.586h-7.172c-1.105 0-2 0.895-2 2s0.895 2 2 2h14v-14z"></path>',
                "thin-arrow-left": '<path d="M12.586 4.586l-10 10c-0.781 0.781-0.781 2.047 0 2.828l10 10c0.781 0.781 2.047 0.781 2.828 0s0.781-2.047 0-2.828l-6.586-6.586h19.172c1.105 0 2-0.895 2-2s-0.895-2-2-2h-19.172l6.586-6.586c0.39-0.391 0.586-0.902 0.586-1.414s-0.195-1.024-0.586-1.414c-0.781-0.781-2.047-0.781-2.828 0z"></path>',
                "thin-arrow-right": '<path d="M19.414 27.414l10-10c0.781-0.781 0.781-2.047 0-2.828l-10-10c-0.781-0.781-2.047-0.781-2.828 0s-0.781 2.047 0 2.828l6.586 6.586h-19.172c-1.105 0-2 0.895-2 2s0.895 2 2 2h19.172l-6.586 6.586c-0.39 0.39-0.586 0.902-0.586 1.414s0.195 1.024 0.586 1.414c0.781 0.781 2.047 0.781 2.828 0z"></path>',
                "thin-arrow-up": '<path d="M27.414 12.586l-10-10c-0.781-0.781-2.047-0.781-2.828 0l-10 10c-0.781 0.781-0.781 2.047 0 2.828s2.047 0.781 2.828 0l6.586-6.586v19.172c0 1.105 0.895 2 2 2s2-0.895 2-2v-19.172l6.586 6.586c0.39 0.39 0.902 0.586 1.414 0.586s1.024-0.195 1.414-0.586c0.781-0.781 0.781-2.047 0-2.828z"></path>',
                "thin-arrow-up-left": '<path d="M4 18c0 1.105 0.895 2 2 2s2-0.895 2-2v-7.172l16.586 16.586c0.781 0.781 2.047 0.781 2.828 0 0.391-0.391 0.586-0.902 0.586-1.414s-0.195-1.024-0.586-1.414l-16.586-16.586h7.172c1.105 0 2-0.895 2-2s-0.895-2-2-2h-14v14z"></path>',
                "thin-arrow-up-right": '<path d="M26.001 4c-0 0-0.001 0-0.001 0h-11.999c-1.105 0-2 0.895-2 2s0.895 2 2 2h7.172l-16.586 16.586c-0.781 0.781-0.781 2.047 0 2.828 0.391 0.391 0.902 0.586 1.414 0.586s1.024-0.195 1.414-0.586l16.586-16.586v7.172c0 1.105 0.895 2 2 2s2-0.895 2-2v-14h-1.999z"></path>',
                twitter: '<path d="M32 6.076c-1.177 0.522-2.443 0.875-3.771 1.034 1.355-0.813 2.396-2.099 2.887-3.632-1.269 0.752-2.674 1.299-4.169 1.593-1.198-1.276-2.904-2.073-4.792-2.073-3.626 0-6.565 2.939-6.565 6.565 0 0.515 0.058 1.016 0.17 1.496-5.456-0.274-10.294-2.888-13.532-6.86-0.565 0.97-0.889 2.097-0.889 3.301 0 2.278 1.159 4.287 2.921 5.465-1.076-0.034-2.088-0.329-2.974-0.821-0.001 0.027-0.001 0.055-0.001 0.083 0 3.181 2.263 5.834 5.266 6.437-0.551 0.15-1.131 0.23-1.73 0.23-0.423 0-0.834-0.041-1.235-0.118 0.835 2.608 3.26 4.506 6.133 4.559-2.247 1.761-5.078 2.81-8.154 2.81-0.53 0-1.052-0.031-1.566-0.092 2.905 1.863 6.356 2.95 10.064 2.95 12.076 0 18.679-10.004 18.679-18.68 0-0.285-0.006-0.568-0.019-0.849 1.283-0.926 2.396-2.082 3.276-3.398z"></path>',
                umbrella: '<path d="M16 0c-8.82 0-16 7.178-16 16h4c0-0.826 0.676-1.5 1.5-1.5 0.828 0 1.5 0.674 1.5 1.5h4c0-0.826 0.676-1.5 1.5-1.5 0.828 0 1.5 0.674 1.5 1.5v10c0 1.102-0.895 2-2 2-1.102 0-2-0.898-2-2h-4c0 3.309 2.695 6 6 6 3.312 0 6-2.691 6-6v-10c0-0.826 0.676-1.5 1.5-1.5 0.828 0 1.498 0.674 1.498 1.5h4c0-0.826 0.68-1.5 1.5-1.5 0.828 0 1.5 0.674 1.5 1.5h4c0-8.822-7.172-16-15.998-16z"></path>',
                unlock: '<path d="M14.004 0c-5.516 0-9.996 4.484-9.996 10h3.996c0-3.309 2.688-6 6-6 3.305 0 5.996 2.691 5.996 6v2h-20v14c0 3.309 2.695 6 6 6h12c3.305 0 6-2.691 6-6v-16c0-5.516-4.488-10-9.996-10zM12 24c-1.102 0-2-0.895-2-2s0.898-2 2-2c1.109 0 2 0.895 2 2s-0.891 2-2 2z"></path>',
                user: '<path d="M12 16c-6.625 0-12 5.375-12 12 0 2.211 1.789 4 4 4h16c2.211 0 4-1.789 4-4 0-6.625-5.375-12-12-12zM6 6c0-3.314 2.686-6 6-6s6 2.686 6 6c0 3.314-2.686 6-6 6-3.314 0-6-2.686-6-6z"></path>',
                wondering: '<path d="M16 32c8.837 0 16-7.163 16-16s-7.163-16-16-16-16 7.163-16 16 7.163 16 16 16zM16 3c7.18 0 13 5.82 13 13s-5.82 13-13 13-13-5.82-13-13 5.82-13 13-13zM23.304 18.801l0.703 2.399-13.656 4-0.703-2.399zM8 10c0-1.105 0.895-2 2-2s2 0.895 2 2c0 1.105-0.895 2-2 2-1.105 0-2-0.895-2-2zM20 10c0-1.105 0.895-2 2-2s2 0.895 2 2c0 1.105-0.895 2-2 2-1.105 0-2-0.895-2-2z"></path>',
                "x-circle": '<path d="M16 0c-8.836 0-16 7.164-16 16s7.164 16 16 16 16-7.164 16-16-7.164-16-16-16zM23.914 21.086l-2.828 2.828-5.086-5.086-5.086 5.086-2.828-2.828 5.086-5.086-5.086-5.086 2.828-2.828 5.086 5.086 5.086-5.086 2.828 2.828-5.086 5.086 5.086 5.086z"></path>',
                android: '<path d="M50.143,45.057h-0.241c-2.13,0-3.857-1.735-3.857-3.875V24.713 c0-2.14,1.727-3.875,3.857-3.875h0.241c2.13,0,3.857,1.735,3.857,3.875v16.469C54,43.323,52.273,45.057,50.143,45.057z M39.777,51.112h-2.169v8.961c0,2.14-1.727,3.875-3.857,3.875h-0.241c-2.13,0-3.857-1.735-3.857-3.875v-8.961h-5.304v8.961 c0,2.14-1.727,3.875-3.857,3.875H20.25c-2.13,0-3.857-1.735-3.857-3.875v-8.961h-2.17c-2.663,0-4.821-2.169-4.821-4.844V21.565 h35.196v24.704C44.598,48.944,42.44,51.112,39.777,51.112z M18.451,5.498l-2.777-4.832c-0.1-0.174-0.041-0.396,0.132-0.496 l0.209-0.121c0.173-0.1,0.394-0.041,0.494,0.133l2.802,4.877c2.297-1.091,4.863-1.705,7.573-1.705c2.856,0,5.552,0.681,7.941,1.885 l2.906-5.056c0.1-0.174,0.321-0.233,0.494-0.133l0.209,0.121c0.173,0.1,0.232,0.322,0.132,0.496l-2.889,5.028 c4.989,2.866,8.459,8.094,8.901,14.169H9.191C9.643,13.645,13.271,8.316,18.451,5.498z M35.076,13.572 c0.865,0,1.567-0.705,1.567-1.574c0-0.87-0.702-1.574-1.567-1.574c-0.865,0-1.567,0.705-1.567,1.574 C33.509,12.867,34.21,13.572,35.076,13.572z M18.924,13.572c0.865,0,1.567-0.705,1.567-1.574c0-0.87-0.702-1.574-1.567-1.574 c-0.865,0-1.567,0.705-1.567,1.574C17.357,12.867,18.059,13.572,18.924,13.572z M4.098,45.057H3.857C1.727,45.057,0,43.323,0,41.182 V24.713c0-2.14,1.727-3.875,3.857-3.875h0.241c2.13,0,3.857,1.735,3.857,3.875v16.469C7.955,43.323,6.228,45.057,4.098,45.057z"/>',
                apple: '<path d="M43.061,34.522c0,8.67,8.393,12.374,8.393,12.374 c-2.057,8.63-9.252,15.172-9.252,15.172c-1.613,1.607-4.567,1.852-4.567,1.852c-2.377,0-5.309-1.34-5.309-1.34 c-2.259-1.299-5.426-1.301-5.426-1.301c-2.792,0-5.309,1.261-5.309,1.261C19.334,63.835,16.399,64,16.399,64 c-2.568,0-3.982-1.498-3.982-1.498C-0.546,50.658,0.003,35.271,0.003,35.271c0-19.645,15.576-19.586,15.576-19.586 c3.626,0,4.919,0.827,4.919,0.827c3.866,1.882,5.777,1.892,5.777,1.892c1.5,0,5.816-1.931,5.816-1.931 c2.223-1.052,5.778-1.064,5.778-1.064c8.325,0,11.984,6.424,11.984,6.424C42.702,26.182,43.061,34.522,43.061,34.522z M25.729,14.818C25.729,1.075,38.377,0,38.377,0C38.377,14.797,25.729,14.818,25.729,14.818z"/>',
                baidu: '<path d="M57.549,28.923c-0.219,7.717-6.714,8.677-6.714,8.677 c-8.176-0.648-7.673-8.677-7.673-8.677c-0.795-8.379,5.755-9.641,5.755-9.641C58,19.412,57.549,28.923,57.549,28.923z M37.407,20.246c-5.931,0-5.755-8.677-5.755-8.677c1.708-7.93,7.673-9.641,7.673-9.641c5.472,0.78,6.714,8.677,6.714,8.677 C44.174,21.255,37.407,20.246,37.407,20.246z M37.407,32.779c2.75,3.707,7.673,8.677,7.673,8.677 c7.267,4.21,7.673,10.605,7.673,10.605c0,13.939-14.387,10.605-14.387,10.605c-1.873-0.813-7.673-1.928-7.673-1.928h-4.796 c-2.325,0.456-10.551,1.928-10.551,1.928c-10.734,0-11.51-10.605-11.51-10.605c0-6.349,4.796-9.641,4.796-9.641 c6.151-4.696,9.592-9.641,9.592-9.641c5.137-7.284,9.591-6.749,9.591-6.749C33.569,25.744,37.407,32.779,37.407,32.779z M25.897,35.672H23.02v5.785h-6.714c-5.859,0.902-5.755,8.677-5.755,8.677c-0.551,5.375,5.755,7.713,5.755,7.713h9.591V35.672z M32.611,53.025V41.456h-4.796v12.533c-0.017,2.653,3.837,3.856,3.837,3.856h10.551v-16.39h-4.796v12.533h-2.877 C33.473,53.886,32.611,53.025,32.611,53.025z M17.265,46.277h5.755v7.713h-4.796c0,0-2.647-0.459-2.877-3.856 C15.346,50.133,15.452,46.899,17.265,46.277z M21.101,20.246c-6.799,0-6.714-10.605-6.714-10.605c0-9.31,6.714-9.641,6.714-9.641 c5.997,0,6.714,9.641,6.714,9.641C27.815,19.489,21.101,20.246,21.101,20.246z M6.714,33.743C0.544,33.743,0,24.102,0,24.102 c0-8.281,6.714-9.641,6.714-9.641c6.751,0,7.673,9.641,7.673,9.641C14.387,32.77,6.714,33.743,6.714,33.743z"/>',
                douban: '<path d="M0,64v-5.818h20.945c0,0-4.899-9.901-8.145-11.636l8.145-3.491 c0,0,5.56,12.555,5.818,15.127h13.964c0,0,5.825-11.048,5.818-15.127l6.982,3.491c0,0-3.36,10.254-5.295,11.512 c-0.447,0.029-0.656,0.069-0.523,0.124c0.157,0.065,0.336-0.002,0.523-0.124C51.09,57.875,64,58.182,64,58.182V64H0z M5.818,40.727 v-25.6h52.364v25.6H5.818z M48.873,20.945H15.127v13.964h33.745V20.945z M3.491,0H64v5.818H3.491V0z"/>',
                googleplay: '<path d="M55.532,34.556c-0.828,0.473-5.547,3.122-11.786,6.618 l-8.591-8.715l9.908-9.829c5.385,3.012,9.44,5.281,10.469,5.858C58,29.871,57.958,33.17,55.532,34.556z M3.177,0.02 c0.741-0.078,1.548,0.064,2.355,0.511c1.54,0.853,23.514,13.139,37.89,21.18l-9.536,9.46L3.177,0.02z M1.36,0.75l31.244,31.694 L2.074,62.731C0.89,62.224,0,61.115,0,59.574C0,56.662,0,5.559,0,3.55C0,2.412,0.532,1.401,1.36,0.75z M42.112,42.089 C27.972,50.01,7.556,61.427,5.419,62.575c-0.32,0.172-0.655,0.291-0.993,0.367l29.446-29.212L42.112,42.089z"/>',
                kaixinwang: '<path d="M60.549,30.164c0,0-3.494,8.614-16.984,12.25c0,0-0.502,11.237,0,15.076c0,0,1.59,4.938-4.718,3.769c0,0-6.539-0.588-13.21-9.423c0,0-2.071-1.431-2.831,0c0,0-5.588,5.249-9.436,7.538c0,0-7.049,0.734-7.549-3.769c0,0-2.985-13.205,0.944-21.672c0,0-0.269-2.116-0.944-2.827c0,0-8.864-10.313-4.718-22.615c0,0,1.108-1.884,5.661-0.942c0,0,7.295,4.273,8.492,4.711c0,0,3.262,0.609,3.774-0.942c0,0,7.578-9.802,14.153-11.307c0,0,7.228-0.583,7.549,6.596c0,0,2.168,10.163,1.887,13.192c0,0,1.659,4.159,4.718,3.769c0,0,9.924-0.088,12.266,1.885C59.605,25.453,61.958,26.999,60.549,30.164z M13.371,27.337c0.013-2.519-1.887-2.827-1.887-2.827c-3.341,0-2.831,1.884-2.831,1.884c-0.146,2.405,2.831,2.827,2.831,2.827C13.764,28.831,13.371,27.337,13.371,27.337zM14.314,32.991c-1.477,8.602,6.605,11.307,6.605,11.307c6.04,0.515,11.323-4.711,11.323-4.711c-7.647,2.452-11.323,0.942-11.323,0.942C14.869,38.902,14.314,32.991,14.314,32.991z M36.016,18.857c0,0-3.136-1.152-5.661,0.942c0,0-0.944,0.585-0.944-0.942c0,0-3.121-5.667-7.549-1.885c0,0-6.72,5.505-2.831,13.192c0,0,1.414,3.005,6.605,0.942c0,0,0.403,2.079,1.887,3.769c0,0,4.505,3.149,7.549-3.769C35.073,31.107,38.588,24.505,36.016,18.857z M41.678,33.933c0,0-3.622-0.382-3.774,2.827c0,0-0.038,2.695,2.831,2.827c0,0,2.968-0.587,2.831-2.827C43.565,36.76,43.968,33.933,41.678,33.933zM33.186,28.28c-2.024-0.756-1.887-3.769-1.887-3.769c0.251-1.965,2.831-2.827,2.831-2.827c2.763,0.114,0.944,3.769,0.944,3.769C34.54,29.362,33.186,28.28,33.186,28.28z M23.75,25.453c-2.17-0.976,0-4.711,0-4.711c1.118-2.725,2.831-1.885,2.831-1.885c2.222,0.41,0.944,3.769,0.944,3.769C27.212,24.78,23.75,25.453,23.75,25.453z"/>',
                laiwang: '<path d="M58.659,31.066V36.4h-5.618v-3.138h2.809v-4.707c3.787-6.594,2.185-13.179,2.185-13.179c-4.56-14.795-19.35-10.669-19.35-10.669c-0.413-0.661-4.057-2.51-4.057-2.51C38.404,0.023,43.679,0,43.679,0C59.986,1.348,61.78,14.748,61.78,14.748C64,25.266,58.659,31.066,58.659,31.066z M52.56,29.556c0,6.135-2.082,11.777-5.565,16.263v6.759h-7.79C35.388,54.753,30.98,56,26.28,56C11.766,56,0,44.16,0,29.556C0,14.951,11.766,3.111,26.28,3.111C40.794,3.111,52.56,14.951,52.56,29.556z M26.28,8.4c-11.611,0-21.024,9.472-21.024,21.156c0,11.684,9.413,21.156,21.024,21.156c3.336,0,6.489-0.786,9.291-2.178h7.405v-6.135c2.711-3.562,4.328-8.01,4.328-12.843C47.304,17.872,37.891,8.4,26.28,8.4z M37.411,32.667c-1.708,0-3.092-1.393-3.092-3.111c0-1.718,1.384-3.111,3.092-3.111c1.708,0,3.092,1.393,3.092,3.111C40.502,31.274,39.118,32.667,37.411,32.667z M26.28,32.667c-1.708,0-3.092-1.393-3.092-3.111c0-1.718,1.384-3.111,3.092-3.111c1.708,0,3.092,1.393,3.092,3.111C29.372,31.274,27.988,32.667,26.28,32.667z M15.15,32.667c-1.708,0-3.092-1.393-3.092-3.111c0-1.718,1.384-3.111,3.092-3.111c1.707,0,3.092,1.393,3.092,3.111C18.242,31.274,16.857,32.667,15.15,32.667z"/>',
                logo: '<path d="M148.981,8.452H153v2.684h-5.639c0,0-1.096-0.041-1.558-1.203l-1.246-2.468h-0.592V12h8.754l-1.277,3.455h1.464v5.059c0,0-0.127,1.542-2.305,1.542h-10.686v-2.468h9.191c0,0,0.222-0.072,0.218-0.216v-1.326h-2.617l0.779-3.085h-9.346l-1.215,5.152c0,0-0.526,2.224-2.742,1.944h-2.929v-2.684h1.589c0,0,0.487-0.065,0.592-0.494l0.935-3.918h-3.116V12h8.848V7.465h-0.498l-1.246,2.468c0,0-0.75,1.304-2.835,1.265h-4.175V8.452h3.801c0,0,0.486-0.029,0.685-0.432l0.187-0.555h-4.767v-2.56h8.848V3.918h-8.941V1.141h17.945c0,0,0.244-0.049,0.311-0.37V0.278h3.489v1.635c0,0-0.22,2.005-2.96,2.005h-5.982v0.956H153v2.591h-4.86l0.28,0.679C148.42,8.144,148.619,8.452,148.981,8.452zM132.313,29.738h-2.492c-0.235-1.372-1.34-1.234-1.34-1.234c-1.608,0-1.589,2.19-1.589,2.19c0,2.719,1.62,2.468,1.62,2.468c1.174,0,1.309-1.388,1.309-1.388h2.555c-0.293,3.657-3.832,3.517-3.832,3.517c-4.466,0-4.206-4.566-4.206-4.566c0-4.45,4.112-4.35,4.112-4.35C132.348,26.375,132.313,29.738,132.313,29.738z M124.525,4.997l-1.776-2.221h-10.811l-1.807,2.53c0,0-0.314,0.339-0.748,0.339h-3.147V2.869h1.34c0,0,0.099-0.001,0.187-0.154L109.633,0h15.266l1.9,2.622c0,0,0.13,0.167,0.374,0.154h1.09v2.776h-2.96C125.304,5.553,124.86,5.553,124.525,4.997z M103.807,30.54l3.084,4.535h-3.178l-1.495-2.529l-1.495,2.529H97.67l3.115-4.473l-2.804-4.01h3.084l1.277,2.344l1.277-2.344h2.96L103.807,30.54z M101.47,22.057h-4.735v-2.56h2.679c0.391,0,0.405-0.37,0.405-0.37v-4.35H86.111l-0.81,1.018c-0.476,0.574-1.277,0.494-1.277,0.494h-2.555v-2.931h0.716c0.4,0,0.53-0.247,0.53-0.247l1.277-2.098h-1.651V0.185h20.873v8.823c-0.05,2.132-2.118,2.098-2.118,2.098H88.074l-0.592,0.987h15.92v8.113C103.264,22.144,101.47,22.057,101.47,22.057z M99.258,2.961H85.924v1.45h13.334V2.961z M99.134,8.545c0,0,0.214-0.097,0.218-0.278V7.003H85.924v1.542H99.134z M84.18,18.91l2.337-3.177h4.268l-4.33,5.614c0,0-0.724,0.62-1.62,0.524h-3.458v-2.56h2.305C83.681,19.311,83.961,19.247,84.18,18.91z M87.388,28.751h-4.33v1.049h3.925v2.036h-3.925v1.08h4.455v2.159h-7.01v-8.483h6.885V28.751z M70.627,35.815l-1.776-3.085l1.807-3.054h3.552l1.807,3.085l-1.776,3.054H70.627z M17.197,17.954l1.807-3.054h3.552l1.807,3.085l-1.807,3.054h-3.583L17.197,17.954z M44.8,35.815l-5.016-8.637l3.614-6.108l5.016,8.576h13.677l6.761-11.661L62.06,6.324H48.414l-17.229,29.46l-20.78,0.062L0,17.923L10.375,0.154l20.811-0.031l5.016,8.637L32.619,14.9l-5.047-8.607H13.957L7.103,17.985l6.854,11.661h13.646l17.26-29.491h20.78l10.374,17.83l-10.406,17.83H44.8z M92.28,21.964h-3.521v-2.56h1.433c0.436,0.002,0.654-0.339,0.654-0.339l2.555-3.116h4.362l-4.299,5.553C93.035,21.922,92.28,21.964,92.28,21.964zM92.872,26.375c4.353,0,4.268,4.411,4.268,4.411c0,1.971-0.966,3.023-0.966,3.023l0.997,1.018L95.987,36l-1.122-1.172c-0.421,0.386-1.776,0.463-1.776,0.463c-4.572,0.019-4.393-4.473-4.393-4.473C88.83,26.208,92.872,26.375,92.872,26.375zM92.934,33.162c0,0,0.237-0.016,0.312-0.062l-0.717-0.71l1.184-1.141l0.685,0.709c0,0,0.187-0.29,0.187-1.08c0,0,0.181-2.375-1.682-2.375c0,0-1.651-0.176-1.651,2.406C91.252,30.91,91.207,33.162,92.934,33.162z M110.007,35.074h-2.555v-8.483h2.555V35.074z M111.222,26.591h2.555v5.306c0,1.379,1.34,1.265,1.34,1.265c1.259,0,1.309-1.296,1.309-1.296v-5.275h2.555v5.491c0,3.456-3.77,3.208-3.77,3.208c-4.308,0-3.988-3.27-3.988-3.27V26.591z M128.17,19.28v2.776h-21.746v-2.746h2.15V7.095h3.209V19.28h3.676V4.689h3.583V8.73h8.941v2.961h-8.941v7.589H128.17z M123.06,35.074h-2.43V32.73h2.43V35.074z M137.672,26.375c4.254,0,4.237,4.38,4.237,4.38c0,4.688-4.175,4.535-4.175,4.535c-4.524,0-4.268-4.658-4.268-4.658C133.699,26.191,137.672,26.375,137.672,26.375z M136.021,30.848c0,2.339,1.651,2.314,1.651,2.314c1.762,0,1.682-2.345,1.682-2.345c0.002-2.392-1.651-2.344-1.651-2.344C135.947,28.473,136.021,30.848,136.021,30.848z M148.109,31.589l1.215-4.997h3.645v8.483h-2.43v-5.553l-1.464,5.553h-1.932l-1.464-5.46v5.46h-2.43v-8.483h3.645L148.109,31.589z"/>',
                logo2: '<path d="M23.103,24l2.397-4.216h4.795l2.397,4.108l-2.397,4.216H25.5L23.103,24z M60.154,48l-6.756-11.568l4.795-8.216l6.756,11.46h18.308L92.41,24L83.256,8.324H64.949L41.846,48H13.949L0,24L13.949,0h27.897l6.756,11.568l-4.795,8.216l-6.756-11.46H18.744L9.59,24l9.154,15.676h18.308L60.154,0h27.897L102,24L88.051,48H60.154zM99.494,39.676L102,43.784L99.603,48h-4.904l-2.397-4.216l2.397-4.108H99.494z"/>',
                code: '<path d="M64,64h-7V50h7V64z M50,50v-7h7v7H50z M43,50h-7V36h14v7h-7V50zM64,36v7h-7v-7H64z M36,0h28v28H36V0z M40,24h20V4H40V24z M43,7h14v14H43V7z M0,36h28v28H0V36z M4,40v20h20V40H4z M7,43h14v14H7V43z M0,0h28v28H0V0z M4,24h20V4H4V24z M7,7h14v14H7V7z M50,57v7H36v-7H50z"/>',
                computer: '<path d="M61,44H38.676l6.199,8.769c0,0,1.125,1.64,0,3.231h-9.289h-6.697h-9.733c-1.156-1.591,0-3.231,0-3.231L25.527,44H3c-1.657,0-3-1.343-3-3V3c0-1.657,1.343-3,3-3h58c1.657,0,3,1.343,3,3v38C64,42.657,62.657,44,61,44z M32,42c1.105,0,2-0.895,2-2s-0.895-2-2-2c-1.105,0-2,0.895-2,2S30.895,42,32,42z M60,5H4v31h56V5z"/>',
                dengpao: '<path d="M40,44.969V52c0,3.314-2.686,6-6,6h-1v3.5c0,1.381-1.119,2.5-2.5,2.5h-11c-1.381,0-2.5-1.119-2.5-2.5V58h-1c-3.314,0-6-2.686-6-6v-7.041C3.936,40.403,0,33.171,0,25C0,11.193,11.193,0,25,0s25,11.193,25,25C50,33.173,46.068,40.413,40,44.969z M25,7C15.059,7,7,15.059,7,25c0,0.585,0.033,1.162,0.088,1.733c0.02,0.206,0.056,0.407,0.082,0.611c0.047,0.357,0.095,0.714,0.162,1.064c0.048,0.251,0.11,0.496,0.168,0.743c0.069,0.29,0.139,0.58,0.222,0.864c0.079,0.273,0.168,0.542,0.26,0.809c0.083,0.242,0.17,0.482,0.263,0.719c0.113,0.29,0.232,0.575,0.359,0.858c0.089,0.195,0.183,0.386,0.278,0.577c0.152,0.307,0.307,0.611,0.475,0.907c0.078,0.137,0.163,0.268,0.244,0.402c0.202,0.334,0.406,0.667,0.629,0.987c0.006,0.009,0.014,0.018,0.02,0.027c1.674,2.393,3.914,4.354,6.527,5.699C16.3,41.532,16,42.228,16,43v6c0,1.657,1.343,3,3,3h12c1.657,0,3-1.343,3-3v-6c0-0.772-0.3-1.468-0.778-2c2.998-1.544,5.497-3.904,7.222-6.788c0.062-0.103,0.127-0.203,0.186-0.306c0.177-0.31,0.34-0.629,0.499-0.951c0.09-0.181,0.179-0.361,0.262-0.545c0.13-0.286,0.251-0.577,0.366-0.871c0.093-0.236,0.179-0.474,0.261-0.715c0.091-0.267,0.18-0.535,0.259-0.808c0.084-0.287,0.154-0.578,0.224-0.871c0.058-0.245,0.119-0.487,0.167-0.736c0.068-0.353,0.117-0.712,0.164-1.072c0.026-0.202,0.062-0.401,0.081-0.605C42.967,26.163,43,25.586,43,25C43,15.059,34.941,7,25,7z M28.5,48h-7c-1.381,0-2.5-1.119-2.5-2.5v-1c0-1.381,1.119-2.5,2.5-2.5h7c1.381,0,2.5,1.119,2.5,2.5v1C31,46.881,29.881,48,28.5,48z"/>',
                normaluser: '<path d="M31.5,64C59.433,56.326,63,32.541,63,24.694C63,16.846,60.61,8.58,54.309,0C49.566,1.885,39.207,2.721,31.5,0C23.794,2.721,13.434,1.885,8.692,0C2.39,8.58,0,16.846,0,24.694C0,32.541,3.568,56.326,31.5,64z"/>',
                pad: '<path d="M49,64H3c-1.657,0-3-1.343-3-3V3c0-1.657,1.343-3,3-3h46c1.657,0,3,1.343,3,3v58C52,62.657,50.657,64,49,64z M26,62c1.657,0,3-1.343,3-3s-1.343-3-3-3s-3,1.343-3,3S24.343,62,26,62z M45,6H7v48h38V6z"/>',
                pengyou: '<path d="M52.671,41.29c0,0,3.271,9.101-5.532,11.011c0,0-7.661,1.98-11.065-11.011c0,0-3.688-10.606-3.688-12.846c0,0,11.041-2.228,18.442-1.835c0,0,11.116,0.842,11.065,9.175C61.892,35.785,62.397,43.503,52.671,41.29z M52.671,22.939c-5.253,0.729-21.208,3.67-21.208,3.67V7.34C31.264,1.286,39.762,0,39.762,0c7.386,0.19,6.455,7.34,6.455,7.34c10.325-4.012,11.065,7.34,11.065,7.34C57.501,18.724,52.671,22.939,52.671,22.939z M7.488,28.444c0,0-8.17-0.479-7.377-8.258c0,0-1.714-6.644,8.299-6.423c0,0-3.114-11.531,11.065-11.011c0,0,6.523-0.627,8.299,7.34c0,0,3.449,12.205,2.766,16.516C30.541,26.609,18.663,27.596,7.488,28.444z M31.463,28.444c-0.872,4.484,1.844,12.846,1.844,12.846c3.235,6.336,0.922,11.011,0.922,11.011c-2.931,8.699-11.987,7.34-11.987,7.34c-6.323-1.717-6.455-8.258-6.455-8.258c-5.134-0.13-7.377-1.835-7.377-1.835c-5.279-1.891-2.766-11.011-2.766-11.011C14.528,26.962,31.463,28.444,31.463,28.444z"/>',
                qq: '<path d="M173.94,152.517c0,0-7.239,0.531-15.89-15.949c0,0-7.897,20.246-13.904,24.921c0,0,15.89,5.883,15.89,17.943c0,0-2.979,19.937-36.746,19.937c0,0-22.406,0.632-30.787-13.956h-2.979v-0.309l-2.979,0.309C78.162,200,55.756,199.368,55.756,199.368c-33.767,0-36.746-19.937-36.746-19.937c0-12.06,15.89-17.943,15.89-17.943c-6.007-4.675-13.904-24.921-13.904-24.921c-8.651,16.48-15.89,15.949-15.89,15.949c-17.583-29.635,15.89-60.807,15.89-60.807c-5.712-18.322,5.959-26.915,5.959-26.915C29.54,0.66,89.523,0,89.523,0s59.983,0.66,62.568,64.795c0,0,11.671,8.593,5.959,26.915C158.05,91.709,191.523,122.882,173.94,152.517z"/>',
                qqliulanqi: '<path d="M64,55.332c0,4.57-3.122,8.311-7.081,8.642V64H31.793c-0.02,0-0.039-0.007-0.059-0.007C14.184,63.849,0,49.584,0,32C0,14.327,14.327,0,32,0s32,14.327,32,32c0,5.69-1.492,11.029-4.096,15.66C62.338,49.11,64,51.999,64,55.332z M32,14.222c-9.818,0-17.778,7.959-17.778,17.778c0,7.131,4.208,13.262,10.268,16.092c1.219-2.013,3.562-3.394,6.287-3.394c0.893,0,1.743,0.156,2.533,0.424c1.731-5.002,6.017-8.551,11.047-8.551c1.599,0,3.12,0.368,4.512,1.017c0.583-1.759,0.91-3.634,0.91-5.588C49.778,22.182,41.818,14.222,32,14.222z"/>',
                qqweibo: '<path d="M60.847,26.088c-8.08-2.418-13.422-13.494-13.422-13.494c-2.424,0-2.684-2.699-2.684-2.699c0-3.708,2.684-3.598,2.684-3.598c3.337,0,3.579,3.598,3.579,3.598c0.013,1.683-1.79,2.699-1.79,2.699c2.627,8.909,12.527,11.695,12.527,11.695C64,25.295,60.847,26.088,60.847,26.088z M54.583,16.192c0,0-1.339,0.621-0.895-0.9c0,0,1.906-1.828,1.79-5.398c0,0-0.266-8.096-8.053-8.096c0,0-7.158,0.059-7.158,8.096c0,0,0.001,8.096,7.158,8.096c0,0,1.785,1.974,0,1.799c0,0-8.948-0.952-8.948-9.895c0,0,0.135-9.895,9.843-9.895c0,0,8.948,1.557,8.948,9.895C57.267,9.895,56.836,14.713,54.583,16.192z M17.001,38.682h-3.579c0,0-2.586-0.992-0.895-2.699c0,0,17.896,2.971,17.896-14.393c0,0-0.252-13.494-13.422-13.494c0,0-14.317,1.116-14.317,14.393c0,0,0.037,4.655,1.79,6.297c0,0,0.568,3.071-1.79,0.9c0,0-2.521-3.105-2.684-7.197c0,0,1.061-17.092,17.001-17.092c0,0,16.107,0.699,16.107,16.193C33.108,21.59,32.527,38.682,17.001,38.682z M12.527,24.289c0,0-1.74-4.156,1.79-7.197c0,0,5.442-2.025,8.053,2.699c0,0,1.083,4.133-1.79,6.297c0,0-3.242,1.586-6.264,0c0,0-9.393,9.066-8.948,17.992c0.029,0.574,0,10.795,0,10.795S4.337,58,1.79,55.774V44.08C1.79,44.08,4.022,30.876,12.527,24.289z"/>',
                qqzone: '<path d="M49.096,31.429L51.726,55L32.438,43.651L13.151,55l1.753-22.698L0,19.206h21.918L32.438,0l11.397,19.206H64L49.096,31.429z M47.342,21.825H21.041l15.781,2.619L17.534,41.032h29.808L29.808,37.54L47.342,21.825z"/>',
                renren: '<path d="M26.667,0h12c0,0-5.9,40.406,25.333,51.726L58,63c0,0-20.229-14.581-24-29.179c0,0-12.018,22.795-27.333,28.516L0,54.379C0,54.379,31.489,46.61,26.667,0z"/>',
                sendcompany: '<path d="M56,37L32,13L8,37H0v-6L31,0h2l31,31v6H56z M53,38v26H39V43H25v21H11V38l21-21L53,38z"/>',
                scenegift: '<path d="M34.133,63.954V25.581H64v38.372H34.133z M0,12.791h14.821C8.033,11.603,8,4.996,8,4.996C8.056,0.071,13,0,13,0c9.28-0.03,15.986,11.202,16.888,12.791h4.237C35.125,11.201,42.504-0.046,51,0c0,0,5.046,0.083,5,4.996c0,0,0.061,6.606-6.823,7.794H64v8.527H0V12.791z M53,5.996c0.062-1.888-2-1.999-2-1.999c-8.038-0.049-13,8.993-13,8.993C50.389,13.03,53,5.996,53,5.996z M13,3.997c0,0-1.983,0.024-2,1.999s2.81,6.995,15,6.995C26,12.991,20.979,3.981,13,3.997z M29.867,63.954H0V25.581h29.867V63.954z"/>',
                scenesend: '<path d="M0,24.889L64,0L46.222,64L24.889,46.222l24.889-32l-32,24.889L0,24.889z M10.667,39.111l14.222,10.667L14.222,60.444L10.667,39.111z"/>',
                taobao: '<path d="M48.988,48.946c-4.903,0-7.901-1.579-7.901-1.579l0.79-3.947l7.111,0.789c6.122,0,6.321-5.526,6.321-5.526V14.21c0-7.378-7.901-7.895-7.901-7.895c-6.463,0-15.012,3.158-15.012,3.158l3.16,1.579c0.142,1.015-3.16,4.737-3.16,4.737h20.543v3.947H41.086v3.947h11.852v3.947H41.086v9.473l4.741-2.368l-0.79-3.947l4.741-1.579l3.951,10.263l-5.531,2.368l-1.58-3.947c-5.47,3.996-14.222,4.737-14.222,4.737h-7.111c-4.661,0-5.531-5.526-5.531-5.526v-7.105h7.111v3.158c-0.14,5.157,7.111,4.737,7.111,4.737V27.631H21.333v-3.947h12.642v-3.947h-5.531c-0.316,2.196-3.951,3.158-3.951,3.158s-2.819-0.519-3.16-1.579c2.749-1.888,6.321-9.473,6.321-9.473c-4.473,0.22-8.691,6.316-8.691,6.316l-4.741-3.947C19.296,12.449,22.914,0,22.914,0l7.111,1.579c0.106,1.229-1.58,4.737-1.58,4.737c11.708-3.875,23.704-3.158,23.704-3.158C63.475,4.407,64,15,64,15v21.315C64,49,48.988,48.946,48.988,48.946z M11.062,10.263c-5.479,0-5.531-4.737-5.531-4.737c0-5.404,5.531-4.737,5.531-4.737c5.138,0,5.531,4.737,5.531,4.737C16.593,10.074,11.062,10.263,11.062,10.263z M2.37,18.157l3.951-5.526c11.83,10.053,11.062,12.631,11.062,12.631c-0.264,5.059-9.482,22.105-9.482,22.105L0,41.841L11.852,29.21c1.392-1.303,0-3.947,0-3.947C11.562,22.982,2.37,18.157,2.37,18.157z"/>',
                tieba: '<path d="M64,28.804v33.072H36.267c0,0-0.933,0.052-1.067-2.134V32.005c0,0-1.165-3.201,5.333-3.201V1.067h6.4v4.267H64v6.401H46.933v17.069H64z M42.667,36.272v19.203h13.867V36.272H42.667z M14.933,55.475c0,0-4.911,5.24-12.8,6.401l-1.067-4.267c0,0,8.079-3.243,9.6-7.468V13.869c0,0,0.682-2.067,4.267-2.134c0,0,3.289,0.126,3.2,2.134V46.94c0,0,0.469,6.066,11.733,10.668L28.8,62.943C28.8,62.943,22.857,64,14.933,55.475z M23.467,9.601c0,0,0.113-3.437-8.533-3.201c0,0-8.533,0.099-8.533,3.201V46.94H0V0h29.867v46.94h-6.4V9.601z"/>',
                time: '<path d="M57.094,17.342L39.191,4.248c3.421-4.74,10.201-5.651,15.145-2.035C59.28,5.829,60.514,12.602,57.094,17.342z M56.896,34.986c0.016,15.224-12.23,27.578-27.352,27.594C14.421,62.597,2.149,50.268,2.133,35.044C2.117,19.821,14.363,7.466,29.485,7.45C44.608,7.434,56.88,19.762,56.896,34.986z M29.492,14.27c-10.206,0.011-18.663,7.491-20.294,17.297H8.966v6.895h0.231c1.633,9.824,10.118,17.308,20.339,17.297C39.742,55.75,48.2,48.269,49.83,38.463h0.232v-6.895h-0.23C48.199,21.743,39.713,14.26,29.492,14.27z M14.103,38.463v-6.895H26.09V16.915h6.849v14.653v6.895H26.09H14.103z M4.692,2.213c4.944-3.616,11.724-2.705,15.145,2.035L1.935,17.342C-1.486,12.602-0.251,5.829,4.692,2.213z"/>',
                uc: '<path d="M53.093,32.265c-7.527-5.77-19.034-7.054-19.034-7.054c5.833-1.908,12.021-7.054,12.021-7.054c-0.333-6.053,2.003-8.061,2.003-8.061c1.492,1.376,3.005,6.046,3.005,6.046C64,21.39,61.107,32.265,61.107,32.265H53.093z M26.046,26.219c0,0-16.028,6.346-16.028,20.153c0,0,0.893,11.278,8.172,13.661C12.446,58.893,0,55.07,0,43.35c0-15.233,13.134-18.434,14.025-27.207c0,0-1.021-8.061-7.012-8.061c0,0-4.643,0.683-6.01,2.015c0,0,5.962-10.617,18.032-10.077c0,0,12.937,0.063,14.025,11.084C33.058,11.104,34.791,19.555,26.046,26.219z M18.189,60.034c1.721,0.342,2.848,0.446,2.848,0.446C19.991,60.48,19.048,60.315,18.189,60.034z M16.028,48.388c0,0,0.948-8.061,8.014-8.061c0,0,9.016,0.132,9.016,8.061c0,0-0.119,9.069-8.014,9.069C25.044,57.457,16.028,58.129,16.028,48.388z M20.035,48.388c0,4.649,4.007,5.038,4.007,5.038c4.47,0,5.009-4.031,5.009-4.031c0-4.625-5.009-5.038-5.009-5.038C19.821,44.233,20.035,48.388,20.035,48.388z M37.065,48.388c0,0-0.189-12.092-11.019-12.092c0,0-4.6-1.381-11.019,3.023c0,0,3.518-7.19,12.021-7.054c0,0,15.761,0.647,16.028,17.13c0,0-0.817,6.053-3.005,7.054c0,0,7.737-1.618,10.018,4.031H28.049C28.049,60.48,36.582,59.201,37.065,48.388z M46.081,41.334c0,0-4.805-11.215-21.037-12.092c0,0,8.813-2.856,17.03,1.008l8.014,5.038c0,0,1.677,0.997,5.009,1.008c0,0,6.234,0.472,7.012,4.031c0,0-5.923-1.36-8.014,0C54.095,40.327,50.536,44.644,46.081,41.334z"/>',
                voice: '<path d="M38.246,32.653c0,9.68-7.396,17.645-16.902,18.686v8.482h8.451V64H8.667v-4.18h8.451v-8.482C7.612,50.298,0.216,42.333,0.216,32.653c0-1.815-0.485-2.548,0-4.209h4.111c-0.629,1.624,0.114,2.365,0.114,4.209c0,8.079,6.621,14.629,14.79,14.629S34.02,40.732,34.02,32.653c0-1.843,0.743-2.584,0.114-4.209h4.111C38.731,30.105,38.246,30.838,38.246,32.653z M19.231,42.667h-1.028c-5.393,0-9.764-4.321-9.764-9.651V9.651C8.438,4.321,12.81,0,18.203,0h1.028c5.393,0,9.764,4.321,9.764,9.651v23.365C28.995,38.346,24.623,42.667,19.231,42.667z"/>',
                wechat: '<path d="M171.484,138.214l6.938,21.872l-26.761-14.913c-72.415-0.249-66.407-49.709-66.407-49.709c0-28.146,34.69-40.761,34.69-40.761c75.009-16.33,78.301,42.749,78.301,42.749C198.245,125.746,171.484,138.214,171.484,138.214z M122.245,78.086c-4.418,0-8,3.582-8,8c0,4.418,3.582,8,8,8c4.418,0,8-3.582,8-8C130.245,81.667,126.663,78.086,122.245,78.086z M165.245,78.086c-4.418,0-8,3.582-8,8c0,4.418,3.582,8,8,8c4.418,0,8-3.582,8-8C173.245,81.667,169.663,78.086,165.245,78.086z M90.209,69.616c-17.464,24.322-4.956,47.72-4.956,47.72c-2.767,2.24-7.929,1.988-7.929,1.988H61.466l-36.673,16.901l8.92-25.849C-1.755,92.678,0.015,60.668,0.015,60.668v-2.982C6.983-1.914,70.386,0.024,70.386,0.024c30.227-0.665,46.584,12.924,46.584,12.924c19.951,11.217,24.779,32.808,24.779,32.808C107.066,46.955,90.209,69.616,90.209,69.616z M41.245,30.086c-6.075,0-11,4.925-11,11s4.925,11,11,11s11-4.925,11-11S47.32,30.086,41.245,30.086z M108.245,41.086c0-6.075-4.925-11-11-11c-6.075,0-11,4.925-11,11s4.925,11,11,11C103.32,52.086,108.245,47.161,108.245,41.086z"/>',
                weibo: '<path d="M199.389,65.394c0,0-0.493,9.988-10.011,9.988c0,0-10.252-1.807-7.007-11.985c0,0,11.965-41.924-36.038-47.942c0,0-17.018,5.194-17.018-6.991c0,0,1.506-7.99,8.008-7.99C137.322,0.473,204.096-9.8,199.389,65.394z M143.329,40.425c0,0-8.008,1.063-8.008-6.992c0,0,2.411-5.993,7.007-5.993c0,0,34.003-5.033,30.032,32.96c0,0-1.923,5.993-6.006,5.993c0,0-8.008,0.682-8.008-7.99C158.345,58.403,162.869,40.425,143.329,40.425z M133.318,45.419c0,0,17.018,0.911,17.018,16.979c0,0,0.245,9.102-4.004,12.984c0,0,29.031,6.811,29.031,28.965c0,0-0.251,56.931-91.097,56.931c0,0-84.09,0.922-84.09-52.936c0,0-4.081-25.111,27.029-54.933c31.109-29.822,48.801-30.962,57.061-30.962c0,0,16.017-0.976,16.017,15.98c0,0-0.412,11.219-3.003,14.982C97.28,53.409,116.344,45.419,133.318,45.419z M78.259,71.387c0,0-49.884,3.469-58.062,42.948c0,0-0.603,30.22,52.055,34.958c0,0,54.006,2.183,66.07-36.955C138.324,112.337,151.405,74.021,78.259,71.387z M73.12,142.2c-26.866-0.565-28.931-22.871-28.931-22.871c-1.094-30.22,32.921-32.815,32.921-32.815c31.985-0.314,30.926,25.854,30.926,25.854C106.16,142.199,73.12,142.2,73.12,142.2z M67.135,110.379c0,0-11.971,1.423-11.971,9.944c0,0-1.051,8.95,9.976,8.95c0,0,10.974-1.898,10.974-9.944C76.113,119.328,77.207,110.379,67.135,110.379z M83.097,106.401c0,0-3.99-0.664-3.99,2.983c0,0-0.929,2.983,2.993,2.983c0,0,3.99-0.785,3.99-3.978C86.089,108.39,85.751,106.401,83.097,106.401z"/>',
                windows: '<path d="M28.984,59.594V33.416H63V64L28.984,59.594z M28.984,4.406L63,0v30.584H28.984V4.406z M0,33.416h26.149v25.487L0,55.231V33.416z M0,8.769l26.149-3.672v25.487H0V8.769z"/>',
                yixin: '<path d="M45.364,58.38c4.124,2.52,10.259,2.797,10.259,2.797C44.551,65,36.341,63.943,30.867,61.901C13.807,61.829,0,48.002,0,30.952C0,13.858,13.879,0,31,0s31,13.858,31,30.952C62,42.869,55.251,53.207,45.364,58.38z M31,14.977c-8.837,0-16,7.153-16,15.975c0,5.364,2.656,10.098,6.718,12.996c-3.185,4.404-11.86,5.579-11.86,5.579c19.676,4.767,29.433-4.088,31.788-6.672C44.924,39.93,47,35.688,47,30.952C47,22.129,39.837,14.977,31,14.977z"/>',
                zhifubao: '<path d="M63.021,50L36.949,36.957c-10.737,11.987-22.813,10.87-22.813,10.87c-15.115,0-14.122-11.957-14.122-11.957C-0.088,22.841,15.222,25,15.222,25c8.559,0.109,18.468,3.261,18.468,3.261c3.55-4.164,4.345-9.783,4.345-9.783H10.877v-2.174h13.036V10.87H7.618V8.696h16.295V0h8.691v8.696h16.295v2.174H32.604v5.435h14.122c0.153,3.882-5.432,15.217-5.432,15.217l21.727,6.522V50z M14.136,28.261c0,0-11.95-2.295-11.95,7.609c0,0-1.54,7.609,10.863,7.609c0,0,11.464,0.271,17.381-9.783C30.431,33.696,23.002,28.261,14.136,28.261z"/>'
            },
            boundingBox: function(a) {
                var b, c = a.parentNode, 
                d = document.createElementNS(eqxiuSvg.NAMESPACE, "svg");
                return d.setAttribute("width", "0"),
                d.setAttribute("height", "0"),
                d.setAttribute("style", "visibility: hidden; position: absolute; left: 0; top: 0;"),
                d.appendChild(a),
                document.body.appendChild(d),
                b = a.getBBox(),
                c ? c.appendChild(a) : d.removeChild(a),
                document.body.removeChild(d),
                b
            },
            pointsToPolygon: function(a) {
                for (var b = []; a.length >= 2; )
                    b.push(a.shift() + "," + a.shift());
                return b.join(" ")
            },
            symbol: function(a) {
                var b = document.createElementNS(eqxiuSvg.NAMESPACE, "g");
                eqxiuSvg.SYMBOLS[a];
                return b.innerHTML = eqxiuSvg.SYMBOLS[a],
                b
            },
            ShapeFromType: function(a, b, c) {
                return b || (b = 64),
                c || (c = 64),
                /symbols\-/.test(a) ? eqxiuSvg.symbol(a.replace(/^symbols\-/, "")) : "rect" == a ? eqxiuSvg.rect(b, c) : "circle" == a ? eqxiuSvg.ellipse(b, c) : "diamond" == a ? eqxiuSvg.polygon(b, c, 4) : "octagon" == a ? eqxiuSvg.polygon(b, c, 8) : "triangle-up" == a ? eqxiuSvg.triangleUp(b, c) : "triangle-down" == a ? eqxiuSvg.triangleDown(b, c) : "triangle-left" == a ? eqxiuSvg.triangleLeft(b, c) : "triangle-right" == a ? eqxiuSvg.triangleRight(b, c) : "arrow-up" == a ? eqxiuSvg.arrowUp(b, c) : "arrow-down" == a ? eqxiuSvg.arrowDown(b, c) : "arrow-left" == a ? eqxiuSvg.arrowLeft(b, c) : "arrow-right" == a ? eqxiuSvg.arrowRight(b, c) : void 0
            },
            rect: function(a, b) {
                var c = document.createElementNS(eqxiuSvg.NAMESPACE, "rect");
                return c.setAttribute("width", a),
                c.setAttribute("height", b),
                c
            },
            ellipse: function(a, b) {
                var c = document.createElementNS(eqxiuSvg.NAMESPACE, "ellipse");
                return c.setAttribute("rx", a / 2),
                c.setAttribute("ry", b / 2),
                c.setAttribute("cx", a / 2),
                c.setAttribute("cy", b / 2),
                c
            },
            triangleUp: function(a, b) {
                var c = document.createElementNS(eqxiuSvg.NAMESPACE, "polygon");
                return c.setAttribute("points", eqxiuSvg.pointsToPolygon([a / 2, 0, a, b, 0, b])),
                c
            },
            triangleDown: function(a, b) {
                var c = document.createElementNS(eqxiuSvg.NAMESPACE, "polygon");
                return c.setAttribute("points", eqxiuSvg.pointsToPolygon([0, 0, a, 0, a / 2, b])),
                c
            },
            triangleLeft: function(a, b) {
                var c = document.createElementNS(eqxiuSvg.NAMESPACE, "polygon");
                return c.setAttribute("points", eqxiuSvg.pointsToPolygon([0, b / 2, a, 0, a, b])),
                c
            },
            triangleRight: function(a, b) {
                var c = document.createElementNS(eqxiuSvg.NAMESPACE, "polygon");
                return c.setAttribute("points", eqxiuSvg.pointsToPolygon([a, b / 2, 0, b, 0, 0])),
                c
            },
            arrowUp: function(a, b) {
                var c = document.createElementNS(eqxiuSvg.NAMESPACE, "polygon");
                return c.setAttribute("points", eqxiuSvg.pointsToPolygon([.5 * a, 0, a, .5 * b, .7 * a, .5 * b, .7 * a, b, .3 * a, b, .3 * a, .5 * b, 0, .5 * b, .5 * a, 0])),
                c
            },
            arrowDown: function(a, b) {
                var c = document.createElementNS(eqxiuSvg.NAMESPACE, "polygon");
                return c.setAttribute("points", eqxiuSvg.pointsToPolygon([.5 * a, b, a, .5 * b, .7 * a, .5 * b, .7 * a, 0, .3 * a, 0, .3 * a, .5 * b, 0, .5 * b, .5 * a, b])),
                c
            },
            arrowLeft: function(a, b) {
                var c = document.createElementNS(eqxiuSvg.NAMESPACE, "polygon");
                return c.setAttribute("points", eqxiuSvg.pointsToPolygon([a, .3 * b, .5 * a, .3 * b, .5 * a, 0, 0, .5 * b, .5 * a, b, .5 * a, .7 * b, a, .7 * b, a, .3 * b])),
                c
            },
            arrowRight: function(a, b) {
                var c = document.createElementNS(eqxiuSvg.NAMESPACE, "polygon");
                return c.setAttribute("points", eqxiuSvg.pointsToPolygon([0, .3 * b, .5 * a, .3 * b, .5 * a, 0, a, .5 * b, .5 * a, b, .5 * a, .7 * b, 0, .7 * b])),
                c
            },
            polygon: function(a, b, c) {
                var d = document.createElementNS(eqxiuSvg.NAMESPACE, "polygon")
                  
                
                , 
                e = [];
                if (3 === c)
                    e = [a / 2, 0, a, b, 0, b];
                else if (c > 3)
                    for (var f = a / 2, g = b / 2, h = 0; c > h; h++) {
                        var i = f + f * Math.cos(2 * Math.PI * h / c)
                          
                        
                        , 
                        j = g + g * Math.sin(2 * Math.PI * h / c);
                        i = Math.round(10 * i) / 10,
                        j = Math.round(10 * j) / 10,
                        e.push(i),
                        e.push(j)
                    }
                return d.setAttribute("points", eqxiuSvg.pointsToPolygon(e)),
                d
            }
        }
    }(),
    function(a) {
        "use strict";
        a.fn.swipeSlide = function(b, c) {
            function d(a, b) {
                a.css({
                    "-webkit-transition": "all " + b + "s " + C.transitionType,
                    transition: "all " + b + "s " + C.transitionType
                })
            }
            function e(a, b) {
                C.axisX ? a.css({
                    "-webkit-transform": "translate3d(" + b + "px,0,0)",
                    transform: "translate3d(" + b + "px,0,0)"
                }) : a.css({
                    "-webkit-transform": "translate3d(0," + b + "px,0)",
                    transform: "translate3d(0," + b + "px,0)"
                })
            }
            function f(a) {
                if (C.lazyLoad) {
                    var b = C.ul.find("[data-src]");
                    if (b.length > 0) {
                        var c = b.eq(a);
                        c.data("src") && (c.is("img") ? c.attr("src", c.data("src")).data("src", "") : c.css({
                            "background-image": "url(" + c.data("src") + ")"
                        }).data("src", ""))
                    }
                }
            }
            function g(a) {
                a.touches || (a.touches = a.originalEvent.touches)
            }
            function h(a) {
                r = a.touches[0].pageX,
                s = a.touches[0].pageY
            }
            function i(a) {
                if (a.preventDefault(),
                C.autoSwipe && p && clearInterval(p),
                w = a.touches[0].pageX,
                x = a.touches[0].pageY,
                t = w - r,
                u = x - s,
                d(C.ul, 0),
                C.axisX) {
                    if (!C.continuousScroll) {
                        if (0 == q && t > 0)
                            return t = 0,
                            o();
                        if (q + 1 >= F && 0 > t)
                            return t = 0,
                            o()
                    }
                    e(C.ul, -(D * parseInt(q) - t))
                } else {
                    if (!C.continuousScroll) {
                        if (0 == q && u > 0)
                            return u = 0,
                            o();
                        if (q + 1 >= F && 0 > u)
                            return u = 0,
                            o()
                    }
                    e(C.ul, -(E * parseInt(q) - u))
                }
            }
            function j() {
                v = C.axisX ? t : u,
                Math.abs(v) <= y ? k(.3) : v > y ? n() : -y > v && m(),
                o(),
                t = 0,
                u = 0
            }
            function k(a) {
                d(C.ul, a),
                C.axisX ? e(C.ul, -q * D) : e(C.ul, -q * E)
            }
            function l() {
                C.continuousScroll ? q >= F ? (k(.3),
                q = 0,
                setTimeout(function() {
                    k(0)
                }, 300)) : 0 > q ? (k(.3),
                q = F - 1,
                setTimeout(function() {
                    k(0)
                }, 300)) : k(.3) : (q >= F ? q = 0 : 0 > q && (q = F - 1),
                k(.3)),
                c(q)
            }
            function m() {
                q++,
                l(),
                C.lazyLoad && f(C.continuousScroll ? q + 2 : q + 1)
            }
            function n() {
                if (q--,
                l(),
                A && C.lazyLoad) {
                    var a = F - 1;
                    for (a; F + 1 >= a; a++)
                        f(a);
                    return void (A = !1)
                }
                !A && C.lazyLoad && f(q)
            }
            function o() {
                C.autoSwipe && (p = setInterval(function() {
                    m()
                }, C.speed))
            }
            var p, q = 0, 
            r = 0, 
            s = 0, 
            t = 0, 
            u = 0, 
            v = 0, 
            w = 0, 
            x = 0, 
            y = 50, 
            z = 0, 
            A = !0, 
            B = a(this), 
            C = a.extend({}, {
                ul: B.children("ul"),
                li: B.children().children("li"),
                continuousScroll: !1,
                autoSwipe: !0,
                speed: 4e3,
                axisX: !0,
                transitionType: "ease",
                lazyLoad: !1,
                clone: !0,
                width: 0,
                length: 0
            }, b || {}), 
            D = C.width || C.li.width(), 
            E = C.li.height(), 
            F = C.length || C.li.length;
            c = c || 
            function() {}
            ,
            function() {
                if (C.continuousScroll && (C.clone && C.ul.prepend(C.li.last().clone()).append(C.li.first().clone()),
                C.axisX ? (e(C.ul.children().first(), -1 * D),
                e(C.ul.children().last(), D * F)) : (e(C.ul.children().first(), -1 * E),
                e(C.ul.children().last(), E * F))),
                C.lazyLoad) {
                    var b = 0;
                    for (z = C.continuousScroll ? 3 : 2,
                    b; z > b; b++)
                        f(b)
                }
                C.axisX ? C.li.each(function(b) {
                    e(a(this), D * b)
                }) : C.li.each(function(b) {
                    e(a(this), E * b)
                }),
                o(),
                c(q, p),
                B.on("touchstart", function(a) {
                    a.stopPropagation(),
                    g(a),
                    h(a)
                }),
                B.on("touchmove", function(a) {
                    a.stopPropagation(),
                    g(a),
                    i(a)
                }),
                B.on("touchend", function(a) {
                    a.stopPropagation(),
                    j()
                })
            }()
        }
    }(a.Zepto || a.jQuery),
    function(b) {
        function c(a, b, c, d) {
            var e = {}
              
            
            , 
            f = a / b
              
            
            , 
            g = c / d;
            return f > g ? (e.width = c,
            e.height = c / f) : (e.height = d,
            e.width = d * f),
            e
        }
        function d(a) {
            $(a).bind("touchstart mousedown", function(a) {
                a.stopPropagation()
            })
        }
        function e(a, b) {
            if (b.trigger) {
                var c = $(a);
                h && clearTimeout(h),
                console.log('b.trigger', b.trigger.sends),
                b.trigger.sends && b.trigger.sends.length && $.each(b.trigger.sends, function(a, b) {
                    c.bind(utilTrigger.getSendType(b.type).name, function() {
                        h = setTimeout(function() {
                            $.each(b.handles, function(a, b) {
                                var c = utilTrigger.getHandleType(b.type).name;
                                $.each(b.ids, function(a, b) {
                                    var d = $("#inside_" + b);
                                    d.trigger(c)
                                })
                            })
                        }, 1e3 * b.delay)
                    })
                })
            }
        }
        function f(a, b) {
            if (b.sound) {
                var c = $(a)
                  
                
                , 
                d = $("#media").get(0);
                0 == b.sound.src.indexOf("http://") ? b.sound.src = b.sound.src : b.sound.src = PREFIX_FILE_HOST + b.sound.src,
                utilSound.addAudio(a, b.sound.src),
                c.click(function() {
                    utilSound.play(a, function() {
                        d && d.play()
                    }, function() {
                        d && d.pause()
                    })
                })
            }
        }
        var g = b.templateParser("jsonParser", function() {
            function a(a) {
                return function(b, c) {
                    a[b] = c
                }
            }
            function b(a, b) {
                try {
                    var c = k[("" + a.type).charAt(0)](a)
                } catch (d) {
                    return
                }
                if (c) {
                    var e = $('<li comp-drag comp-rotate class="comp-resize comp-rotate inside" id="inside_' + a.id + '" num="' + a.num + '" ctype="' + a.type + '"></li>');
                    3 != ("" + a.type).charAt(0) && 1 != ("" + a.type).charAt(0) && e.attr("comp-resize", ""),
                    "p" == ("" + a.type).charAt(0) && e.removeAttr("comp-rotate"),
                    1 == ("" + a.type).charAt(0) && e.removeAttr("comp-drag"),
                    2 == ("" + a.type).charAt(0) && e.addClass("wsite-text"),
                    4 == ("" + a.type).charAt(0) && (a.properties.imgStyle && $(c).css(a.properties.imgStyle),
                    e.addClass("wsite-image")),
                    "n" == ("" + a.type).charAt(0) && e.addClass("wsite-image"),
                    "h" == ("" + a.type).charAt(0) && e.addClass("wsite-shape"),
                    5 == ("" + a.type).charAt(0) && e.addClass("wsite-input"),
                    6 == ("" + a.type).charAt(0) && e.addClass("wsite-button"),
                    8 == ("" + a.type).charAt(0) && e.addClass("wsite-button"),
                    "m" == ("" + a.type).charAt(0) && e.addClass("wsite-map"),
                    "v" == ("" + a.type).charAt(0) && e.addClass("wsite-video"),
                    e.mouseenter(function() {
                        $(this).addClass("inside-hover")
                    }),
                    e.mouseleave(function() {
                        $(this).removeClass("inside-hover")
                    });
                    var f = $('<div class="element-box">').append($('<div class="element-box-contents">').append(c));
                    if (e.append(f),
                    5 != ("" + a.type).charAt(0) && 6 != ("" + a.type).charAt(0) && "r" != a.type && "c" != a.type && "a" != a.type && "8" != a.type && "l" != a.type && "s" != a.type && "i" != a.type && "h" != a.type || "edit" != b || $(c).before($('<div class="element" style="position: absolute; height: 100%; width: 100%;z-index: 1;">')),
                    a.css) {
                        var g = 320 - parseInt(a.css.left);
                        e.css({
                            width: g
                        }),
                        e.css({
                            width: a.css.width,
                            height: a.css.height,
                            left: a.css.left,
                            top: a.css.top,
                            zIndex: a.css.zIndex,
                            bottom: a.css.bottom,
                            transform: a.css.transform
                        }),
                        f.css(a.css).css({
                            width: "100%",
                            height: "100%",
                            transform: "none"
                        }),
                        f.children(".element-box-contents").css({
                            width: "100%",
                            height: "100%"
                        }),
                        4 != ("" + a.type).charAt(0) && "n" != ("" + a.type).charAt(0) && "p" != ("" + a.type).charAt(0) && "h" != ("" + a.type).charAt(0) && $(c).css({
                            width: a.css.width,
                            height: a.css.height
                        }),
                        "h" == ("" + a.type).charAt(0) && ($(c).find("g").length ? $(c).find("g").attr("fill", a.css.color) : $(c).children().attr("fill", a.css.color))
                    }
                    return e
                }
            }
            function c(a) {
                for (var b = 0; b < a.length - 1; b++)
                    for (var c = b + 1; c < a.length; c++)
                        if (parseInt(a[b].css.zIndex, 10) > parseInt(a[c].css.zIndex, 10)) {
                            var d = a[b];
                            a[b] = a[c],
                            a[c] = d
                        }
                for (var e = 0; e < a.length; e++)
                    a[e].css.zIndex = e + 1 + "";
                return a
            }
            function d(a, d, g) {
                d = d.find(".edit_area").css({
                    overflow: "hidden"
                });
                var h, i = a.elements;
                if (i)
                    for (i = c(i),
                    h = 0; h < i.length; h++)
                        if (3 == i[h].type) {
                            var j = k[("" + i[h].type).charAt(0)](i[h]);
                            "edit" == g && l[("" + i[h].type).charAt(0)] && l[("" + i[h].type).charAt(0)](j, i[h])
                        } else {
                            var o = b(i[h], g);
                            if (!o)
                                continue;
                            d.append(o);
                            for (var p = 0; p < n.length; p++)
                                n[p](o, i[h], g);
                            m[("" + i[h].type).charAt(0)] && (m[("" + i[h].type).charAt(0)](o, i[h]),
                            "edit" != g && (e(o, i[h]),
                            f(o, i[h]))),
                            "edit" == g && l[("" + i[h].type).charAt(0)] && l[("" + i[h].type).charAt(0)](o, i[h])
                        }
            }
            function g() {
                return l
            }
            function h() {
                return k
            }
            function i(a) {
                n.push(a)
            }
            function j() {
                return n
            }
            var k = {}
              
            
            , 
            l = {}
              
            
            , 
            m = {}
              
            
            , 
            n = []
              
            
            , 
            o = containerWidth = 320
              
            
            , 
            p = containerHeight = 486
              
            
            , 
            r = 1
              
            
            , 
            s = 1
              
            
            , 
            t = {
                getComponents: h,
                getEventHandlers: g,
                addComponent: a(k),
                bindEditEvent: a(l),
                bindAfterRenderEvent: a(m),
                addInterceptor: i,
                getInterceptors: j,
                wrapComp: b,
                mode: "view",
                parse: function(a) {
                    var b = $('<div class="edit_wrapper"><ul eqx-edit-destroy id="edit_area' + a.def.id + '" comp-droppable paste-element class="edit_area weebly-content-area weebly-area-active"></div>')
                      
                    
                    , 
                    c = this.mode = a.mode;
                    this.def = a.def,
                    "view" == c && q++;
                    var e = $(a.appendTo);
                    return containerWidth = e.width(),
                    containerHeight = e.height(),
                    r = o / containerWidth,
                    s = p / containerHeight,
                    d(a.def, b.appendTo($(a.appendTo)), c)
                }
            };
            return t
        });
        g.addInterceptor(function(a, b, c) {
            r.animation(a, b, c)
        }),
        g.addComponent("1", function(a) {
            var b = document.createElement("div");
            if (b.id = a.id,
            b.setAttribute("class", "element comp_title"),
            a.content && (b.textContent = a.content),
            a.css) {
                var c, d = a.css;
                for (c in d)
                    b.style[c] = d[c]
            }
            if (a.properties.labels)
                for (var e = a.properties.labels, f = 0; f < e.length; f++)
                    $('<a class = "label_content" style = "display: inline-block;">').appendTo($(b)).html(e[f].title).css(e[f].color).css("width", 100 / e.length + "%");
            return b
        }),
        g.addComponent("2", function(a) {
            var b = document.createElement("div");
            return b.id = a.id,
            b.setAttribute("ctype", a.type),
            b.setAttribute("class", "element comp_paragraph editable-text"),
            a.content && (b.innerHTML = a.content),
            b.style.cursor = "default",
            b
        }),
        g.addComponent("3", function(a) {
            var b, c = document.createElement("div");
            "edit" == g.mode ? (b = $("#nr .edit_wrapper"),
            c.setAttribute("class", "wrapper-background")) : "view" == g.mode && (b = $("#edit_area" + g.def.id).parent(".edit_wrapper"),
            c.setAttribute("id", "wrapper-background" + g.def.id)),
            $(c).prependTo(b).css({
                width: "100%",
                height: "100%"
            });
            var d, e = new Image;
            return a.properties.imgSrc ? (d = a.properties.imgSrc,
            /^http.*!/.test(d) ? (e.src = d,
            c.style.backgroundImage = "url(" + d + ")") : (e.src = PREFIX_FILE_HOST + "/" + d,
            c.style.backgroundImage = "url(" + PREFIX_FILE_HOST + "/" + d + ")"),
            c.style.backgroundOrigin = "element content-box",
            c.style.backgroundSize = "cover",
            c.style.backgroundPosition = "50% 50%",
            a.effect && ("scaleUp" == a.effect.type ? $(c).css({
                animation: "scaleUp 7s ease 1s",
                "animation-fill-mode": "both"
            }) : "scaleDown" == a.effect.type && $(c).css({
                animation: "scaleDown 7s ease 1s",
                "animation-fill-mode": "both"
            }))) : a.properties.bgColor && (c.style.backgroundColor = a.properties.bgColor),
            c
        }),
        g.addComponent("4", function(a) {
            var b = document.createElement("img");
            return b.id = a.id,
            b.setAttribute("ctype", a.type),
            b.setAttribute("class", "element comp_image editable-image"),
            /^http.*/.test(a.properties.src) ? b.src = a.properties.src : b.src = PREFIX_FILE_HOST + a.properties.src,
            b
        }),
        g.addComponent("h", function(a) {
            var b = i()
              
            
            , 
            c = document.createElementNS(eqxiuSvg.NAMESPACE, "svg");
            c.id = a.id,
            c.setAttribute("xmlns", eqxiuSvg.NAMESPACE),
            c.setAttribute("version", "1.1"),
            c.setAttribute("width", "100%"),
            c.setAttribute("height", "100%"),
            c.setAttribute("preserveAspectRatio", "xMidYMid"),
            c.setAttribute("preserveAspectRatio", "none"),
            c.removeAttribute("style"),
            c.setAttribute("class", "element svg-element");
            var d = eqxiuSvg.ShapeFromType(a.properties.type, 100, 100);
            if (d.setAttribute("fill", "#555"),
            !d.innerHTML || !b) {
                c.appendChild(d);
                var e = eqxiuSvg.boundingBox(d);
                return c.setAttribute("viewBox", [Math.round(e.x) || 0, Math.round(e.y) || 0, Math.round(e.width) || 64, Math.round(e.height) || 64].join(" ")),
                c
            }
            var f = '<svg id="' + a.id + '" class="element svg-element" xmlns="' + eqxiuSvg.NAMESPACE + '" version="1.1" width="100%" height="100%" preserveAspectRatio="none" viewBox="' + a.properties.viewBox + '"><g fill="' + a.css.color + '">' + d.innerHTML + "</g></svg>";
            return f
        }),
        g.addComponent("m", function(a) {
            var b = document.createElement("a");
            return b.setAttribute("class", "element map_area"),
            b.id = a.id,
            b.setAttribute("ctype", a.type),
            a.properties.src && b.setAttribute("mapurl", a.properties.src),
            b
        }),
        g.addComponent("v", function(a) {
            var b = document.createElement("a");
            return b.setAttribute("class", "element video_area"),
            b.id = a.id,
            b.setAttribute("ctype", a.type),
            a.properties.src && b.setAttribute("videourl", a.properties.src),
            b
        }),
        g.addComponent("5", function(a) {
            var b = document.createElement("textarea");
            return b.id = a.id,
            b.setAttribute("ctype", a.type),
            b.setAttribute("class", "element comp_input editable-text"),
            b.setAttribute("maxlength", "300"),
            a.properties.required && b.setAttribute("required", a.properties.required),
            a.properties.placeholder && b.setAttribute("placeholder", a.properties.placeholder),
            b.setAttribute("name", "eq[f_" + a.id + "]"),
            b.style.width = "100%",
            b
        }),
        g.addComponent("r", function(a) {
            var b = $('<div class="element comp_radio editable-text" id="' + a.id + '"></div>');
            b.attr("ctype", a.type),
            b.attr("required", a.properties.required),
            b.attr("title", a.title),
            b.attr("name", "eq[f_" + a.id + "]");
            var c = $('<div class="radio-title">' + a.title + "</div>");
            a.properties.titleStyle && c.css(a.properties.titleStyle),
            b.append(c);
            var d = $('<div class="options"></div>')
              
            
            , 
            e = JSON.parse(a.choices);
            return $.each(e.options, function(b, c) {
                var f = $('<div class="option-group"><label class="option-label" for="' + (a.id + "" + (b + 1)) + '"><input class="option" id="' + (a.id + "" + (b + 1)) + '" type="radio" name="eq[f_' + a.id + ']" value="' + c.id + '">' + c.label + "</label></div>");
                a.properties.optionStyle && b < e.options.length - 1 && f.css(a.properties.optionStyle),
                d.append(f)
            }),
            b.append(d),
            b.width("100%"),
            b.get(0)
        }),
        g.addComponent("c", function(a) {
            var b = $('<div class="element comp_radio editable-text" id="' + a.id + '"></div>');
            b.attr("ctype", a.type),
            b.attr("required", a.properties.required),
            b.attr("title", a.title),
            b.attr("name", "eq[f_" + a.id + "]");
            var c = $('<div class="radio-title">' + a.title + "(可多选)</div>");
            a.properties.titleStyle && c.css(a.properties.titleStyle),
            b.append(c);
            var d = $('<div class="options"></div>')
              
            
            , 
            e = JSON.parse(a.choices);
            return $.each(e.options, function(b, c) {
                var f = $('<div class="option-group"><label class="option-label" for="' + (a.id + "" + (b + 1)) + '"><input class="option" id="' + (a.id + "" + (b + 1)) + '" type="checkbox" name="eq[f_' + a.id + ']" value="' + c.id + '">' + c.label + "</label></div>");
                a.properties.optionStyle && b < e.options.length - 1 && f.css(a.properties.optionStyle),
                d.append(f)
            }),
            b.append(d),
            b.width("100%"),
            b.get(0)
        }),
        g.addComponent("a", function(a) {
            var b = $('<div class="element comp_rating editable-text" id="' + a.id + '"></div>');
            b.attr("ctype", a.type),
            b.attr("required", a.properties.required),
            b.attr("title", a.title),
            b.attr("name", "eq[f_" + a.id + "]"),
            b.append($('<div class="rating-title">' + a.title + "</div>"));
            for (var c = $('<div class="rating-icons"></div>'), d = 0; 5 > d; d++)
                c.append($('<i class="' + a.properties.icon + "-line " + a.properties.size + '">').css("color", a.properties.color));
            return b.append(c),
            b.append($('<input type="hidden" name="eq[f_' + a.id + ']" value="">')),
            b.width("100%"),
            b.get(0)
        }),
        g.addComponent("p", function(a) {
            if (a.properties && a.properties.children) {
                var b = a.css.width
                  
                
                , 
                d = a.css.height
                  
                
                , 
                e = $('<div id="' + a.id + '" class="slider element" ctype="' + a.type + '"></div>');
                return a.properties.bgColor && e.css("backgroundColor", a.properties.bgColor),
                $.each(a.properties.children, function(a, f) {
                    var g = c(f.width, f.height, b, d)
                      
                    
                    , 
                    h = $('<img src="' + PREFIX_FILE_HOST + f.src + '">');
                    h.css({
                        margin: (d - g.height) / 2 + "px " + (b - g.width) / 2 + "px",
                        width: g.width,
                        height: g.height
                    }),
                    e.append(h)
                }),
                utilPictures.deleteInterval(a.id),
                e.get(0)
            }
        }),
        g.addComponent("n", function(a) {
            if (a.properties && a.properties.pics.length) {
                var b = (a.css.width,
                a.css.height,
                $('<div id="' + a.id + '" class="random-event element comp_image editable-image" ctype="' + a.type + '"></div>'));
                return $.each(a.properties.pics, function(a, c) {
                    var d = $('<img src="' + PREFIX_FILE_HOST + c.src + '">');
                    d.css({
                        width: "100%",
                        height: "100%",
                        display: "none"
                    }),
                    0 === a && (d.css({
                        display: "block"
                    }),
                    b.css({
                        width: "100%",
                        height: "100%"
                    })),
                    b.append(d)
                }),
                b.get(0)
            }
        }),
        g.addComponent("6", function(a) {
            var b = document.createElement("button");
            if (b.id = a.id,
            b.setAttribute("ctype", a.type),
            b.setAttribute("class", "element comp_button editable-text"),
            a.properties.title) {
                var c = a.properties.title.replace(/ /g, "&nbsp;");
                b.innerHTML = c
            }
            return b.style.width = "100%",
            b
        }),
        g.addComponent("L", function(a) {
            var b = document.createElement("a");
            b.id = a.id,
            b.setAttribute("ctype", a.type),
            b.setAttribute("class", "element comp_anchor editable-text");
            var c = null ;
            return a.properties.imgSrc ? (c = $('<img style="width: 100%; height: 100%;" src="' + (PREFIX_FILE_HOST + a.properties.imgSrc) + '"></img>'),
            $(b).html(c),
            "view" == g.mode && $(b).attr("href", "tel:" + a.properties.number)) : a.properties.title && (c = a.properties.title.replace(/ /g, "&nbsp;"),
            $(b).html(c)),
            b.style.cursor = "default",
            b.style.width = "100%",
            b
        }),
        g.addComponent("8", function(a) {
            var b = document.createElement("a");
            b.id = a.id,
            b.setAttribute("ctype", a.type),
            b.setAttribute("class", "element comp_anchor editable-text");
            var c = null ;
            return a.properties.imgSrc ? (c = $('<img style="width: 100%; height: 100%;" src="' + (PREFIX_FILE_HOST + a.properties.imgSrc) + '"></img>'),
            $(b).html(c),
            "view" == g.mode && $(b).attr("href", "tel:" + a.properties.number)) : a.properties.title && (c = a.properties.title.replace(/ /g, "&nbsp;"),
            $(b).html(c),
            "view" == g.mode && $(b).attr("href", "tel:" + a.properties.number)),
            b.style.cursor = "default",
            b.style.width = "100%",
            b
        }),
        g.addComponent("l", function(a) {
            var b = document.createElement("a");
            b.id = a.id,
            b.setAttribute("ctype", a.type),
            b.setAttribute("class", "element comp_anchor editable-text");
            var c = null ;
            return a.properties.imgSrc ? (c = $('<img style="width: 100%; height: 100%;" src="' + (PREFIX_FILE_HOST + a.properties.imgSrc) + '"></img>'),
            $(b).html(c)) : a.properties.title && (c = a.properties.title.replace(/ /g, "&nbsp;"),
            $(b).html(c)),
            b.style.cursor = "default",
            b.style.width = "100%",
            b
        }),
        g.addComponent("s", function(a) {
            var b = document.createElement("a");
            b.id = a.id,
            b.setAttribute("ctype", a.type),
            b.setAttribute("class", "element comp_anchor editable-text");
            var c = null ;
            return a.properties.imgSrc ? (c = $('<img style="width: 100%; height: 100%;" src="' + (PREFIX_FILE_HOST + a.properties.imgSrc) + '"></img>'),
            $(b).html(c)) : a.properties.title && (c = a.properties.title.replace(/ /g, "&nbsp;"),
            $(b).html(c)),
            b.style.cursor = "default",
            b.style.width = "100%",
            b
        }),
        g.addComponent("i", function(a) {
            var c = $('<div class="element comp_counter not-voted editable-text" id="' + a.id + '"></div>');
            c.attr("ctype", a.type),
            c.attr("name", "eq[f_" + a.id + "]"),
            c.addClass(a.properties.layout).addClass(a.properties.size);
            var d = $('<div class="counter-container"></div>');
            a.properties.imgSrc ? d.append($('<img class="counter-elem counter-icon" style="width: 115px; height: 115px; margin: 0 auto;" src="' + (PREFIX_FILE_HOST + a.properties.imgSrc) + '"></img>')) : d.append($('<i class="counter-elem counter-icon ' + a.properties.icon + '">').css("color", a.properties.color));
            var e = $('<span class="counter-elem counter-number">0</span>').css("color", a.properties.color);
            if (d.append(e),
            "view" == g.mode ? b.counterValues && b.counterValues.then(function(b) {
                var c = b.map[a.id] || 0;
                e.text(c)
            }) : c.removeClass("not-voted"),
            c.width("100%"),
            "counter-tb" === a.properties.layout) {
                var f = 0;
                f = a.properties.imgSrc ? "counter-l" == a.properties.size ? 77 : "counter-m" == a.properties.size ? 71 : 66 : "counter-l" == a.properties.size ? 40 : "counter-m" == a.properties.size ? 30 : 20,
                d.css("margin-top", -f)
            }
            return c.append(d),
            a.css.lineHeight && c.css("line-height", a.css.lineHeight),
            c.get(0)
        }),
        g.addComponent("7", function(a) {
            var b = document.createElement("div");
            if (b.id = "map_" + a.id,
            b.setAttribute("class", "element comp_map_wrapper"),
            a.content && (b.textContent = a.content),
            a.css) {
                var c, d = a.css;
                for (c in d)
                    b.style[c] = d[c]
            }
            return b.style.height = "250px",
            b
        }),
        g.bindAfterRenderEvent("1", function(a, b) {
            if (a = $("div", a)[0],
            "view" == g.mode && 1 == b.type) {
                var c = b.properties.labels;
                for (key in c)
                    !
                    function(b) {
                        $($(a).find(".label_content")[b]).on("click", function() {
                            pageScroll(c[b])
                        })
                    }(key)
            }
        }),
        g.bindAfterRenderEvent("8", function(a, b) {
            a = $("a", a)[0];
            var c = {
                id: b.sceneId,
                num: b.properties.number
            };
            if ("view" == g.mode) {
                var d = function() {
                    $.ajax({
                        cache: !0,
                        type: "POST",
                        url: PREFIX_S1_URL + "eqs/dial",
                        data: $.param(c),
                        async: !1,
                        error: function(a) {
                            alert("Connection error")
                        },
                        success: function(a) {}
                    })
                }
                ;
                a.addEventListener("click", d)
            }
        }),
        g.bindAfterRenderEvent("l", function(b, c) {
            if (b = $("a", b)[0],
            "view" == g.mode) {
                var d = c.properties.url;
                $(b).click(function(b) {
                    isNaN(d) ? a.open(d) : eqxiu.pageScroll(d)
                })
            }
        }),
        g.bindAfterRenderEvent("s", function(a, b) {
            a = $("a", a)[0],
            "view" == g.mode && $(a).click(function(a) {})
        }),
        g.bindAfterRenderEvent("i", function(a, b) {
            if ("view" == g.mode) {
                var c = $(a).find(".counter-icon");
                c.click(function(d) {
                    var e = {
                        sceneId: b.sceneId,
                        fieldId: b.id
                    }
                      
                    
                    , 
                    f = $(a);
                    $.ajax({
                        cache: !0,
                        type: "POST",
                        url: PREFIX_S1_URL + "eqs/scene/counter",
                        data: $.param(e),
                        async: !1,
                        error: function(a) {
                            alert("Connection error")
                        },
                        success: function(a) {
                            c.unbind("click"),
                            f.find(".comp_counter").removeClass("not-voted");
                            var b = parseInt($(".counter-number", f).text(), 10) || 0;
                            $(".counter-number", f).text(b + 1)
                        }
                    })
                })
            }
        }),
        g.bindAfterRenderEvent("4", function(b, c) {
            "view" == g.mode && c.properties.url && $(b).click(function(b) {
                var d = c.properties.url;
                isNaN(d) ? a.open(d) : eqxiu.pageScroll(d)
            })
        }),
        g.bindAfterRenderEvent("n", function(a, b) {}),
        g.bindAfterRenderEvent("h", function(b, c) {
            "view" == g.mode && c.properties.url && $(b).click(function(b) {
                var d = c.properties.url;
                isNaN(d) ? a.open(d) : eqxiu.pageScroll(d)
            })
        }),
        g.bindAfterRenderEvent("5", function(a, b) {
            var c = i();
            d($(a).find("textarea")),
            "view" == g.mode && c && parseFloat(b.css.top) >= 280 && ($(a).find("textarea").focus(function(b) {
                $(a).closest(".edit_area").css({
                    top: "-150px"
                })
            }),
            $(a).find("textarea").blur(function(b) {
                $(a).closest(".edit_area").css({
                    top: 0
                })
            }))
        }),
        g.bindAfterRenderEvent("r", function(a, b) {
            "view" == g.mode && d($(a).find("label"))
        }),
        g.bindAfterRenderEvent("c", function(a, b) {
            "view" == g.mode && d($(a).find("label"))
        }),
        g.bindAfterRenderEvent("v", function(a, b) {
            "view" == g.mode && $(a).click(function() {
                $(a).hide(),
                $("#audio_btn").hasClass("video_exist") && ($("#audio_btn").hide(),
                $("#media")[0].pause()),
                utilSound.pause(),
                $('<div class="video_mask page_effect lock" id="mask_' + b.id + '"></div>').appendTo($(a).closest(".m-img")),
                $('<a class = "close_mask" id="close_' + b.id + '"></a>').appendTo($(a).closest(".m-img")),
                $(b.properties.src).appendTo($("#mask_" + b.id)).attr("style", "position: absolute;top:0; min-height: 45%; max-height: 100%; top: 20%;").attr("width", "100%").removeAttr("height"),
                $("#close_" + b.id).bind("click", function() {
                    $(a).show(),
                    $("#mask_" + b.id).remove(),
                    $("#close_" + b.id).remove(),
                    $("#audio_btn").hasClass("video_exist") && $("#audio_btn").show(function() {
                        $("#media")[0].play()
                    })
                })
            })
        }),
        g.bindAfterRenderEvent("2", function(a, b) {
            for (var c = $(a).find("a[data]"), d = 0; d < c.length; d++)
                if (c[d] && "view" == g.mode) {
                    $(c[d]).css("cursor", "pointer");
                    var e = $(c[d]).attr("data");
                    !
                    function(a) {
                        c[d].removeAttribute("href"),
                        $(c[d]).click(function(b) {
                            eqxiu.pageScroll(a)
                        })
                    }(e)
                }
        }),
        g.bindAfterRenderEvent("6", function(a, b) {
            if (a = $("button", a)[0],
            "view" == g.mode) {
                var c = function(b, c) {
                    var d = !0
                      
                    
                    , 
                    e = $(a).parents(".nr")
                      
                    
                    , 
                    f = {};
                    if ($("textarea", e).each(function() {
                        if (d) {
                            if ("required" == $(this).attr("required") && "" == $(this).val().trim())
                                return alert($(this).attr("placeholder") + "为必填项"),
                                void (d = !1);
                            if ("502" == $(this).attr("ctype") && "" !== $(this).val().trim()) {
                                var a = new RegExp(/(\d{11})|^((\d{7,8})|(\d{4}|\d{3})-(\d{7,8})|(\d{4}|\d{3})-(\d{7,8})-(\d{4}|\d{3}|\d{2}|\d{1})|(\d{7,8})-(\d{4}|\d{3}|\d{2}|\d{1}))$/g);
                                if (!a.test($(this).val()))
                                    return alert("手机号码格式错误"),
                                    void (d = !1)
                            }
                            if ("503" == $(this).attr("ctype") && "" !== $(this).val().trim()) {
                                var b = new RegExp(/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/g);
                                if (!b.test($(this).val()))
                                    return alert("邮箱格式错误"),
                                    void (d = !1)
                            }
                            f[$(this).attr("name")] = $(this).val()
                        }
                    }),
                    $("input:checked", e).each(function() {
                        var a = $(this);
                        f[a.attr("name")] ? f[a.attr("name")] += "," + a.val() : f[a.attr("name")] = a.val()
                    }),
                    $('.comp_radio[required="required"]', e).each(function() {
                        var a = $(this);
                        f[a.attr("name")] || (alert(a.attr("title") + "为必填项"),
                        d = !1)
                    }),
                    $('input[type="hidden"]', e).each(function() {
                        f[$(this).attr("name")] = $(this).val()
                    }),
                    $('.comp_rating[required="required"]', e).each(function() {
                        var a = $(this);
                        f[a.attr("name")] && "0" != f[a.attr("name")] || (alert(a.attr("title") + "为必填项"),
                        d = !1)
                    }),
                    d) {
                        var g = !1;
                        if ($.isEmptyObject(f))
                            return void (g = !0);
                        for (var h in f)
                            if ("" !== f[h]) {
                                g = !0;
                                break
                            }
                        return g ? void $.ajax({
                            cache: !0,
                            type: "POST",
                            url: PREFIX_S1_URL + "eqs/r/" + c,
                            data: $.param(f),
                            async: !1,
                            error: function(a) {
                                alert("Connection error")
                            },
                            success: function(a) {
                                $(b).unbind("click").click(function() {
                                    alert("请不要重复提交")
                                }),
                                alert("谢谢您的参与！")
                            }
                        }) : void alert("请填写表单")
                    }
                }
                  
                
                , 
                d = g.def.sceneId;
                $(a).bind("click", function() {
                    c(this, d)
                })
            }
        }),
        g.bindAfterRenderEvent("7", function(a, b) {
            var c = new BMap.Map("map_" + b.id,{
                enableMapClick: !1
            })
              
            
            , 
            d = new BMap.Point(b.properties.x,b.properties.y)
              
            
            , 
            e = new BMap.Marker(d);
            c.addOverlay(e);
            var f = new BMap.Label(b.properties.markTitle,{
                offset: new BMap.Size(20,-10)
            });
            e.setLabel(f),
            c.disableDoubleClickZoom(),
            c.centerAndZoom(d, 15)
        }),
        g.bindAfterRenderEvent("p", function(a, b) {
            $(a).closest(".page_tpl_container ").length || ($(a).children(".element-box").css("overflow", "visible"),
            utilPictures.deleteInterval(b.id),
            new flux.slider("#" + b.id,{
                autoplay: b.properties.autoPlay,
                delay: b.properties.interval,
                pagination: !1,
                transitions: [utilPictures.getPicStyle(b.properties.picStyle).name],
                width: b.css.width,
                height: b.css.height,
                bgColor: b.properties.bgColor,
                onStartEnd: function(a) {
                    utilPictures.addInterval(b.id, a)
                }
            }))
        }),
        g.bindAfterRenderEvent("a", function(a, b) {
            function c(a) {
                f.each(function(b, c) {
                    $(c).removeClass(i).addClass(i + "-line"),
                    a >= b && $(c).removeClass(i + "-line").addClass(i)
                })
            }
            var e = $(a);
            if ("view" == g.mode) {
                var f = e.find("i")
                  
                
                , 
                h = e.find("input")
                  
                
                , 
                i = b.properties.icon;
                f.each(function(a, b) {
                    $(b).bind("click", function() {
                        c(a),
                        h.val(a + 1)
                    }),
                    $(b).bind("mouseenter", function() {
                        c(a)
                    })
                }),
                e.find(".rating-icons").bind("mouseleave", function() {
                    c(parseInt(h.val(), 10) - 1)
                }),
                d(e.find(".rating-icons"))
            }
        });
        var h
    }(a.eqShow),
    function(a) {
        function b() {
            var a = {};
            this.addInterval = function(b, c) {
                a[b] = c
            }
            ,
            this.deleteInterval = function(b) {
                a[b] && (clearInterval(a[b]),
                delete a[b])
            }
            ,
            this.clearInterval = function() {
                for (var b in a)
                    this.deleteInterval(b)
            }
            ;
            var b = [{
                value: 1,
                desc: "轮播",
                name: "slide"
            }, {
                value: 2,
                desc: "下落",
                name: "bars"
            }, {
                value: 3,
                desc: "百页窗",
                name: "blinds"
            }, {
                value: 4,
                desc: "消隐",
                name: "blocks"
            }, {
                value: 5,
                desc: "渐变",
                name: "blocks2"
            }, {
                value: 9,
                desc: "梳理",
                name: "zip"
            }, {
                value: 11,
                desc: "翻转",
                name: "bars3d"
            }, {
                value: 13,
                desc: "立方体",
                name: "cube"
            }, {
                value: 14,
                desc: "棋盘",
                name: "tiles3d"
            }, {
                value: 16,
                desc: "飞出",
                name: "explode"
            }];
            this.getPicStyle = function(a) {
                if (a === c)
                    return b;
                for (var d = 0; d < b.length; d++)
                    if (a === b[d].value)
                        return b[d]
            }
        }
        a.utilPictures = new b
    }(a),
    function(a, b) {
        function c() {
            var a, c, d, e = [];
            b("#media");
            this.addAudio = function(a, f) {
                var g = new Audio;
                g.src = f,
                e.push({
                    elem: a,
                    audio: g
                }),
                b(g).bind("ended", function() {
                    c = !1,
                    d()
                })
            }
            ,
            this.play = function(b, f, g) {
                var h;
                d = f;
                for (var i = 0; i < e.length; i++)
                    e[i].elem == b && (h = e[i].audio);
                a == h && c ? (h.pause(),
                c = !1,
                f()) : a != h || c ? (a && a.pause(),
                h.currentTime = 0,
                h.play(),
                g(),
                c = !0,
                a = h) : (h.play(),
                c = !0,
                g())
            }
            ,
            this.pause = function() {
                a && (a.pause(),
                c = !1)
            }
        }
        a.utilSound = new c
    }(a, $),
    function(a) {
        function b() {
            var a = {
                CLICK: {
                    name: "click",
                    value: 1,
                    title: "点击"
                }
            }
              
            
            , 
            b = {
                SHOW: {
                    name: "show",
                    value: 1
                },
                HIDE: {
                    name: "hide",
                    value: 2
                },
                RANDOMEVENT: {
                    name: "randomEvent",
                    value: 3
                }
            };
            this.getSendType = function(b) {
                if (b === c)
                    return a;
                for (var d in a)
                    if (b === a[d].value)
                        return a[d];
                return null 
            }
            ,
            this.getHandleType = function(a) {
                if (a === c)
                    return b;
                for (var d in b)
                    if (a === b[d].value)
                        return b[d];
                return null 
            }
        }
        a.utilTrigger = new b
    }(a);
    var q = 0
      
    
    , 
    r = function() {
        var a = function(a) {
            var b, c, d = a.type;
            return 0 === d && (b = "fadeIn"),
            1 === d && (c = a.direction,
            0 === c && (b = "fadeInLeft"),
            1 === c && (b = "fadeInDown"),
            2 === c && (b = "fadeInRight"),
            3 === c && (b = "fadeInUp")),
            6 === d && (b = "wobble"),
            5 === d && (b = "rubberBand"),
            7 === d && (b = "rotateIn"),
            8 === d && (b = "flip"),
            9 === d && (b = "swing"),
            2 === d && (c = a.direction,
            0 === c && (b = "bounceInLeft"),
            1 === c && (b = "bounceInDown"),
            2 === c && (b = "bounceInRight"),
            3 === c && (b = "bounceInUp")),
            3 === d && (b = "bounceIn"),
            4 === d && (b = "zoomIn"),
            10 === d && (b = "fadeOut"),
            11 === d && (b = "flipOutY"),
            12 === d && (b = "rollIn"),
            13 === d && (b = "lightSpeedIn"),
            14 === d && (b = "bounceOut"),
            15 === d && (b = "rollOut"),
            16 === d && (b = "lightSpeedOut"),
            17 === d && (c = a.direction,
            0 === c && (b = "fadeOutRight"),
            1 === c && (b = "fadeOutDown"),
            2 === c && (b = "fadeOutLeft"),
            3 === c && (b = "fadeOutUp")),
            18 === d && (b = "zoomOut"),
            19 === d && (c = a.direction,
            0 === c && (b = "bounceOutRight"),
            1 === c && (b = "bounceOutDown"),
            2 === c && (b = "bounceOutLeft"),
            3 === c && (b = "bounceOutUp")),
            20 === d && (b = "flipInY"),
            21 === d && (b = "tada"),
            22 === d && (b = "jello"),
            23 === d && (b = "flash"),
            24 === d && (b = "flipInX"),
            25 === d && (b = "flipOutX"),
            b
        }
          
        
        , 
        b = function(a, b, c) {
            function d(a, b, f) {
                if (f.length && e < f.length) {
                    a.css("animation", "");
                    a.get(0);
                    a.css("animation", b[e] + " " + f[e].duration + "s ease " + f[e].delay + "s " + (f[e].countNum ? f[e].countNum : "")),
                    "view" == c ? (f[e].count && e == f.length - 1 && a.css("animation-iteration-count", "infinite"),
                    a.css("animation-fill-mode", "both")) : (a.css("animation-iteration-count", "1"),
                    a.css("animation-fill-mode", "backwards")),
                    f[e].linear && a.css("animation-timing-function", "linear"),
                    a.one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend", function() {
                        e++,
                        d(a, b, f)
                    })
                }
            }
            var e = 0;
            if (b.properties && b.properties.anim) {
                var f = [];
                b.properties.anim.length ? f = b.properties.anim : f.push(b.properties.anim);
                var g = $(".element-box", a);
                g.attr("element-anim", "");
                for (var h, i = [], j = [], k = 0, l = f.length; l > k; k++)
                    null  != f[k].type && -1 != f[k].type && (h = r.convertType(f[k]),
                    i.push(h),
                    j.push(f[k]));
                b.properties.anim.trigger ? a.click(function() {
                    d(g, h, b.properties.anim)
                }) : d(g, i, j)
            }
        }
          
        
        , 
        c = function(a, b) {
            var c = $(a);
            b.trigger && b.trigger.receives && b.trigger.receives.length && $.each(b.trigger.receives, function(a, d) {
                if (d.ids.length) {
                    var e = utilTrigger.getHandleType(d.type).name;
                    ("show" == e || "randomEvent" == e) && c.hide(),
                    "hide" == e && c.show(),
                    c.bind(e, function() {
                        if ("show" == e)
                            $(this).show();
                        else if ("hide" == e)
                            $(this).hide();
                        else if ("randomEvent" == e) {
                            $(this).show();
                            var a = Math.floor(Math.random() * b.properties.pics.length);
                            $(this).find("img").css({
                                display: "none"
                            }),
                            $(this).find("img").eq(a).css({
                                display: "block"
                            })
                        }
                    })
                }
            })
        }
        ;
        return {
            convertType: a,
            animation: b,
            bindTrigger: c
        }
    }();
    b.module("active", ["services.active"]),
    b.module("active").controller("ActiveCtrl", ["$rootScope", "$http", "$scope", "$timeout", "security", "$window", "activeService", "MineService", "$routeParams", function(a, b, c, d, e, f, g, h, i) {
        c.PREFIX_FILE_HOST = PREFIX_FILE_HOST,
        c.PREFIX_SERVER_HOST = PREFIX_URL,
        c.PREFIX_CLIENT_HOST = PREFIX_HOST,
        c.pageNo = 1,
        c.pageSize = 12,
        c.showMoreButton = !0,
        c.promId = i.id,
        14778 == i.id ? c.activeOne = !0 : 14779 == i.id && (c.activeTwo = !0),
        c.getActiveList = function(a, b, d) {
            g.getActiveList(c.promId, c.pageNo, c.pageSize).then(function(a) {
                if (c.activeList = a.data.list,
                a.data.list)
                    for (var b = 0; b < c.activeList.length; b++)
                        c.activeList[b].headImg ? 0 === c.activeList[b].headImg.indexOf("http://") ? c.activeList[b].headImg = c.activeList[b].headImg : c.activeList[b].headImg = PREFIX_FILE_HOST + c.activeList[b].headImg : c.activeList[b].headImg = CLIENT_CDN + "assets/images/xiaotouxiang.png"
            })
        }
        ,
        c.getActiveList(),
        c.showMore = function(a) {
            c.pageNo++,
            g.getActiveList(c.promId, c.pageNo, c.pageSize).then(function(a) {
                if (a.data.list.length > 0) {
                    for (var b = 0; b < a.data.list.length; b++)
                        a.data.list[b].headImg ? 0 === a.data.list[b].headImg.indexOf("http://") ? a.data.list[b].headImg = a.data.list[b].headImg : a.data.list[b].headImg = PREFIX_FILE_HOST + a.data.list[b].headImg : a.data.list[b].headImg = CLIENT_CDN + "assets/images/xiaotouxiang.png";
                    c.activeList = c.activeList.concat(a.data.list)
                } else
                    c.showMoreButton = !1
            })
        }
    }
    ]),
    b.module("app", ["ngRoute", "home", "sample", 
    "active", "show", "main", "reg", 
    "scene", "my", "data", 
    "data.edit", "error", "usercenter", 
    "ui.bootstrap", "ui.grid", "ui.grid.selection", 
    "ngSanitize", "ui.select", "services.i18nNotifications", 
    "services.httpRequestTracker", "services.sample", "services.active", "services.config", 
    "services.configSer", "security", "app.upload", "templates-app", 
    "templates-common", "ui.sortable", "I18N.MESSAGES", 
    "app.directives.keymap", "app.directives.notification", "active1", 
    "activeXq", "search", "category", 
    "nav", "recommend", "visitor", "visitorXq"]),
    
    b.module("app").config(["$routeProvider", "$locationProvider", "securityAuthorizationProvider", "uiSelectConfig", 
    function(a, b, c, d) {
        d.theme = "bootstrap",
        a.when("/home", {
            feedBackUrl: "http://eqxiu.com/v-vk2Ucz15",
            templateUrl: "home/home.tpl.html",
            controller: "HomeCtrl"
        }).when("/test/create/:sceneId", {
            /*templateUrl: "about.tpl.html",*/
            templateUrl: "view/test.html",
            controller: "CreateSceneCtrl"
        }).when("/home/:id", {
            feedBackUrl: "http://eqxiu.com/v-vk2Ucz15",
            templateUrl: "home/home.tpl.html",
            controller: "HomeCtrl"
        }).when("/reg", {
            templateUrl: "reg/reg.tpl.html",
            controller: "RegCtrl"
        }).when("/otherRegister", {
            templateUrl: "common/security/register/otherRegister.tpl.html"
        }).when("/agreement", {
            templateUrl: "reg/agreement.tpl.html"
        }).when("/about", {
            templateUrl: "about.tpl.html"
        }).when("/error/:codeid", {
            templateUrl: "error/error.tpl.html",
            controller: "ErrorCtrl"
        }).when("/sample", {
            templateUrl: "sample/sample.tpl.html",
            controller: "SampleCtrl"
        }).when("/active/:id", {
            templateUrl: "active/active.tpl.html",
            controller: "ActiveCtrl"
        }).when("/main", {
            feedBackUrl: "http://eqxiu.com/v-2qFiYzrc",
            templateUrl: "main/main.tpl.html",
            controller: "MainCtrl",
            resolve: {
                authenticatedUser: c.requireAuthenticatedUser
            }
        }).when("/main/spread/:tabid", {
            feedBackUrl: "http://eqxiu.com/v-euMcJX7J",
            templateUrl: "main/spread.tpl.html",
            controller: "SpreadCtrl",
            reloadOnSearch: !0,
            resolve: {
                authenticatedUser: c.requireAuthenticatedUser
            }
        }).when("/main/spread/:tabid/:sceneId", {
            templateUrl: "main/spread.tpl.html",
            controller: "SpreadCtrl",
            reloadOnSearch: !0,
            resolve: {
                authenticatedUser: c.requireAuthenticatedUser
            }
        }).when("/main/customer", {
            feedBackUrl: "http://eqxiu.com/v-zJuTC6jT",
            templateUrl: "main/customer.tpl.html",
            controller: "CustomerCtrl",
            resolve: {
                authenticatedUser: c.requireAuthenticatedUser
            }
        }).when("/main/customer/:sceneId", {
            templateUrl: "data/editData.tpl.html",
            controller: "EditDataCtrl",
            resolve: {
                authenticatedUser: c.requireAuthenticatedUser
            }
        }).when("/sceneTest/", {
            /*templateUrl: "lovestory.html",*/
            templateUrl: "view/sceneTest.html",
            /*templateUrl: "view/sceneTest.html",*/
            controller: "SceneCtrl",
            resolve: {
                authenticatedUser: c.requireAuthenticatedUser
            }
        }).when("/scene", {
            templateUrl: "scene/scene.tpl.html",
            controller: "SceneCtrl"
            
        }).when("/scene/create/:sceneId", {
            templateUrl: "scene/create.tpl.html",
            controller: "CreateSceneCtrl"
            
        }).when("/my/scene/:sceneId", {
            feedBackUrl: "http://eqxiu.com/v-QblumX2x",
            templateUrl: "my/myscene.tpl.html",
            controller: "MySceneCtrl",
            reloadOnSearch: !1,
            resolve: {
                authenticatedUser: c.requireAuthenticatedUser
            }
        }).when("/my/sceneSetting/:sceneId", {
            feedBackUrl: "http://eqxiu.com/v-QblumX2x",
            templateUrl: "my/sceneSetting.tpl.html",
            controller: "SceneSettingCtrl",
            resolve: {
                authenticatedUser: c.requireAuthenticatedUser
            }
        }).when("/usercenter/:id", {
            feedBackUrl: "http://eqxiu.com/v-eWdpV5XU",
            templateUrl: "usercenter/usercenter.tpl.html",
            controller: "UserCenterCtrl",
            resolve: {
                authenticatedUser: c.requireAuthenticatedUser
            }
        }).when("/show", {
            templateUrl: "show/index.tpl.html",
            controller: "ShowCtrl"
        }).when("/show/active", {
            templateUrl: "show/active/active.tpl.html",
            controller: "Active1Ctrl"
        }).when("/show/active/:id", {
            templateUrl: "show/active/active-xq.tpl.html",
            controller: "ActiveXqCtrl"
        }).when("/show/search/:name", {
            templateUrl: "show/search/search.tpl.html",
            controller: "SearchCtrl"
        }).when("/show/category/:id", {
            templateUrl: "show/category/category.tpl.html",
            controller: "CategoryCtrl"
        }).when("/show/recommend", {
            templateUrl: "show/recommend/recommend.tpl.html",
            controller: "RecommendCtrl"
        }).when("/show/visitor", {
            templateUrl: "show/visitor/visitor.tpl.html",
            controller: "VisitorCtrl"
        }).when("/show/visitor/:id", {
            templateUrl: "show/visitor/visitor-xq.tpl.html",
            controller: "VisitorXqCtrl"
        }).otherwise({
            redirectTo: "/home"
        })
    }
    ]),
    b.module("app").run(["security", "$rootScope", "configService", "$anchorScroll", "$location", function(a, b, c, d, e) {
        b.CLIENT_CDN = CLIENT_CDN,
        b.PREFIX_FILE_HOST = PREFIX_FILE_HOST,
        b.PREFIX_SERVER_HOST = PREFIX_URL,
        b.PREFIX_CLIENT_HOST = PREFIX_HOST,
        b.PREFIX_S3_URL = PREFIX_S3_URL,
        a.requestCurrentUser(),
        c.getLogo().then(function(a) {
            try {
                b.logoSrc = a.data
            } catch (c) {
                b.logoSrc = CLIENT_CDN + "assets/images/logo.png"
            }
        }, function() {
            b.logoSrc = CLIENT_CDN + "assets/images/logo.png"
        }),
        b.load2 = function() {
            $("#eq_main").scroll(function() {
                s = $("#eq_main").scrollTop(),
                s > 100 ? $(".scroll").css("display", "block") : $(".scroll").css("display", "none")
            })
        }
        ,
        b.appIconDown = !0,
        b.downApp = function() {
            b.appIconDown = !1
        }
        ,
        b.closeDown = function() {
            b.appIconDown = !0
        }
        ,
        b.appIconDown = !0,
        b.downApp = function() {
            b.appIconDown = !1
        }
        ,
        b.closeDown = function() {
            b.appIconDown = !0
        }
        ,
        b.appIconDown = !0,
        b.downApp = function() {
            b.appIconDown = !1
        }
        ,
        b.closeDown = function() {
            b.appIconDown = !0
        }
        ,
        b.goTop = function() {
            $("#eq_main").scrollTop(0)
        }
        ,
        b.$on("$routeChangeSuccess", function(a, c) {
            c.$$route && (b.feedBackUrl = c.$$route.feedBackUrl)
        })
    }
    ]),
    b.module("app").run(["$route", "$rootScope", "$location", function(a, b, c) {
        b.$on("$locationChangeStart", function() {
            b.branchid && c.search("branchid", b.branchid),
            $(".modal").remove(),
            $(".modal-backdrop").remove()
        });
        var d = c.path;
        c.path = function(e, f) {
            if (f === !1)
                var g = a.current
                  
                
                , 
                h = b.$on("$locationChangeSuccess", function() {
                    a.current = g,
                    h()
                });
            return d.apply(c, [e])
        }
    }
    ]),
    b.module("app").controller("AppCtrl", ["SpreadService", "$window", "$scope", "$rootScope", "$location", "$route", "$modal", "security", "sceneService", "$routeParams", "$timeout", "i18nNotifications", "usercenterService", function(a, c, d, e, f, g, h, i, j, k, l, m, n) {
        function o() {
            var a = 1
              
            
            , 
            c = 50;
            n.getBranches(c, a).then(function(a) {
                d.userbranches = a.data.list;
                var c = f.search().branchid;
                c && b.forEach(d.userbranches, function(a, b) {
                    a.id == c && (e.global.branch = a)
                })
            }, function(a) {})
        }
        d.notifications = m,
        d.removeNotification = function(a) {
            m.remove(a)
        }
        ,
        d.$on("$locationChangeStart", function(a) {
            if ("/home/login" != f.path() || i.currentUser ? "/home/register" != f.path() || i.currentUser || i.showRegister() : i.showLogin(),
            f.search().resetToken) {
                var b = f.search().resetToken;
                i.requestResetPassword(b)
            }
        }),
        d.openLogin = function() {
            f.path("/home/login", !1)
        }
        ,
        d.openRegister = function() {
            f.path("/home/register", !1)
        }
        ,
        d.isAuthenticated = i.isAuthenticated,
        f.search().branchid && (e.branchid = f.search().branchid),
        d.$watch(function() {
            return i.currentUser
        }, function(a) {
            a && (d.user = a,
            e.user = a,
            d.userProperty = a,
            d.isEditor = i.isEditor(),
            e.isEditor = i.isEditor(),
            d.isAdvancedUser = i.isAdvancedUser(),
            e.isAdvancedUser = i.isAdvancedUser(),
            d.isVendorUser = i.isVendorUser(),
            e.isVendorUser = i.isVendorUser(),
            d.$broadcast("currentUser", a),
            2 == e.user.type && o())
        }, !0),
        d.$on("addBranch", function(a, b) {
            d.userbranches.unshift(b)
        }),
        e.global = {},
        d.selectBranch = function() {
            e.global.branch ? (e.branchid = e.global.branch.id,
            f.search({
                branchid: e.branchid
            })) : (e.branchid = "",
            f.search("branchid", null ))
        }
        ,
        d.$watch("branchid", function() {
            d.hideOpea = !!e.branchid
        }),
        d.openReg = function() {
            h.open({
                windowClass: "request_contain",
                templateUrl: "usercenter/request_reg.tpl.html",
                controller: "UsercenterrequestCtrl",
                resolve: {}
            }).result.then(function() {}, function() {})
        }
        ,
        d.login = function() {
            i.showLogin()
        }
        ,
        d.register = function() {
            i.showRegister()
        }
        ,
        d.showToolBar = function() {
            return f.$$path.indexOf("/scene/create") < 0
        }
        ,
        d.showPanel = function() {
            $("#helpPanel").stop().animate({
                right: "0"
            }, 500)
        }
        ,
        d.hidePanel = function() {
            $("#helpPanel").stop().animate({
                right: "-120"
            }, 500)
        }
        ,
        d.suggestionUrl = "http://www.48ym.com/forum.php?mod=forumdisplay&fid=45",
        d.feedbackUrl = "http://www.48ym.com/forum.php?mod=forumdisplay&fid=46",
        d.qqChatUrl = "http://shang.qq.com/wpa/qunwpa?idkey=4a2d63670009360b878aa9a1e1437ef4caec132f74a0e2c4df4a686168cc73dc",
        d.helpUrl = "http://www.48ym.com/forum.php",
        d.createSkillUrl = "http://www.48ym.com/forum.php?gid=37",
        d.safeApply = function(a) {
            var b = this.$root.$$phase;
            "$apply" == b || "$digest" == b ? a && "function" == typeof a && a() : this.$apply(a)
        }
    }
    ]).filter("fixnum", function() {
        return function(a) {
            var b = a;
            return a >= 1e4 && 1e8 > a ? b = (a / 1e4).toFixed(1) + "万" : a >= 1e8 && (b = (a / 1e8).toFixed(1) + "亿"),
            b
        }
    }),
    
    b.module("data.associate", []),
    b.module("data.associate").controller("AssociateFieldCtrl", ["$scope", "dataService", function(a, b) {
        a.staticFileds = [{
            id: "name",
            name: "姓名"
        }, {
            id: "mobile",
            name: "手机"
        }, {
            id: "email",
            name: "邮箱"
        }, {
            id: "sex",
            name: "性别"
        }, {
            id: "company",
            name: "公司"
        }, {
            id: "job",
            name: "职位"
        }, {
            id: "address",
            name: "地址"
        }, {
            id: "tel",
            name: "电话"
        }, {
            id: "website",
            name: "个人网站"
        }, {
            id: "qq",
            name: "QQ"
        }, {
            id: "weixin",
            name: "微信"
        }, {
            id: "remark",
            name: "其它"
        }],
        a.associateMap = [],
        a.person = {},
        a.selectScene = function(c) {
            b.getSceneField(c).then(function(b) {
                a.fields = b.data.list
            })
        }
        ,
        a.associate = function(b) {
            for (var c = 0; c < a.associateMap.length; c++)
                c != b && a.associateMap[c].id == a.associateMap[b].id && (a.associateMap[c] = null )
        }
        ,
        a.confirm = function() {
            for (var c = {}, d = 0, e = a.associateMap; d < e.length; d++)
                e[d] && (c[e[d].id] = a.fields[d].id);
            b.mergeSceneData(a.person.selected.ID, c).then(function() {
                a.$close()
            }, function() {
                a.$dismiss()
            })
        }
        ,
        a.cancel = function() {
            a.$dismiss()
        }
        ,
        b.getPremergeScenes().then(function(b) {
            a.PremergeScenes = b.data.list
        })
    }
    ]).filter("propsFilter", function() {
        return function(a, c) {
            var d = [];
            return b.isArray(a) ? a.forEach(function(a) {
                for (var b = !1, e = Object.keys(c), f = 0; f < e.length; f++) {
                    var g = e[f]
                      
                    
                    , 
                    h = c[g].toLowerCase();
                    if (-1 !== a[g].toString().toLowerCase().indexOf(h)) {
                        b = !0;
                        break
                    }
                }
                b && d.push(a)
            }) : d = a,
            d
        }
    }),
    b.module("data", ["data.associate"]),
    b.module("data.edit", ["services.usercenter", "services.i18nNotifications"]),
    b.module("data.edit").controller("EditDataCtrl", ["$rootScope", "$scope", "$window", "$routeParams", "usercenterService", "security", "$modal", "ModalService", "$location", "dataService", "i18nNotifications", function(a, b, c, d, e, f, g, h, i, j, k) {
        b.sceneId = d.sceneId,
        b.sexOptions = [{
            id: 0,
            name: "请选择性别"
        }, {
            id: 1,
            name: "男"
        }, {
            id: 2,
            name: "女"
        }],
        b.sex = b.sexOptions[0],
        b.isAllowedToAccessGrouping = f.isAllowToAccess(f.accessDef.GROUP_CUSTOMER);
        var l = a.branchid
          
        
        , 
        m = {};
        b.getDataDetail = function(a) {
            j.getDataDetail(b.sceneId, l).then(function(a) {
                b.dataDetail = a.data.obj,
                m = a.data.obj,
                b.groupNames = b.dataDetail.group;
                var c = b.dataDetail.email
                  
                
                , 
                d = b.dataDetail.sex
                  
                
                , 
                e = b.dataDetail.mobile
                  
                
                , 
                f = b.dataDetail.tel;
                c ? b.formEmails = c.split(",") : b.formEmails = [""],
                e ? b.formMobiles = e.split(",") : b.formMobiles = [""],
                f ? b.formTels = f.split(",") : b.formTels = [""],
                d && ("男" == d ? b.sex = b.sexOptions[1] : b.sex = b.sexOptions[2])
            })
        }
        ,
        b.getDataDetail(b.sceneId),
        b.updateData = function(a, c, d) {
            var e = a.name
              
            
            , 
            f = {};
            if ("email" == e || "mobile" == e || "tel" == e) {
                f[e] = "";
                var g, h = [];
                for (g = 0; g < c.length; g++)
                    c[g] && h.push(c[g]);
                for (g = 0; g < h.length - 1; g++)
                    f[e] += h[g] + ",";
                f[e] += h[g]
            } else
                f[e] = b.dataDetail[e];
            m[e] = f[e]
        }
        ,
        b.updateSex = function(a) {
            var c = {};
            c.id = b.sceneId,
            0 !== a.id ? c.sex = a.name : c.sex = "",
            m.sex = c.sex
        }
        ,
        b.formEmails = [""],
        b.formMobiles = [""],
        b.formTels = [""],
        b.removeInputs = function(a, c, d) {
            if (d.length > 1) {
                if (!d[a])
                    return void d.splice(a, 1);
                d.splice(a, 1),
                b.updateData({
                    name: c
                }, d)
            } else
                1 === d.length && "" !== d[0] && (d[a] = "",
                b.updateData({
                    name: c
                }, d))
        }
        ,
        b.addInputs = function(a) {
            a.push("")
        }
        ,
        b.saveData = function(a) {
            delete a.group,
            j.saveData($.param(a)).then(function(a) {
                a.data.success && (alert("保存成功"),
                i.path("/main/customer"))
            })
        }
        ,
        b.cancel = function() {
            i.path("/main/customer")
        }
        ,
        b.groups = [],
        b.getGroups = function() {
            b.groups.length > 0 || j.getGroups().then(function(a) {
                b.groups = a.data.list
            }, function(a) {
            
            })
        }
        ,
        b.getGroups(),
        b.deleteAssociation = function(a, c, d) {
            var e = {
                cId: a,
                gId: c
            };
            h.openConfirmDialog({
                msg: "确定解除组关联?"
            }, function() {
                j.deleteAssociation(e).then(function(a) {
                    if (a.data.success)
                        for (var d = 0; d < b.groupNames.length; d++)
                            b.groupNames[d].id == c && b.groupNames.splice(d, 1)
                }, function(a) {
                    alert("服务器异常!")
                })
            })
        }
        ,
        b.addGroup = function() {
            g.open({
                windowClass: "group-console",
                templateUrl: "main/console/group.tpl.html",
                controller: "AddGroupCtrl"
            }).result.then(function(a) {
                b.groups.push(a)
            }, function() {})
        }
        ;
        var n = [];
        b.assignGroup = function() {
            for (var a = [], c = 0, d = b.groups.length; d > c; c++)
                if (b.groups[c].selected) {
                    n.push(b.groups[c].id);
                    var e = {
                        id: b.groups[c].id,
                        name: b.groups[c].name
                    };
                    a.push(e)
                }
            if (!n.length)
                return void alert("您还没有选择分组!");
            var f = {
                cIds: b.dataDetail.id,
                gIds: n
            };
            j.assignGroup(f).then(function(c) {
                if (c.data.success) {
                    o();
                    for (var d = 0; d < a.length; d++)
                        if (b.groupNames.length > 0)
                            for (var e = 0; e < b.groupNames.length && b.groupNames[e].id != a[d].id; e++)
                                e == b.groupNames.length - 1 && b.groupNames.push(a[d]);
                        else
                            b.groupNames.push(a[d]);
                    k.pushForCurrentRoute("data.assign.success", "notify.success")
                }
            }, function() {})
        }
        ,
        b.deleteGroup = function(a, c) {
            h.openConfirmDialog({
                msg: "确定删除此分组?"
            }, function() {
                j.deleteGroup(a.id).then(function(d) {
                    if (d.data.success) {
                        o(),
                        b.groups.splice(c, 1);
                        for (var e = 0; e < b.groupNames.length; e++)
                            b.groupNames[e].id == a.id && b.groupNames.splice(e, 1)
                    }
                }, function(a) {
                    alert("服务器异常!")
                })
            })
        }
        ;
        var o = function() {
            for (var a = 0, c = b.groups.length; c > a; a++)
                b.groups[a].selected = !1
        }
    }
    ]),
    b.module("bindemail-dialog", []).controller("BindEmailDialogCtrl", ["$scope", function(a) {}
    ]),
    b.module("confirm-dialog", []).controller("ConfirmDialogCtrl", ["$scope", "confirmObj", function(a, b) {
        a.confirmObj = b,
        a.ok = function() {
            a.$close()
        }
        ,
        a.cancel = function() {
            a.$dismiss()
        }
    }
    ]),
    b.module("message-dialog", []).controller("MessageDialogCtrl", ["$scope", "msgObj", function(a, b) {
        a.msgObj = b,
        a.close = function() {
            a.$close()
        }
        ,
        a.cancel = function() {
            a.$dismiss()
        }
    }
    ]),
    b.module("error", ["services.sample"]),
    b.module("error").controller("ErrorCtrl", ["$rootScope", "$http", "$scope", "$timeout", "security", "$window", "sampleService", function(a, b, c, d, e, f, g) {}
    ]),
    b.module("home", ["services.sample", "app.directives.addelement", "services.scene", "app.directives.qrcode", "app.directives.loading", "security.thirdparty"]),
    b.module("home").controller("HomeCtrl", ["$rootScope", "$http", "$scope", "$timeout", "security", "$window", "sampleService", "sceneService", "$routeParams", "$route", "$location", "configService", "thirdpartyService", function(a, b, c, d, e, f, g, h, i, j, k, l, m) {
        c.getStyleCC = function(index) {
            //作废
            if (index > 0) {
                return {
                    "display": "none"
                }
            } else {
                return {
                    "display": "list-item"
                }
            }
        }
        c.home70fun = function() {
            
            $('.header-fixed').addClass('header-opacity');
            //
            $('.header-shadow').hide();
            
            $('.slide').slider({
                autoRollingTime: 10000,
                bgSpeed: 500,
                motion: {
                    'a1-1': {
                        left: -384,
                        opacity: 0,
                        speed: 1000,
                        delay: 500
                    },
                    'a1-2': {
                        left: 931,
                        opacity: 0,
                        speed: 1000,
                        delay: 1000
                    },
                    'a1-3': {
                        left: 1116,
                        opacity: 0,
                        speed: 1000,
                        delay: 1200
                    },
                    'a1-4': {
                        left: 731,
                        opacity: 0,
                        speed: 1000,
                        delay: 1400
                    },
                    'a2-1': {
                        top: 679,
                        opacity: 0,
                        speed: 1000,
                        delay: 500
                    },
                    'a2-2': {
                        top: 679,
                        opacity: 0,
                        speed: 1000,
                        delay: 800
                    },
                    'a2-3': {
                        left: -1169,
                        opacity: 0,
                        speed: 1000,
                        delay: 800
                    },
                    'a2-4': {
                        opacity: 0,
                        speed: 1000,
                        delay: 1200
                    },
                    'a2-5': {
                        opacity: 0,
                        speed: 1000,
                        delay: 1500
                    },
                    'a2-6': {
                        opacity: 0,
                        speed: 1000,
                        delay: 1700
                    },
                    'a2-7': {
                        top: 559,
                        opacity: 0,
                        speed: 1000,
                        delay: 1800
                    },
                    'a2-8': {
                        top: 559,
                        opacity: 0,
                        speed: 1000,
                        delay: 2000
                    },
                    'a2-9': {
                        top: 559,
                        opacity: 0,
                        speed: 1000,
                        delay: 2200
                    },
                    'a2-10': {
                        opacity: 0,
                        speed: 1000,
                        delay: 2400
                    },
                    'a2-11': {
                        opacity: 0,
                        speed: 1000,
                        delay: 2600
                    },
                    'a2-12': {
                        top: -60,
                        opacity: 0,
                        speed: 1000,
                        delay: 2800
                    },
                    'a3-1': {
                        top: 679,
                        opacity: 0,
                        speed: 1000,
                        delay: 200
                    },
                    'a3-2': {
                        left: -200,
                        opacity: 0,
                        speed: 1000,
                        delay: 1000
                    },
                    'a3-3': {
                        left: 824,
                        opacity: 0,
                        speed: 1000,
                        delay: 1000
                    },
                    'a3-4': {
                        left: -94,
                        opacity: 0,
                        speed: 500,
                        delay: 1500
                    },
                    'a3-5': {
                        opacity: 0,
                        speed: 500,
                        delay: 1600
                    },
                    'a3-6': {
                        opacity: 0,
                        speed: 500,
                        delay: 1700
                    },
                    'a3-7': {
                        opacity: 0,
                        speed: 500,
                        delay: 1800
                    },
                    'a3-8': {
                        opacity: 0,
                        speed: 500,
                        delay: 1900
                    },
                    'a3-9': {
                        opacity: 0,
                        speed: 500,
                        delay: 2000
                    },
                    'a3-10': {
                        opacity: 0,
                        speed: 500,
                        delay: 2100
                    },
                    'a3-11': {
                        opacity: 0,
                        speed: 500,
                        delay: 2200
                    },
                    'a3-14': {
                        opacity: 0,
                        speed: 1000,
                        delay: 2300
                    },
                    'a3-15': {
                        opacity: 0,
                        speed: 1000,
                        delay: 2400
                    },
                    'a3-23': {
                        opacity: 0,
                        speed: 500,
                        delay: 2500
                    },
                    'a3-22': {
                        opacity: 0,
                        speed: 500,
                        delay: 2600
                    },
                    'a3-21': {
                        opacity: 0,
                        speed: 500,
                        delay: 2700
                    },
                    'a3-20': {
                        opacity: 0,
                        speed: 500,
                        delay: 2800
                    },
                    'a3-19': {
                        opacity: 0,
                        speed: 500,
                        delay: 2900
                    },
                    'a3-18': {
                        opacity: 0,
                        speed: 500,
                        delay: 3000
                    },
                    'a3-17': {
                        opacity: 0,
                        speed: 500,
                        delay: 3100
                    },
                    'a3-16': {
                        opacity: 0,
                        speed: 500,
                        delay: 3200
                    },
                    'a3-12': {
                        opacity: 0,
                        speed: 500,
                        delay: 3300
                    },
                    'a3-13': {
                        opacity: 0,
                        speed: 500,
                        delay: 3400
                    },
                    'a4-1': {
                        top: 679,
                        opacity: 0,
                        speed: 1000,
                        delay: 200
                    },
                    'a4-2': {
                        left: -200,
                        opacity: 0,
                        speed: 1000,
                        delay: 1000
                    },
                    'a4-3': {
                        left: 824,
                        opacity: 0,
                        speed: 1000,
                        delay: 1000
                    },
                    'a4-4': {
                        left: -94,
                        opacity: 0,
                        speed: 500,
                        delay: 1500
                    },
                    'a4-5': {
                        left: -60,
                        opacity: 0,
                        speed: 500,
                        delay: 1500
                    },
                    'a5-1': {
                        top: 679,
                        opacity: 0,
                        speed: 1000,
                        delay: 500
                    },
                    'a5-2': {
                        top: 679,
                        opacity: 0,
                        speed: 1000,
                        delay: 800
                    },
                    'a5-3': {
                        left: -1169,
                        opacity: 0,
                        speed: 1000,
                        delay: 800
                    },
                    'a5-4': {
                        opacity: 0,
                        speed: 1000,
                        delay: 1200
                    },
                    'a6-1': {
                        top: 679,
                        opacity: 0,
                        speed: 1000,
                        delay: 200
                    },
                    'a6-2': {
                        left: -200,
                        opacity: 0,
                        speed: 1000,
                        delay: 1000
                    },
                    'a6-3': {
                        left: 824,
                        opacity: 0,
                        speed: 1000,
                        delay: 1000
                    },
                    'a6-4': {
                        left: -94,
                        opacity: 0,
                        speed: 500,
                        delay: 1500
                    },
                    end: null 
                }
            });
        }
        c.showCode = !1,
        c.isAuthenticated = e.isAuthenticated,
        c.PREFIX_FILE_HOST = PREFIX_FILE_HOST,
        c.PREFIX_CLIENT_HOST = PREFIX_HOST,
        c.PREFIX_SERVER_HOST = PREFIX_URL,
        c.scene || (c.scene = {}),
        c.typeindex = "all",
        c.pageSize = 9,
        c.pageNo = 1,
        c.getHomes = function(a, b, d, e) {
            c.typeindex = a,
            g.getSamples(b, d, e).then(function(a) {
                c.homes = a.data.list
            }, function(a) {})
        }
        ,
        c.getSceneType = function() {
            h.getSceneType().then(function(a) {
                c.sceneTypes = a.data.list
            })
        }
        ,
        c.getSceneType(),
        c.getHomes("all", null , 1, 9),
        f.setValue = function(a) {
            c.thirdpartyLoginParam = a,
            c.$apply()
        }
        ,
        c.$watch("thirdpartyLoginParam", function(a, b) {
            a && (a.state && /WECHAT_STATE/.test(a.state) ? m.weiChatLogin(a.code).then(function(a) {
                200 == a.data.code && (k.path("main"),
                e.setLoginSuccess(!0))
            }) : m.qqLogin(a.access_token, a.expires_in))
        });
        c.getSamplesPV = function() {
            g.getSamplesPV().then(function(a) {
                c.SamplesPVs = a.data,
                c.dayTop = c.SamplesPVs.obj.dayTop,
                c.monthTop = c.SamplesPVs.obj.monthTop,
                c.weekTop = c.SamplesPVs.obj.weekTop,
                c.page = "month"
            }, function(a) {})
        }
        ,
        l.getBanner70().then(function(re) {
            //
            //c.banners = re.data.list; 
            console.log('re', re);
            $("#slides_bgcc").html(re.data.banner_bg);
            $("#slide_switchcc").html(re.data.slide_switchcc);
            $("#banner_body").html(re.data.banner_body);
            var stop = setInterval(function() {
                $("#scenecount").html(parseInt($("#scenecount").html()) + 150);
            }, 10);
            setTimeout(function() {
                window.clearInterval(stop);
                $("#scenecount").html(re.data.scenecount);
            }, 5000);
            c.home70fun();
        }),
        l.getMenu70().then(function(re) {
            c.menus = re.data.list;
        }),
        l.getFriendLinks().then(function(a) {
            c.friendLinks = a.data.list;
            //c.friendLinks.length > 15 && (c.friendLinks.length = 15)
        })
    }
    ]),
    b.module("customer.group", ["services.data", "services.i18nNotifications"]),
    b.module("customer.group").controller("AddGroupCtrl", ["$rootScope", "$scope", "dataService", "i18nNotifications", function(a, b, c, d) {
        b.group = {},
        b.authError = "",
        b.confirm = function() {
            if (!b.group.name)
                return void (b.authError = "请输入分组名称");
            var a = j(b.group.name);
            if (a > 12)
                return void (b.authError = "分组名称不能大于12个字符！");
            var e = {
                name: b.group.name
            };
            c.createGroup(e).then(function(a) {
                a.data.success && (d.pushForCurrentRoute("group.create.success", "notify.success"),
                b.$close({
                    id: a.data.obj,
                    name: b.group.name
                }))
            }, function() {})
        }
        ,
        b.cancel = function() {
            b.$dismiss()
        }
    }
    ]),
    b.module("main.transferScene", ["services.usercenter"]),
    b.module("main.transferScene").controller("TransferSceneCtrl", ["$scope", "$rootScope", "sceneService", "sceneId", function(a, b, c, d) {
        a.model = {
            toUser: ""
        },
        a.transferScene = !0,
        a.confirm = function() {
            return a.model.toUser ? a.model.toUser == b.user.email ? void (a.actionerror = "不能转送自己") : void c.transferScene(d.sceneId, a.model.toUser).then(function(b) {
                200 == b.data.code ? a.transferScene = !1 : a.actionerror = b.data.msg
            }) : void (a.actionerror = "账号不能为空")
        }
        ,
        a.cancel = function() {
            a.$close()
        }
    }
    ]),
    b.module("main.data", ["app.directives.dataDraggable", "customer.group", "services.i18nNotifications", "app.directives.customer"]),
    b.module("main.data").controller("CustomerCtrl", ["$scope", "$route", "$location", "dataService", "$modal", "ModalService", "i18nNotifications", "security", "$rootScope", function(a, b, c, d, e, f, g, h, i) {
        a.PREFIX_URL = PREFIX_URL,
        a.isActive = "customer",
        a.select = 0,
        a.showBranchSelect = !0;
        var j = i.branchid;
        a.toPage = 1,
        a.model = {},
        a.dataShow = "message",
        d.getCustomDatas(j),
        a.$on("customDatas", function(b, c) {
            a.customCount = c
        }),
        a.downLoad = function(a, b) {
            var c;
            c = JSON_URL + "?c=custom&a=exp" + (j ? "&user=" + j : ""),
            b && (c += (/\?/.test(c) ? "&" : "?") + "origin=" + b),
            a && (c += (/\?/.test(c) ? "&" : "?") + "groupId=" + a),
            location.href = c
        }
        ,
        a.staticFileds = [{
            id: "name",
            name: "姓名"
        }, {
            id: "mobile",
            name: "手机"
        }, {
            id: "email",
            name: "邮箱"
        }, {
            id: "sex",
            name: "性别"
        }, {
            id: "company",
            name: "公司"
        }, {
            id: "job",
            name: "职位"
        }, {
            id: "address",
            name: "地址"
        }, {
            id: "tel",
            name: "电话"
        }, {
            id: "website",
            name: "个人网站"
        }, {
            id: "qq",
            name: "QQ"
        }, {
            id: "weixin",
            name: "微信"
        }, {
            id: "remark",
            name: "其它"
        }],
        a.selectScene = function(b, c) {
            a.selectedSceneId = b,
            d.getSceneField(b).then(function(b) {
                a.fields = b.data.list,
                a.select = c,
                $(".list_attribute").html("拖拽到此处")
            })
        }
        ,
        a.clickScene = function() {
            c.path("main")
        }
        ,
        a.clickSpread = function() {
            c.path("main/spread")
        }
        ,
        a.clickCustomer = function() {
            c.path("main/customer")
        }
        ,
        a.editCustomer = function(b) {
            a.getDataDetail(b.id),
            a.editData = !0
        }
        ,
        a.removeCustomer = function(b) {
            f.openConfirmDialog({
                msg: "确定删除此条数据?"
            }, function() {
                d.deleteDataById(b.id).then(function(b) {
                    200 == b.data.code && g.pushForCurrentRoute("custom.data.delete", "notify.success"),
                    1 === a.customerDatas.length && a.model.currentPage > 1 ? a.getDataBySceneId(a.model.currentPage - 1) : a.getDataBySceneId(a.model.currentPage),
                    d.getCustomDatas(j)
                })
            })
        }
        ,
        a.addColor = function(b) {
            a.trIndex = b
        }
        ,
        a.removeColor = function() {
            a.trIndex = -1
        }
        ,
        a.totalItems = 0,
        a.model.currentPage = 0,
        a.toPage = "",
        a.pageChanged = function(b, c, d, e) {
            return 1 > b || b > a.totalItems / 10 + 1 ? void alert("此页超出范围") : (a.model.currentPage = b,
            void a.getDataBySceneId(b, c, d, e))
        }
        ,
        a.getDataBySceneId = function(b, c, e, f) {
            b || (b = 1),
            d.getAllData(b, c, e, f).then(function(b) {
                a.customerDatas = b.data.list,
                a.totalItems = b.data.map.count,
                a.model.currentPage = b.data.map.pageNo,
                a.toPage = ""
            })
        }
        ,
        a.getDataBySceneId(1, j, null , null ),
        a.editCustom = function(a, b) {
            c.path("/main/customer/" + a.id)
        }
        ;
        var k = function() {
            d.getDataMessage(j).then(function(b) {
                a.dataMessage = b.data.list
            })
        }
        ;
        k(),
        a.sceneLoad = function(a) {
            var b = JSON_URL + "?c=scenedata&a=excel&flag=noheader&id=" + a + (j ? "&user=" + j : "");
            location.href = b
        }
        ,
        a.importDatas = function() {
            d.getPremergeScenes(j).then(function(b) {
                a.importDatas = b.data.list,
                b.data.list.length > 0 && a.selectScene(b.data.list[0].ID, 0)
            })
        }
        ,
        a.associateData = {};
        var l = !0;
        if (a.confirm = function() {
            l ? jQuery.isEmptyObject(a.associateData, {}) ? (alert("请导入数据！"),
            l = !0) : (d.mergeSceneData(a.selectedSceneId, a.associateData).then(function() {
                alert("你已成功导入客户！"),
                b.reload()
            }, function() {}),
            l = !1) : alert("请不要重复提交！")
        }
        ,
        a.importDatas(),
        a.isAllowedToAccessGrouping = h.isAllowToAccess(h.accessDef.GROUP_CUSTOMER),
        a.isAllowedToAccessGrouping) {
            a.allImages = {
                selected: !1
            },
            a.selectAll = function() {
                for (var b = 0, c = a.customerDatas.length; c > b; b++)
                    a.customerDatas[b].selected = a.allImages.selected
            }
            ,
            a.selectCustomer = function(b) {
                b.selected || (a.allImages.selected = !1)
            }
            ,
            a.groups = [],
            a.getGroups = function() {
                a.groups.length > 0 || d.getGroups(j).then(function(b, c) {
                    a.groups = b.data.list
                }, function(a) {})
            }
            ,
            a.getGroups(),
            a.getOrigins = function() {
                d.getOrigin(j).then(function(b) {
                    a.origins = b.data.list
                }, function(a) {
                
                })
            }
            ,
            a.getOrigins(),
            a.addGroup = function() {
                e.open({
                    windowClass: "group-console console",
                    templateUrl: "main/console/group.tpl.html",
                    controller: "AddGroupCtrl"
                }).result.then(function(b) {
                    a.groups.push(b),
                    p(),
                    g.pushForCurrentRoute("group.create.success", "notify.success")
                }, function() {})
            }
            ;
            var m = []
              
            
            , 
            n = [];
            a.assignGroup = function() {
                m = [],
                n = [];
                for (var b = 0, c = a.customerDatas.length; c > b; b++)
                    a.customerDatas[b].selected && m.push(a.customerDatas[b].id);
                for (b = 0,
                c = a.groups.length; c > b; b++)
                    a.groups[b].selected && n.push(a.groups[b].id);
                if (!m.length)
                    return void alert("您还没有选择客户!");
                if (!n.length)
                    return void alert("您还没有选择分组!");
                var e = {
                    cIds: m,
                    gIds: n
                };
                d.assignGroup(e).then(function(b) {
                    b.data.success && (p(),
                    a.allImages.selected = !1,
                    o(),
                    g.pushForCurrentRoute("data.assign.success", "notify.success"))
                }, function() {})
            }
            ,
            a.deleteCustomer = function(b) {
                m = [];
                var c, e;
                if (b)
                    c = {
                        ids: b.id
                    },
                    e = "确认删除此条数据？";
                else {
                    for (var h = 0, i = a.customerDatas.length; i > h; h++)
                        a.customerDatas[h].selected && m.push(a.customerDatas[h].id);
                    if (!m.length)
                        return void alert("您还没有选择客户！");
                    c = {
                        ids: m
                    },
                    e = "确认删除选中数据？"
                }
                f.openConfirmDialog({
                    msg: e
                }, function() {
                    d.deleteCustomer(c).then(function(b) {
                        b.data.success && (a.allImages.selected = !1,
                        o(),
                        p(),
                        g.pushForCurrentRoute("data.delete.success", "notify.success"))
                    }, function(a) {
                    
                    })
                })
            }
            ,
            a.deleteGroup = function(b, c) {
                f.openConfirmDialog({
                    msg: "确定删除此分组?"
                }, function() {
                    d.deleteGroup(b.id).then(function(b) {
                        b.data.success && (a.groups.splice(c, 1),
                        p(),
                        g.pushForCurrentRoute("group.delete.success", "notify.success"))
                    }, function(a) {
                        alert("服务器异常!")
                    })
                })
            }
            ;
            var o = function() {
                1 === a.customerDatas.length && a.model.currentPage > 1 ? a.getDataBySceneId(a.model.currentPage - 1) : a.getDataBySceneId(a.model.currentPage)
            }
              
            
            , 
            p = function() {
                for (var b = 0, c = a.groups.length; c > b; b++)
                    a.groups[b].selected = !1
            }
        }
        a.$watch("model.currentPage", function(b, c) {
            b && b != c && (a.model.toPage = b)
        }, !0)
    }
    ]),
    b.module("main", ["services.mine", "services.data", "app.directives.pageTplTypes", "app.directives.addelement", "main.spread", "main.data", "main.transferScene", "services.usercenter", "main.userGuide", "app.directives.qrcode", "services.i18nNotifications"]),
    b.module("main").controller("MainCtrl", ["$rootScope", "$scope", "$location", "security", "MineService", "dataService", "sceneService", "ModalService", "$modal", "usercenterService", "i18nNotifications", function(a, b, c, d, e, f, g, h, i, j, k) {
        function l() {
            return sessionStorage.getItem("sysMsgHasRead")
        }
        function m(a, c, d, e) {
            j.getNewMessage(a, c, d, e).then(function(a) {
                b.sysMsgs = a.data.list
            })
        }
        b.PREFIX_URL = PREFIX_URL,
        b.PREFIX_CLIENT_HOST = PREFIX_HOST,
        b.client_cdn = CLIENT_CDN,
        b.scene = {
            type: {}
        },
        b.pageSize = 12,
        b.showCloseStatus = [],
        b.showOpenStatus = [],
        b.isActive = "main",
        b.loginSuccess = d.isLoginSuccess,
        b.showBranchSelect = !0,
        b.$watch("user.loginName", function(a, c) {
            if (a) {
                var d = /^([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+@([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+\.[a-zA-Z]{2,3}$/;
                b.loginSuccess && "eqs" == a.substr(0, 3) && !d.test(a) && k.pushForCurrentRoute("rel.tip", "notify.tip")
            }
        });
        var n = a.branchid;
        b.editScene = function(a) {
            c.path("scene/create/" + a).search("pageId", 1)
        }
        ,
        b.openScene = function(a, b) {
            n || (b ? g.openScene(a.id).then(function(b) {
                b.data.success && (a.status = 1)
            }) : g.closeScene(a.id).then(function(b) {
                b.data.success && (a.status = 2)
            }))
        }
        ,
        b.addColor = function(a) {
            b.trIndex = a
        }
        ,
        b.removeColor = function() {
            b.trIndex = -1
        }
        ,
        b.sceneSettings = function(a) {
            c.path("scene/create/" + a).search({
                pageId: 1,
                openSetting: "show"
            })
        }
        ,
        b.clickScene = function() {
            c.path("main")
        }
        ,
        b.clickSpread = function() {
            c.path("main/spread")
        }
        ,
        b.creatCompanyTpl = function(a, c) {
            g.createCompanyTpls(a).then(function(a) {
                a.data.success && (b.myScenes[c].isTpl = 3,
                k.pushForCurrentRoute("scene.save.success.companyTpl", "notify.success"))
            })
        }
        ,
        b.clearCompanyTpl = function(a, c) {
            g.clearCompanyTpls(a).then(function(a) {
                a.data.success && (b.myScenes[c].isTpl = 0,
                k.pushForCurrentRoute("scene.clear.success.companyTpl", "notify.success"))
            })
        }
        ,
        b.clickCustomer = function() {
            c.path("main/customer")
        }
        ,
        b.register = d.getRegisterInfo(),
        b.logout = function() {
            d.logout()
        }
        ,
        b.copyScene = function(a) {
            h.openConfirmDialog({
                msg: "确定复制此场景?"
            }, function() {
                g.copySceneById(a).then(function(a) {
                    c.path("scene/create/" + a.data.obj).search("pageId", 1)
                })
            })
        }
        ,
        b.isAllowedToAccessTransfer = d.isAllowToAccess(d.accessDef.TRANSFER_SCENE),
        b.isAllowedToAccessTransfer && (b.transferScene = function(c) {
            "eqs" == a.user.loginName.substr(0, 3) && null  == a.user.email ? h.openBindEmailDialog() : i.open({
                windowClass: "six-contain",
                templateUrl: "main/console/transferscene.tpl.html",
                controller: "TransferSceneCtrl",
                resolve: {
                    sceneId: function() {
                        return {
                            sceneId: c
                        }
                    }
                }
            }).result.then(function() {
                b.getMyScenes()
            }, function() {
                b.getMyScenes()
            })
        }
        ),
        b.deleteScene = function(a) {
            h.openConfirmDialog({
                msg: "确定删除此场景?"
            }, function() {
                g.deleteSceneById(a).then(function() {
                    b.getMyScenes(b.currentPage)
                })
            })
        }
        ,
        b.getStyle = function(a) {
            return {
                "background-image": "url(" + PREFIX_FILE_HOST + a + ")"
            }
        }
        ,
        b.totalItems = 0,
        b.page = {
            currentPage: 1
        },
        b.toPage = "",
        b.getMyScenes = function(c) {
            e.getMyScenes(b.scene.type ? b.scene.type.value : "0", c, b.pageSize, n).then(function(c) {
                c.data.list && c.data.list.length > 0 ? (b.myScenes = c.data.list,
                b.totalItems = c.data.map.count,
                b.page.currentPage = c.data.map.pageNo,
                b.allPageCount = c.data.map.count,
                b.toPage = c.data.map.pageNo,
                a.user && a.user.domain ? (b.url = a.user.domain,
                b.canvasUrl = "http://" + b.url) : (b.url = b.PREFIX_CLIENT_HOST,
                b.canvasUrl = b.url)) : (b.totalItems = 0,
                b.currentPage > 1 ? b.getMyScenes(--b.currentPage) : (b.myScenes = [],
                b.allPageCount = 0))
            })
        }
        ,
        b.pageChanged = function(a) {
            return 1 > a || a > b.totalItems / 10 + 1 ? void alert("此页超出范围") : (b.currentPage = a,
            void b.getMyScenes(a))
        }
        ,
        b.getTdStyle = function(a) {
            var b = $(".header_table td:eq(" + a + ")").outerWidth();
            return {
                width: b + "px",
                maxWidth: b + "px"
            }
        }
        ,
        b.getMyScenes(),
        g.getSceneType().then(function(a) {
            b.scene.types = a.data.list
        }),
        b.dataDetail = {},
        f.getDatas(n),
        f.getCustomDatas(n),
        b.$on("sceneDatas", function(a, c) {
            b.datasCount = c
        }),
        b.$on("customDatas", function(a, c) {
            b.customCount = c
        }),
        b.showDetail = function(a) {
            c.path("my/scene/" + a)
        }
        ,
        b.$on("$destroy", function() {
            d.setLoginSuccess(!1)
        }),
        b.publishScene = function(a, b) {
            b && b.stopPropagation(),
            g.publishScene(a.id).then(function(b) {
                b.data.success && (a.publishTime = (new Date).getTime(),
                k.pushForCurrentRoute("scene.publish.success", "notify.success"))
            })
        }
        ,
        b.openSysMsg = !1,
        b.openSysMsgDialog = !l(),
        b.closeSysMsgDialog = function() {
            b.openSysMsgDialog = !b.openSysMsgDialog,
            sessionStorage.setItem("sysMsgHasRead", "true")
        }
        ,
        b.sysMsgs = [],
        m(1, 4, !0, !0),
        b.getRejectDetail = function(a) {
            a.stopPropagation(),
            c.path("/usercenter/message")
        }
    }
    ]).directive("sysMsgAdjust", function() {
        return function(a, b, c) {
            a.isSysMsgVeryShort = !1;
            var d = a.$watch(function() {
                return $(".messages", b).css("height")
            }, function(b) {
                "44px" === b && (a.isSysMsgVeryShort = !0)
            });
            b.bind("$destroy", function() {
                d()
            })
        }
    }),
    b.module("main.spread", ["app.directives.pieChart", "app.directives.numChangeAnim", "main.scene.statistic", "main.spread.Method"]),
    b.module("main.spread").controller("SpreadCtrl", ["$scope", "$rootScope", "$location", "$routeParams", "MineService", "dataService", "security", function(a, c, d, e, f, g, h) {
        a.PREFIX_CLIENT_HOST = PREFIX_HOST,
        a.isActive = "spread",
        c.showSpreadTable = !0,
        a.page = {},
        a.toPage = 1,
        a.tabid = e.tabid,
        a.showBranchSelect = !0,
        a.spreadStatic = function() {
            c.showSpreadTable = !0,
            d.path("main/spread/statistics", !1),
            a.tabid = "statistics",
            a.showBranchSelect = !0,
            a.getMyScenes(1)
        }
        ,
        a.spreadExpand = function() {
            d.path("main/spread/expand", !1),
            a.tabid = "expand",
            a.showBranchSelect = !0
        }
        ;
        var i = c.branchid;
        g.getDatas(i),
        g.getCustomDatas(i),
        a.$on("sceneDatas", function(b, c) {
            a.datasCount = c
        }),
        a.$on("customDatas", function(b, c) {
            a.customCount = c
        }),
        setTimeout(function() {
            c.user && c.user.domain ? a.url = "http://" + c.user.domain : a.url = a.PREFIX_CLIENT_HOST,
            a.getMyScenes()
        }, 0),
        a.getMyScenes = function(c) {
            f.getMyScenes(null , c, 10, i).then(function(c) {
                c.data.list && c.data.list.length > 0 ? (a.allPageCount = c.data.map.count,
                (!c.data.list || c.data.list.length <= 0) && d.path("scene"),
                b.forEach(c.data.list, function(b, c) {
                    b.link = a.url + "/v-" + b.code
                }),
                a.spreadDatas = c.data.list,
                a.totalItems = c.data.map.count,
                a.page.currentPage = c.data.map.pageNo,
                a.toPage = c.data.map.pageNo) : a.totalItems = 0
            })
        }
        ,
        a.pageChanged = function(b) {
            return 1 > b || b > a.totalItems / 10 + 1 ? void alert("此页超出范围") : (a.getMyScenes(b),
            void (a.page.currentPage = b))
        }
        ,
        a.totalItems = 0,
        a.toPage = ""
    }
    ]),
    b.module("main.spread.detail", ["services.spread", "app.directives.lineChart", "app.directives.pieChart", "app.directives.numChangeAnim"]),
    b.module("main.spread.detail").controller("SpreadDetailCtrl", ["$scope", "$location", "$routeParams", "sceneService", "SpreadService", "$rootScope", "MineService", function(a, b, c, d, e, f, g) {
        a.PREFIX_FILE_HOST = PREFIX_FILE_HOST,
        a.PREFIX_CLIENT_HOST = PREFIX_HOST,
        a.PREFIX_SERVER_HOST = PREFIX_URL;
        f.branchid,
        c.sceneId
    }
    ]),
    b.module("main.spread.detail", ["services.spread", "app.directives.lineChart", "app.directives.pieChart", "app.directives.numChangeAnim"]),
    b.module("main.spread.detail").controller("DataDetailCtrl", ["$scope", "$location", "$routeParams", "sceneService", "SpreadService", "$rootScope", "MineService", "security", function(a, b, c, d, e, f, g, h) {
        a.PREFIX_FILE_HOST = PREFIX_FILE_HOST,
        a.PREFIX_CLIENT_HOST = PREFIX_HOST,
        a.PREFIX_SERVER_HOST = PREFIX_URL,
        a.spreadViewGridOptions = {},
        a.spreadMobileGridOptions = {},
        a.spreadClickGridOptions = {},
        a.expandWebs = [];
        var i = f.branchid;
        a.isAllowedToAccessExpandWebsite = h.isAllowToAccess(h.accessDef.EXPAND_WEBSITE),
        a.sceneShow = "num",
        a.obj = {
            mobileInfo: "friendsGroup"
        },
        a.viewStyle = "line",
        a.staticSpread = "tel",
        a.showMobile = !0,
        a.showLine = function() {
            a.viewStyle = "line",
            a.obj.mobileInfo || (a.obj.mobileInfo = "friendsGroup"),
            a.showMobile = !0
        }
        ,
        a.showPie = function() {
            a.viewStyle = "pie",
            a.obj.mobileInfo = "",
            a.showMobile = !1
        }
        ,
        a.$on("scene.detail", function(b, c, d) {
            a.scene = c,
            a.scene && (101 == a.scene.type ? a.sceneType = "行业" : 102 == a.scene.type ? a.sceneType = "个人" : 103 == a.scene.type ? a.sceneType = "企业" : 104 == a.scene.type ? a.sceneType = "节假" : 105 == a.scene.type && (a.sceneType = "风格"))
        }),
        a.$on("scene.data", function(b, c, d, e, f, g) {
            a.stats = c,
            j(d, e, f, g)
        });
        var j = function(b, c, d, e) {
            a.pageView = 0,
            a.spreadViewGridOptions.data = a.stats,
            a.spreadMobileGridOptions.data = a.stats,
            a.spreadClickGridOptions.data = a.stats,
            a.viewLineChartData = {
                labels: [],
                datasets: [{
                    label: "1",
                    fillColor: "rgba(220,220,220,0.2)",
                    strokeColor: "rgba(220,220,220,1)",
                    pointColor: "rgba(220,220,220,1)",
                    pointStrokeColor: "#ffff00",
                    pointHighlightFill: "#ffff00",
                    pointHighlightStroke: "#ffff00",
                    data: []
                }]
            },
            a.dataLineChartData = {
                labels: [],
                datasets: [{
                    label: "2",
                    fillColor: "rgba(220,220,220,0.2)",
                    strokeColor: "rgba(220,220,220,1)",
                    pointColor: "rgba(220,220,220,1)",
                    pointStrokeColor: "#ffff00",
                    pointHighlightFill: "#ffff00",
                    pointHighlightStroke: "#ffff00",
                    data: []
                }]
            },
            a.dataLineChartFriendGroup = {
                labels: [],
                datasets: [{
                    label: "3",
                    fillColor: "rgba(220,220,220,0.2)",
                    strokeColor: "rgba(220,220,220,1)",
                    pointColor: "rgba(220,220,220,1)",
                    pointStrokeColor: "#ffff00",
                    pointHighlightFill: "#ffff00",
                    pointHighlightStroke: "#ffff00",
                    data: []
                }]
            },
            a.dataLineChartFriends = {
                labels: [],
                datasets: [{
                    label: "4",
                    fillColor: "rgba(220,220,220,0.2)",
                    strokeColor: "rgba(220,220,220,1)",
                    pointColor: "rgba(220,220,220,1)",
                    pointStrokeColor: "#ffff00",
                    pointHighlightFill: "#ffff00",
                    pointHighlightStroke: "#ffff00",
                    data: []
                }]
            },
            a.dataLineChartFriend = {
                labels: [],
                datasets: [{
                    label: "5",
                    fillColor: "rgba(220,220,220,0.2)",
                    strokeColor: "rgba(220,220,220,1)",
                    pointColor: "rgba(220,220,220,1)",
                    pointStrokeColor: "#ffff00",
                    pointHighlightFill: "#ffff00",
                    pointHighlightStroke: "#ffff00",
                    data: []
                }]
            },
            a.dataLineChartOther = {
                labels: [],
                datasets: [{
                    label: "6",
                    fillColor: "rgba(220,220,220,0.2)",
                    strokeColor: "rgba(220,220,220,1)",
                    pointColor: "rgba(220,220,220,1)",
                    pointStrokeColor: "#ffff00",
                    pointHighlightFill: "#ffff00",
                    pointHighlightStroke: "#ffff00",
                    data: []
                }]
            },
            a.viewLineTel = {
                labels: [],
                datasets: [{
                    label: "7",
                    fillColor: "rgba(220,220,220,0.2)",
                    strokeColor: "rgba(220,220,220,1)",
                    pointColor: "rgba(220,220,220,1)",
                    pointStrokeColor: "#ffff00",
                    pointHighlightFill: "#ffff00",
                    pointHighlightStroke: "#ffff00",
                    data: []
                }]
            },
            a.viewLineTab = {
                labels: [],
                datasets: [{
                    label: "8",
                    fillColor: "rgba(220,220,220,0.2)",
                    strokeColor: "rgba(220,220,220,1)",
                    pointColor: "rgba(220,220,220,1)",
                    pointStrokeColor: "#ffff00",
                    pointHighlightFill: "#ffff00",
                    pointHighlightStroke: "#ffff00",
                    data: []
                }]
            },
            a.dataPieChart = [{
                value: 0,
                color: "#9ad64b"
            }, {
                value: 0,
                color: "#af9ae1"
            }, {
                value: 0,
                color: "#74caf6"
            }, {
                value: 0,
                color: "#08a1ef"
            }];
            for (var f = 0, g = 0, h = 0, i = 0, j = 0, k = 0; k < a.stats.length; k++)
                a.viewLineChartData.labels.push(a.stats[k].STAT_DATE),
                a.viewLineChartData.datasets[0].data.push(a.stats[k].SHOW),
                a.dataLineChartData.labels.push(a.stats[k].STAT_DATE),
                a.dataLineChartData.datasets[0].data.push(a.stats[k].DATA),
                a.dataLineChartFriendGroup.labels.push(a.stats[k].STAT_DATE),
                a.dataLineChartFriendGroup.datasets[0].data.push(a.stats[k].S_WX_TIMELINE),
                a.dataLineChartFriends.labels.push(a.stats[k].STAT_DATE),
                a.dataLineChartFriends.datasets[0].data.push(a.stats[k].S_WX_GROUP),
                a.dataLineChartFriend.labels.push(a.stats[k].STAT_DATE),
                a.dataLineChartFriend.datasets[0].data.push(a.stats[k].S_WX_SINGLE),
                a.viewLineTel.labels.push(a.stats[k].STAT_DATE),
                a.viewLineTel.datasets[0].data.push(a.stats[k].TEL),
                a.viewLineTab.labels.push(a.stats[k].STAT_DATE),
                a.viewLineTab.datasets[0].data.push(a.stats[k].LINK),
                a.dataLineChartOther.labels.push(a.stats[k].STAT_DATE),
                a.dataOthers = a.stats[k].S_MOBILE - a.stats[k].S_WX_TIMELINE - a.stats[k].S_WX_SINGLE - a.stats[k].S_WX_GROUP,
                a.dataLineChartOther.datasets[0].data.push(a.dataOthers),
                a.pageView += a.stats[k].SHOW,
                f += a.stats[k].S_MOBILE,
                g += a.stats[k].S_WX_TIMELINE,
                h += a.stats[k].S_WX_SINGLE,
                i += a.stats[k].S_WX_GROUP;
            if (a.viewLineChartData.labels && 1 == a.viewLineChartData.labels.length && (a.viewLineChartData.labels.push(a.viewLineChartData.labels[0]),
            a.viewLineChartData.datasets[0].data.push(a.viewLineChartData.datasets[0].data[0])),
            a.dataLineChartData.labels && 1 == a.dataLineChartData.labels.length && (a.dataLineChartData.labels.push(a.dataLineChartData.labels[0]),
            a.dataLineChartData.datasets[0].data.push(a.dataLineChartData.datasets[0].data[0])),
            a.dataLineChartFriendGroup.labels && 1 == a.dataLineChartFriendGroup.labels.length && (a.dataLineChartFriendGroup.labels.push(a.dataLineChartFriendGroup.labels[0]),
            a.dataLineChartFriendGroup.datasets[0].data.push(a.dataLineChartFriendGroup.datasets[0].data[0])),
            a.dataLineChartFriends.labels && 1 == a.dataLineChartFriends.labels.length && (a.dataLineChartFriends.labels.push(a.dataLineChartFriends.labels[0]),
            a.dataLineChartFriends.datasets[0].data.push(a.dataLineChartFriends.datasets[0].data[0])),
            a.dataLineChartFriend.labels && 1 == a.dataLineChartFriend.labels.length && (a.dataLineChartFriend.labels.push(a.dataLineChartFriend.labels[0]),
            a.dataLineChartFriend.datasets[0].data.push(a.dataLineChartFriend.datasets[0].data[0])),
            a.viewLineTel.labels && 1 == a.viewLineTel.labels.length && (a.viewLineTel.labels.push(a.viewLineTel.labels[0]),
            a.viewLineTel.datasets[0].data.push(a.viewLineTel.datasets[0].data[0])),
            a.viewLineTab.labels && 1 == a.viewLineTab.labels.length && (a.viewLineTab.labels.push(a.viewLineTab.labels[0]),
            a.viewLineTab.datasets[0].data.push(a.viewLineTab.datasets[0].data[0])),
            a.dataLineChartOther.labels && 1 == a.dataLineChartOther.labels.length && (a.dataLineChartOther.labels.push(a.dataLineChartOther.labels[0]),
            a.dataLineChartOther.datasets[0].data.push(a.dataLineChartOther.datasets[0].data[0])),
            a.spreadMobile = !0,
            f > 0) {
                j = f - g - h - i;
                var l = i / f * 100
                  
                
                , 
                m = g / f * 100
                  
                
                , 
                n = h / f * 100
                  
                
                , 
                o = j / f * 100;
                a.dataPieChart[0].value = l,
                a.dataPieChart[1].value = m,
                a.dataPieChart[2].value = n,
                a.dataPieChart[3].value = o,
                a.dataOhter = (j / f * 100).toFixed(2),
                a.timelineData = (g / f * 100).toFixed(2),
                a.weixinData = (h / f * 100).toFixed(2),
                a.weixinGroupData = (i / f * 100).toFixed(2)
            } else
                a.spreadMobile = !1;
            $(".myGrid1").height(50 * (a.stats.length + 1) + 1),
            $(".myGrid1 .ui-grid-viewport").height(50 * a.stats.length + 1)
        }
        ;
        a.getAllStats = function(b, c, d) {
            e.getSceneData(b, c, d, i, a.expandId)
        }
        ,
        a.$on("webs.update", function(b) {
            a.expandWebs = e.expandWebs
        }),
        a.viewExpandDetail = function(b, c) {
            a.selectIndex = c,
            a.expandId = b,
            a.getAllStats(a.scene.id, -6, 1)
        }
        ,
        c.sceneId && e.getWebList(c.sceneId, !0)
    }
    ]),
    b.module("main.spread.detail.ercode", ["services.spread", "services.scene", "services.mine"]),
    b.module("main.spread.detail.ercode").controller("ErCodeCtrl", ["$scope", "$rootScope", "SpreadService", "sceneService", "MineService", function(a, b, c, d, e) {
        a.expandWebs = [];
        var f, g, h = b.branchid;
        a.selectScene = function() {
            a.getMyScenes(null , 1, 10, h)
        }
        ,
        a.select = function(b) {
            a.open = !1,
            f = a.selectedUrl = b.link,
            g = a.selectedCode = b.code,
            sceneId = b.id
        }
    }
    ]),
    b.module("main.spread.detail.qrcode", ["services.spread", "services.scene", "services.mine"]),
    b.module("main.spread.detail.qrcode").controller("QrCodeCtrl", ["$scope", "$rootScope", "SpreadService", "sceneService", "MineService", "ModalService", function(a, c, d, e, f, g) {
        a.expandWebs = [];
        var h, i, j = 10, 
        k = c.branchid;
        a.page = {};
        var l = function(c, d) {
            f.getMyScenes(c, d, j, k, !0).then(function(c) {
                b.forEach(c.data.list, function(b, c) {
                    b.link = a.url + "/v-" + b.code,
                    0 === b.dataCount && (b.converPerctange = 0)
                }),
                a.myScenes = c.data.list,
                a.page.currentPage = a.toPage = d
            }, function(a) {})
        }
        ;
        l(null , 1),
        a.showExpandList = function(b) {
            a.showExpandWebs = !0,
            a.selectScene = b,
            101 == a.selectScene.type ? a.sceneType = "行业" : 102 == a.selectScene.type ? a.sceneType = "个人" : 103 == a.selectScene.type ? a.sceneType = "企业" : 104 == a.selectScene.type ? a.sceneType = "节假" : 105 == a.selectScene.type && (a.sceneType = "风格"),
            h = a.selectedUrl = b.link,
            i = a.selectedCode = b.code,
            sceneId = b.id,
            n()
        }
        ,
        a.addExpandWeb = function(b) {
            b.unshift({
                name: a.selectScene.name + "_扩展" + (b.length + 1),
                url: h,
                showCount: 0,
                downloadSize: "small"
            }),
            c.$broadcast("make.input.focus")
        }
        ;
        var m;
        a.checkChange = function(a) {
            m = a
        }
        ;
        a.updateName = function(a) {
            var b = {
                sceneId: sceneId,
                name: a.name
            };
            a.id && (b.id = a.id),
            d.updateName(b).then(function(b) {
                b.data.success && (a.id || (a.id = b.data.obj.id,
                a.url = h + "?qrc=" + a.id))
            }, function(a) {
            
            })
        }
        ;
        var n = function() {
            d.getWebList(sceneId, !1, k)
        }
        ;
        a.deleteWeb = function(b, c) {
            g.openConfirmDialog({
                msg: "删除该网址后，将无法通过原有地址访问该场景，相应的统计数据也会被删除，确认删除该网址？"
            }, function() {
                var e = {
                    id: c.id,
                    index: b
                };
                c.id ? d.deleteWeb(e) : a.expandWebs.splice(b, 1)
            })
        }
        ,
        a.$on("webs.update", function(c) {
            b.forEach(d.expandWebs, function(a, b) {
                a.url = h + "?qrc=" + a.id,
                a.downloadSize = "small"
            }),
            a.expandWebs = d.expandWebs
        }),
        a.pageChanged = function(b) {
            return 1 > b || b > a.totalItems / 10 + 1 ? void alert("此页超出范围") : void l(null , b)
        }
    }
    ]).directive("autoFocusSelected", function() {
        function a(a, b, c) {
            a.$on("make.input.focus", function(a) {
                setTimeout(function() {
                    var a = b.find("li").find(".expand-name").get(0);
                    a.focus(),
                    a.select()
                }, 0)
            })
        }
        return {
            restrice: "EA",
            link: a
        }
    }).directive("disableEdit", function() {
        function a(a, b, c) {
            var d = {
                37: "arrow-left",
                38: "arrow-up",
                39: "arrow-right",
                40: "arrow-down",
                9: "tab",
                27: "esc"
            };
            b.keydown(function(a) {
                d[a.which] || a.preventDefault()
            })
        }
        return {
            restrice: "EA",
            link: a
        }
    }),
    b.module("main.scene.statistic", ["services.spread", "main.spread.detail"]),
    b.module("main.scene.statistic").controller("SceneStatisticCtrl", ["$scope", "$location", "$routeParams", "sceneService", "SpreadService", "$rootScope", "MineService", "security", function(a, b, c, d, e, f, g, h) {
        a.PREFIX_FILE_HOST = PREFIX_FILE_HOST,
        a.PREFIX_CLIENT_HOST = PREFIX_HOST,
        a.PREFIX_SERVER_HOST = PREFIX_URL;
        var i = f.branchid;
        a.viewDetail = function(c) {
            f.showSpreadTable = !1,
            a.$parent.showBranchSelect = !1,
            b.path("/main/spread/statistics/" + c.id, !1),
            e.getSceneDetail(c.id, i),
            e.getSceneData(c.id, -6, 1, i),
            e.getWebList(c.id, i, !0)
        }
        ;
        var j = c.sceneId;
        j && (f.showSpreadTable = !1,
        a.$parent.showBranchSelect = !1,
        e.getSceneDetail(j, i)),
        a.addColor = function(b) {
            a.trIndex = b
        }
        ,
        a.removeColor = function() {
            a.trIndex = -1
        }
    }
    ]),
    b.module("main.spread.Method", ["services.spread", "app.directives.lineChart", "app.directives.pieChart", "app.directives.numChangeAnim", "main.spread.detail.qrcode", "main.spread.detail.ercode"]),
    b.module("main.spread.Method").controller("SpreadMethodCtrl", ["$scope", "$location", "$routeParams", "sceneService", "SpreadService", "$rootScope", "MineService", "security", function(a, b, c, d, e, f, g, h) {
        a.PREFIX_FILE_HOST = PREFIX_FILE_HOST,
        a.PREFIX_CLIENT_HOST = PREFIX_HOST,
        a.PREFIX_SERVER_HOST = PREFIX_URL,
        a.isAllowedToAccessExpandWebsite = h.isAllowToAccess(h.accessDef.EXPAND_WEBSITE),
        a.spreadclass = "mobileSpread",
        a.selectIndex = -1,
        a.selectThisIndex = function(b, c) {
            a.selectIndex = b,
            c.stopPropagation()
        }
    }
    ]),
    function() {
        b.module("main.userGuide", []).controller("userGuideCtrl", ["$rootScope", "$scope", function(b, c) {
            if (a.localStorage) {
                var d = JSON.parse(localStorage.getItem("loginInfo"));
                d && d[b.user.id] ? c.firstLogin = !1 : (c.firstLogin = !0,
                d = d || {},
                d[b.user.id] = 1,
                localStorage.setItem("loginInfo", JSON.stringify(d)))
            }
        }
        ])
    }(),
    b.module("my", ["my.scene", "my.scenesetting"]),
    b.module("my.scene", ["services.scene", "services.mine", "services.data", "scene.create.console", "app.directives.addelement", "services.usercenter", "app.directives.qrcode", "services.i18nNotifications"]),
    b.module("my.scene").controller("MySceneCtrl", ["$anchorScroll", "$route", "$location", "$rootScope", "$window", "$scope", "$routeParams", "sceneService", "MineService", "dataService", "$sce", "$modal", "usercenterService", "security", "pageTplService", "ModalService", "i18nNotifications", function(b, c, d, e, f, g, h, i, j, k, l, m, n, o, q, r, s) {
        function t(a, b, c) {
            k.getDataBySceneId(a, b, c, v).then(function(a) {
                a.data.list.length > 0 && (A = a.data.list.shift().slice(1));
                for (var b = 0; b < a.data.list.length; b++)
                    a.data.list[b].$$id = a.data.list[b][0],
                    a.data.list[b].splice(0, 1);
                if (z.length < 1)
                    for (b = 0; b < A.length; b++)
                        z.push({
                            title: A[b],
                            selected: !1,
                            id: b
                        });
                if (g.dataShow.length > 0)
                    for (g.dataShowList.length = 0,
                    b = 0; b < g.dataShow.length; b++)
                        for (var c = 0; c < g.dataHeaders.length; c++)
                            g.dataShow[b].id == g.dataHeaders[c].id && (g.dataHeaders[c].selected = !0);
                else if (z.length > 0 && z.length < 8)
                    for (b = 0; b < z.length; b++)
                        z[b].selected = !0,
                        isTimeColumnSelected = !0;
                else if (z.length > 7)
                    for (var d = 0; 8 > d; d++)
                        z[d].selected = !0;
                g.dataList = a.data.list,
                g.totalItems = a.data.map.count,
                g.page.currentPage = a.data.map.pageNo,
                g.toPage = a.data.map.pageNo,
                u(),
                g.totalItems < 1e3 ? g.showUp = !1 : (g.showUp = !0,
                D())
            })
        }
        function u() {
            g.dataShow.length = 0;
            for (var a = 0; a < z.length; a++)
                z[a].selected && (g.dataShow.push({
                    title: z[a].title,
                    selected: !0,
                    id: z[a].id
                }),
                g.dataContain = !0);
            if (g.dataShow.length < 1)
                g.dataShowList.length = 0;
            else
                for (var b = 0; b < g.dataList.length; b++) {
                    var c = g.dataShowList[b] = [];
                    for (c.push(g.dataList[b].$$id),
                    c.$$id = c[0],
                    c.splice(0, 1),
                    a = 0; a < g.dataShow.length; a++) {
                        var d = g.dataShow[a].id;
                        c.push(g.dataList[b][d])
                    }
                }
            0 === g.dataShow.length ? g.dataContain = !1 : 1 == g.dataShow.length ? g.tdW = "100%" : 2 == g.dataShow.length ? g.tdW = "50%" : 3 == g.dataShow.length ? g.tdW = "33.3%" : 4 == g.dataShow.length ? g.tdW = "25%" : 5 == g.dataShow.length ? g.tdW = "20%" : 6 == g.dataShow.length ? g.tdW = "16.5%" : 7 == g.dataShow.length && (g.tdW = "14.5%")
        }
        g.loading = !1,
        g.url = "",
        g.sceneId = h.sceneId,
        g.isVendorUser = e.isVendorUser,
        g.isAllowToAccessLastPageSetting = o.isAllowToAccess(o.accessDef.SCENE_HIDE_LASTPAGE_SETTING),
        g.isAllowedToAccessExpandWebsite = o.isAllowToAccess(o.accessDef.EXPAND_WEBSITE);
        var v = e.branchid
          
        
        , 
        w = 0;
        g.PREFIX_FILE_HOST = PREFIX_FILE_HOST,
        g.PREFIX_URL = PREFIX_URL,
        g.alwaysOpen = !0;
        g.scene || (g.scene = {});
        var x, y;
        document.getElementById("sharescript") ? ($("#sharescript").remove(),
        x = document.getElementsByTagName("head")[0],
        y = document.createElement("script"),
        y.id = "sharescript",
        y.src = "http://bdimg.share.baidu.com/static/api/js/share.js?cdnversion=" + ~(-new Date / 36e5),
        x.appendChild(y)) : (x = document.getElementsByTagName("head")[0],
        y = document.createElement("script"),
        y.id = "sharescript",
        y.src = "http://bdimg.share.baidu.com/static/api/js/share.js?cdnversion=" + ~(-new Date / 36e5),
        x.appendChild(y)),
        g.sceneInto = function() {
            g.intoContent = !0
        }
        ,
        g.close = function() {
            g.intoContent = !1
        }
        ,
        g.copyCode = function() {
            var b, c, d, e = function(a) {
                return "string" == typeof a ? document.getElementById(a) : a
            }
            ;
            if (c = e("into-url"),
            d = c.value,
            b = d.length,
            -[1])
                alert("您使用的浏览器不支持此复制功能，请使用Ctrl+C或鼠标右键。"),
                c.setSelectionRange(0, b),
                c.focus();
            else {
                var f = a.clipboardData.setData("text", d);
                f === !0 ? alert("复制成功。现在您可以粘贴（Ctrl+v）到任何网站中了。") : alert("复制失败。");
                var g = c.createTextRange();
                g.moveEnd("character", b),
                g.moveStart("character", 0),
                g.select()
            }
        }
        ,
        g.openUrl = function() {
            a.open(g.canvasUrl, "_blank")
        }
        ,
        g.getSceneDetail = function() {
            i.getSceneDetail(g.sceneId, v).then(function(b) {
                g.scene = b.data.obj,
                g.scene.applyPromotion = "" + g.scene.applyPromotion,
                g.scene.applyTemplate = "" + g.scene.applyTemplate,
                -1 == g.scene.status ? g.sceneMsg = "审核不通过" : -2 == g.scene.status ? g.sceneMsg = "审核中" : (1 == g.scene.status || 2 == g.scene.status) && (g.scene.publishTime && g.scene.publishTime >= g.scene.updateTime ? g.sceneMsg = "已发布" : g.sceneMsg = ""),
                g.code = PREFIX_URL + "eqs/qrcode/" + g.scene.code + ".png",
                e.user && e.user.domain ? (g.url = e.user.domain + "/v-" + g.scene.code,
                g.canvasUrl = "http://" + g.url) : (g.url = PREFIX_HOST + "/v-" + g.scene.code,
                g.canvasUrl = g.url),
                g.customUrl = l.trustAsResourceUrl(PREFIX_URL + "index.php?c=view&id=" + g.scene.id + "&preview=preview"),
                v && (g.customUrl += "?user=" + v + "&branchid=" + v,
                g.customUrl = l.trustAsResourceUrl(g.customUrl)),
                a._bd_share_config = {
                    common: {
                        bdText: g.scene.name,
                        bdDesc: g.scene.name,
                        bdUrl: g.url,
                        bdSign: "on",
                        bdSnsKey: {}
                    },
                    share: [{
                        bdSize: 32
                    }],
                    slide: [{
                        bdImg: 0,
                        bdPos: "right",
                        bdTop: 100
                    }]
                },
                w = g.scene.pageCount
            })
        }
        ,
        g.getSceneDetail(),
        g.publishScene = function(a) {
            i.publishScene(a.id).then(function(b) {
                b.data.success && (g.sceneMsg = "已发布",
                a.publishTime = (new Date).getTime(),
                alert("场景发布成功"))
            })
        }
        ,
        g.openScene = function(a, b) {
            v || (b ? i.openScene(a.id).then(function(b) {
                b.data.success && (a.status = 1)
            }) : i.closeScene(a.id).then(function(b) {
                b.data.success && (a.status = 2)
            }))
        }
        ,
        g.totalItems = 0,
        g.page = {
            currentPage: 1
        },
        g.toPage = "",
        g.dataList = [];
        var z = g.dataHeaders = []
          
        
        , 
        A = [];
        g.dataShow = [],
        g.dataShowList = [],
        g.selectHeader = function(a, b, c) {
            u()
        }
        ;
        var B = JSON_URL + "?c=scenedata&a=excel&flag=noheader&id=" + g.sceneId + (v ? "&user=" + v : "")
          
        
        , 
        C = JSON_URL + "?c=scenedata&a=excel&id=" + g.sceneId + (v ? "&user=" + v : "");
        g.dataOutNoHeader = function() {
            location.href = B
        }
        ,
        g.dataOutNoHeaderPage = function(a, b) {
            var c;
            c = B + (/\?/.test(B) ? "&" : "?") + "start=" + a + "&end=" + b,
            location.href = c,
            g.dataPageList = !1
        }
        ,
        g.dataOutDirect = function() {
            location.href = C
        }
        ,
        g.dataOutPage = function(a, b) {
            var c;
            c = C + (/\?/.test(C) ? "&" : "?") + "start=" + a + "&end=" + b,
            location.href = c,
            g.dataPageList = !1
        }
        ;
        var D = function(a, b) {
            g.dataPageNums = [],
            g.dataPageobg = {};
            for (var c = Math.ceil(g.totalItems / 10, 16), d = Math.ceil(c / 100, 16), e = 1; d + 1 > e; e++)
                g.start = 100 * (e - 1) + 1,
                g.end = 100 * e,
                e == d && (g.end = c),
                g.dataPageobg = {
                    start: g.start,
                    end: g.end
                },
                g.dataPageNums.push(g.dataPageobg)
        }
        ;
        g.dataDelete = function(a, b) {
            var c, d;
            for (selectIds = [],
            p = 0; p < g.dataShowList.length; p++)
                g.dataShowList[p].selected && selectIds.push(g.dataShowList[p].$$id);
            return selectIds.length ? (c = {
                ids: selectIds
            },
            d = "确认删除选中数据？",
            void r.openConfirmDialog({
                msg: d
            }, function() {
                k.deleteDataBySceneId(g.sceneId, c).then(function(a) {
                    200 == a.data.code && (s.pushForCurrentRoute("data.delete.success", "notify.success"),
                    g.allSelect.selected = !1,
                    t(g.sceneId, g.page.currentPage, 10))
                })
            })) : void alert("您还没有选择数据")
        }
        ,
        g.allSelect = {
            selected: !1
        },
        g.selectAll = function() {
            for (var a = 0, b = g.dataShowList.length; b > a; a++)
                g.dataShowList[a].selected = g.allSelect.selected
        }
        ,
        g.selectData = function(a) {
            a.selected || (g.allSelect.selected = !1)
        }
        ,
        g.pageChanged = function(a) {
            return 1 > a || a > g.totalItems / 10 + 1 ? void alert("此页超出范围") : (g.allSelect.selected = !1,
            g.page.currentPage = a,
            void t(g.sceneId, a, 10))
        }
        ,
        t(g.sceneId, g.page.currentPage, 10);
        var E = new ZeroClipboard(document.getElementById("copy-button"),{
            moviePath: "assets/ZeroClipboard.swf"
        });
        E.on("dataRequested", function(a, b) {
            a.setText(g.url),
            setTimeout(function() {
                alert("复制成功")
            }, 500)
        }),
        g.goData = function() {
            d.hash("collectData"),
            b()
        }
    }
    ]).directive("copyButton", function() {
        return {
            restrict: "EA",
            link: function(a, b, c) {
                var d = new ZeroClipboard(b);
                d.on("copy", function(b) {
                    var c = b.clipboardData;
                    c.setData("text/plain", a.url.replace(PREFIX_HOST, PREFIX_HOST_ARRAY[parseInt(10 * Math.random(), 10) % 4]))
                }),
                d.on("ready", function(a) {
                    d.on("aftercopy", function(a) {
                        alert("复制成功")
                    })
                })
            }
        }
    }),
    b.module("my.scenesetting", ["services.scene", "services.mine", "services.data", "scene.create.console", "app.directives.addelement", "services.usercenter", "services.i18nNotifications"]),
    b.module("my.scenesetting").controller("SceneSettingCtrl", ["$route", "$location", "$rootScope", "$window", "$scope", "$routeParams", "$q", "sceneService", "MineService", "dataService", "$sce", "$modal", "usercenterService", "security", "pageTplService", "i18nNotifications", "ModalService", function(a, c, d, e, f, g, h, i, k, l, m, n, o, p, q, r, s) {
        function t(a) {
            switch (a) {
            case y.HIDE:
                return 100;
            case y.FREEPAGE:
                return 0;
            case y.DEFAULT_BOTTOM:
                return 15;
            case y.CUSTOM_BOTTOM:
                return 30
            }
        }
        function u(a) {
            switch (a) {
            case y.HIDE:
                f.eqShowType = x.EQHIDE,
                f.scene.property.eqAdType = y.HIDE,
                f.scene.property.hideEqAd = !0;
                break;
            case y.DEFAULT_BOTTOM:
                f.eqShowType = x.EQLINK,
                f.scene.property.eqAdType = y.DEFAULT_BOTTOM,
                f.scene.property.hideEqAd = !1;
                break;
            case y.CUSTOM_BOTTOM:
                f.eqShowType = x.EQLINK,
                f.scene.property.eqAdType = y.CUSTOM_BOTTOM,
                f.scene.property.hideEqAd = !1;
                break;
            default:
            case y.FREEPAGE:
                f.eqShowType = x.EQFREE,
                f.scene.property && (f.scene.property.eqAdType = y.FREEPAGE,
                f.scene.property.hideEqAd = !1)
            }
        }
        function v(a) {
            f.isFormerScene && f.adSpend == t(f.scene.property.eqAdType) && delete f.scene.property.eqAdType,
            b.isObject(f.scene.property) && (f.scene.property = b.toJson(f.scene.property)),
            b.isString(f.scene.type) && (f.scene.type = parseInt(f.scene.type, 10)),
            i.saveSceneSettings(f.scene).then(function(a) {
                200 == a.data.code ? (r.pushForNextRoute("scene.setting.success", "notify.success"),
                c.path("my/scene/" + f.sceneId).search({}),
                d.showSetScenePanel = !1) : (s.openMsgDialog({
                    msg: a.data.msg
                }, function() {}),
                f.scene.property = JSON.parse(f.scene.property),
                f.scene.type = "" + f.scene.type)
            }, function(a) {
                f.invalidText = a
            })
        }
        f.loading = !1,
        f.url = "",
        f.sceneId = g.sceneId,
        f.isVendorUser = d.isVendorUser,
        f.isAllowToAccessLastPageSetting = p.isAllowToAccess(p.accessDef.SCENE_HIDE_LASTPAGE_SETTING),
        f.isAllowedToAccessNewPageFlip = true;
        var w = d.branchid
          
        
        , 
        x = {
            EQFREE: "eqFree",
            EQLINK: "eqLink",
            EQHIDE: "eqHide"
        };
        f.eqShowType = x.EQFREE;
        var y = {
            HIDE: 0,
            FREEPAGE: 1,
            DEFAULT_BOTTOM: 2,
            CUSTOM_BOTTOM: 3
        };
        f.eqADTypeChoice = y,
        f.switchToAdState = u,
        f.adSpend = 0,
        f.isFormerScene = !1,
        f.PREFIX_FILE_HOST = PREFIX_FILE_HOST,
        f.alwaysOpen = !0;
        var z;
        f.scene || (f.scene = {}),
        f.editScene = function() {
            c.path("scene/create/" + f.sceneId).search("pageId", 1)
        }
        ,
        f.switchOpen = function() {
            f.alwaysOpen && (f.startDate = null ,
            f.endDate = null )
        }
        ,
        f.openImageModal = function() {
            n.open({
                windowClass: "img_console console",
                templateUrl: "scene/console/bg.tpl.html",
                controller: "BgConsoleCtrl",
                resolve: {
                    obj: function() {
                        return {
                            fileType: 1
                        }
                    }
                }
            }).result.then(function(a) {
                return a.width / a.height === 1 ? (f.newCoverImage = a,
                f.newCoverImage.tmbPath = a.data,
                f.newCoverImage.path = a.data,
                f.coverImages.unshift(f.newCoverImage),
                void (f.scene.cover = f.newCoverImage.path)) : void n.open({
                    windowClass: "console seven-contain",
                    templateUrl: "scene/console/imageCrop.tpl.html",
                    controller: "imageCropCtrl",
                    backdrop: "static",
                    resolve: {
                        obj: function() {
                            return {
                                type: "square",
                                properties: {
                                    src: a.data
                                }
                            }
                        }
                    }
                }).result.then(function(a) {
                    var b = {
                        width: a.width,
                        height: a.height,
                        data: a.src,
                        type: "imgSrc"
                    };
                    f.newCoverImage = b,
                    f.newCoverImage.tmbPath = b.data,
                    f.newCoverImage.path = b.data,
                    f.coverImages.unshift(f.newCoverImage),
                    f.scene.cover = f.newCoverImage.path
                }, function(a) {})
            }, function(a) {})
        }
        ,
        f.chooseCover = function(a) {
            f.scene.cover = a.path
        }
        ,
        f.openmin = function(a) {
            a.preventDefault(),
            a.stopPropagation(),
            f.openedmax = !1,
            f.openedmin = !0,
            f.minDateStart = new Date,
            f.maxDateStart = f.endDate ? new Date(new Date(f.endDate).getTime() - 864e5) : null 
        }
        ,
        f.openmax = function(a) {
            a.preventDefault(),
            a.stopPropagation(),
            f.openedmin = !1,
            f.openedmax = !0,
            f.minDateEnd = f.startDate ? new Date(new Date(f.startDate).getTime() + 864e5) : new Date
        }
        ,
        f.dateOptions = {
            formatYear: "yy",
            startingDay: 1
        },
        f.formats = ["dd-MMMM-yyyy", "yyyy/MM/dd", "dd.MM.yyyy", "shortDate"],
        f.format = f.formats[1];
        var A = null ;
        f.saveSceneSettings = function(a) {
            if (f.startDate && !f.endDate)
                return void (f.invalidText = "请选择结束时间");
            if (f.endDate && !f.startDate)
                return void (f.invalidText = "请选择结束时间");
            if (f.maxLength30(),
            !f.scene.name || !f.scene.name.trim())
                return $("input.name").focus(),
                void (f.invalidText = "请填写场景名称");
            if (f.scene.property.autoFlip && !f.scene.property.autoFlipTime)
                return void (f.invalidText = "请选择翻页频率");
            var b = j(f.scene.name.trim());
            if (b > 48)
                return void (f.invalidText = "场景名称不能超过48个字符或24个汉字");
            if (f.scene.property && f.scene.property.eqAdType == y.CUSTOM_BOTTOM && (!f.scene.property.bottomLabel || !f.scene.property.bottomLabel.id))
                return void s.openMsgDialog({
                    msg: "请选择您要使用的自定义底标！"
                }, function() {});
            if (f.scene.property && f.scene.property.bottomLabel && f.scene.property.bottomLabel.name && j(f.scene.property.bottomLabel.name) > 16)
                return void (f.invalidText = "自定义名称不能超过16个字符");
            if (f.scene.property && f.scene.property.bottomLabel && !f.scene.property.bottomLabel.name && f.scene.property.bottomLabel.url && "http://" != f.scene.property.bottomLabel.url)
                return void (f.invalidText = "请输入自定义底标名称");
            if (f.scene.accessCode && ("0" != f.scene.applyPromotion || "0" != f.scene.applyTemplate))
                return void s.openMsgDialog({
                    msg: "申请样例、推荐的场景不能同时设置密码，请修改。"
                });
            if (f.scene.accessCode && 4 != f.scene.accessCode.length)
                return void s.openMsgDialog({
                    msg: "请输入有效的场景密码！"
                });
            if (f.startDate && f.endDate && (f.scene.startDate = f.startDate.getTime(),
            f.scene.endDate = f.endDate.getTime()),
            f.startDate && f.endDate || (f.scene.startDate = null ,
            f.scene.endDate = null ),
            f.scene.accessCode && 4 != f.scene.accessCode.length)
                return void s.openMsgDialog({
                    msg: "请输入有效的场景密码！"
                });
            f.scene.property.eqAdType = parseInt(f.scene.property.eqAdType, 10);
            var c = t(f.scene.property.eqAdType)
              
            
            , 
            d = c - f.adSpend;
            f.isFormerScene && 0 !== d ? d = c : 0 > d && (d = 0),
            !A && f.scene.loadingLogo && (d += 500),
            0 === d ? v(a) : d > f.userXd ? s.openMsgDialog({
                msg: '当前选择需要消耗秀点<font color="#ff6e6e">' + d + '</font>个<br/>秀点余额不足(<font color="#ff6e6e">' + (f.userXd || 0) + '</font>个)<span class="get-xd"><a href="?c=pay" target = "_blank">获取秀点</a></span>'
            }) : s.openConfirmDialog({
                msg: '当前选择需要消耗秀点<font color="#ff6e6e">' + d + '</font>个<br/>秀点余额为<font color="#ff6e6e">' + (f.userXd || 0) + "</font>个"
            }, function() {
                v(a)
            })
        }
        ,
        f.oldSceneApplyState = {
            applyPromotion: "",
            applyTemplate: ""
        },
        f.getSceneDetail = function() {
            i.getSceneDetail(f.sceneId, w).then(function(a) {
                f.scene = a.data.obj,
                f.scene.price = "" + (f.scene.price || "0"),
                A = f.scene.loadingLogo,
                f.oldSceneApplyState.applyPromotion = f.scene.applyPromotion = "" + f.scene.applyPromotion,
                f.oldSceneApplyState.applyTemplate = f.scene.applyTemplate = "" + f.scene.applyTemplate,
                f.scene.isTpl = "" + f.scene.isTpl,
                2 == a.data.obj.pageMode && (a.data.obj.pageMode = 0),
                f.scene.property ? f.scene.property = JSON.parse(f.scene.property) : f.scene.property = {},
                f.code = PREFIX_URL + "eqs/qrcode/" + f.scene.code + ".png",
                f.url = PREFIX_HOST + "/v-" + f.scene.code,
                f.customUrl = m.trustAsResourceUrl(PREFIX_HOST + "index.php?c=view&id=" + f.scene.id + "&preview=preview"),
                w && (f.customUrl += (/\?/.test(url) ? "&" : "?") + "user=" + w),
                f.scene.property.autoFlip && b.forEach(f.autoFlipTimes, function(a, b) {
                    a.id == f.scene.property.autoFlipTime
                }),
                f.adSpend = f.scene.property.adSpend || 0,
                f.isFormerScene = !1,
                f.scene.property.hideEqAd ? (f.adSpend = 100,
                f.scene.property.eqAdType = y.HIDE,
                f.eqShowType = x.EQHIDE) : f.scene.property.eqAdType ? u(f.scene.property.eqAdType) : f.scene.createTime < 14165028e5 ? (f.isFormerScene = !0,
                f.adSpend = 100,
                u(y.EQHIDE)) : f.scene.property.isAdvancedUser ? f.scene.property.bottomLabel && f.scene.property.bottomLabel.id ? (f.isFormerScene = !0,
                f.adSpend = 30,
                u(y.CUSTOM_BOTTOM)) : (f.isFormerScene = !0,
                f.adSpend = 15,
                u(y.DEFAULT_BOTTOM)) : (f.adSpend = 0,
                u(y.FREEPAGE)),
                f.scene.startDate && f.scene.endDate && (f.startDate = new Date(f.scene.startDate),
                f.endDate = new Date(f.scene.endDate),
                f.alwaysOpen = !1),
                f.scene.type = "" + f.scene.type,
                i.getCoverImages().then(function(a) {
                    f.coverImages = a.data.list;
                    for (var b, c = 0; c < f.coverImages.length; c++) {
                        if (f.scene.cover == f.coverImages[c].path) {
                            z = f.coverImages[c],
                            f.coverImages.splice(c, 1),
                            b = 0;
                            break
                        }
                        z = {
                            tmbPath: f.scene.cover,
                            path: f.scene.cover
                        },
                        b = 1
                    }
                    f.coverImages.unshift(z)
                }),
                i.getActivities().then(function(a) {
                    f.activities = a.data.list || []
                })
            })
        }
        ;
        var B = i.getSceneType().then(function(a) {
            f.types = a.data.list
        });
        f.tplPrices = [];
        var C = i.getSceneTemplatePrices().then(function(a) {
            f.tplPrices = a.data.list || []
        });
        h.all([B, C]).then(function() {
            f.getSceneDetail()
        }),
        f.pagemodes = [{
            id: 0,
            name: "上下翻页"
        }, {
            id: 4,
            name: "左右翻页"
        }, {
            id: 1,
            name: "上下惯性翻页"
        }, {
            id: 3,
            name: "左右惯性翻页"
        }, {
            id: 11,
            name: "上下连续翻页"
        }, {
            id: 5,
            name: "左右连续翻页"
        }, {
            id: 6,
            name: "立体翻页"
        }, {
            id: 7,
            name: "卡片翻页"
        }, {
            id: 8,
            name: "放大翻页"
        }, {
            id: 9,
            name: "交换翻页"
        }, {
            id: 10,
            name: "翻书翻页"
        }, {
            id: 12,
            name: "掉落翻页"
        }];
        var D = [8, 9, 10, 11];
        if (!f.isAllowedToAccessNewPageFlip)
            for (var E = 0; E < f.pagemodes.length; E++)
                for (var F = 0; F < D.length; F++)
                    f.pagemodes[E].id == D[F] && (f.pagemodes.splice(E, 1),
                    E--);
        f.scene.pageMode = f.pagemodes[0],
        f.autoFlipTimes = [{
            id: 3,
            name: "3秒"
        }, {
            id: 5,
            name: "5秒"
        }, {
            id: 8,
            name: "8秒"
        }, {
            id: 10,
            name: "10秒"
        }, {
            id: 12,
            name: "12秒"
        }, {
            id: 15,
            name: "15秒"
        }],
        f.userXd = 0,
        f.getUserXd = function() {
            o.getUserXd().then(function(a) {
                f.userXd = a.data.obj || 0
            })
        }
        ,
        f.getUserXd(),
        q.getPageTpls(1301).then(function(a) {
            a.data.list && a.data.list.length > 0 ? f.pageTpls = a.data.list : f.pageTpls = []
        }),
        q.getPageTpls(1311).then(function(a) {
            a.data.list && a.data.list.length > 0 ? f.bottomPageTpls = a.data.list : f.bottomPageTpls = []
        }),
        f.chooseLastPage = function(a) {
            f.scene.property.lastPageId = a,
            u(y.FREEPAGE)
        }
        ,
        f.chooseCustomBottomLabel = function(a) {
            f.scene.property.bottomLabel || (f.scene.property.bottomLabel = {}),
            f.scene.property.bottomLabel.id = a,
            u(y.CUSTOM_BOTTOM)
        }
        ,
        f.activities = null ,
        f.isActivityApplied = function(a) {
            var b = f.scene.promIds || "";
            return b.indexOf(a.id) >= 0
        }
        ,
        f.changeThisActivity = function(a, b) {
            var c = f.scene.promIds || "";
            if (b)
                f.scene.promIds = c + ("" === c ? "" : ",") + a.id;
            else {
                var d = c.split(",");
                d.splice(d.indexOf("" + a.id), 1),
                f.scene.promIds = d.join(",")
            }
        }
        ,
        f.maxLength30 = function() {
            if (f.scene.description && f.scene.description.length > 30) {
                var a = f.scene.description.replace(/[^\x00-\xff]/g, "xx");
                if (a.length > 60) {
                    var b = a.substring(0, 60).replace(/xx/g, "中").length;
                    f.scene.description = f.scene.description.substring(0, b)
                }
            }
        }
        ,
        f.uploadLoadingLogo = function() {
            n.open({
                windowClass: "img_console console",
                templateUrl: "scene/console/bg.tpl.html",
                controller: "BgConsoleCtrl",
                resolve: {
                    obj: function() {
                        return {
                            fileType: 1
                        }
                    }
                }
            }).result.then(function(a) {
                f.scene.loadingLogo = a.data
            }, function(a) {})
        }
        ,
        f.moreActivities = function() {}
        ,
        f.isLoadingLogoAccessible = true,
        f.isTemplatePaymentAccessible = p.isAllowToAccess(p.accessDef.TEMPLATE_PAYMENT),
        f.fourNumberPassword = function() {
            f.scene.accessCode && (f.scene.accessCode = f.scene.accessCode.replace(/\D/g, ""),
            f.scene.accessCode.length > 4 && (f.scene.accessCode = f.scene.accessCode.substr(0, 4)))
        }
        ,
        f.isScenePasswordAccessible = true
    }
    ]),
    b.module("scene.my.upload", ["angularFileUpload"]),
    b.module("scene.my.upload").controller("UploadCtrl", ["$scope", "FileUploader", "fileService", "category", "$timeout", "$interval", function(a, b, c, d, e, f) {
        a.category = d;
        var g;
        g = a.category.scratch || a.category.headerImage || a.category.companyImg ? a.uploader = new b({
            url: JSON_URL + "?c=upfile&a=upload&bizType=" + d.categoryId + "&fileType=" + d.fileType,
            withCredentials: !0,
            queueLimit: 1,
            onSuccessItem: function(b, c, d, e) {
                function g() {
                    f.cancel(h),
                    alert("上传完毕"),
                    a.$close(c.obj.path)
                }
                a.progressNum = 0;
                var h = f(function() {
                    a.progressNum < 100 ? a.progressNum += 15 : g()
                }, 100)
            }
        }) : a.uploader = new b({
            url: JSON_URL + "?c=upfile&a=upload&bizType=" + d.categoryId + "&fileType=" + d.fileType,
            withCredentials: !0,
            queueLimit: 5,
            onCompleteAll: function() {
                function b() {
                    f.cancel(c),
                    alert("上传完毕"),
                    a.$close()
                }
                a.progressNum = 0;
                var c = f(function() {
                    a.progressNum < 100 ? a.progressNum += 15 : b()
                }, 100)
            }
        }),
        d.limitSize = d.limitSize || 3145728;
        var h, i = d.limitSize;
        "0" == d.fileType || "1" == d.fileType ? h = "|jpg|png|jpeg|bmp|gif|" : ("2" == d.fileType || "4" == d.fileType) && (h = "|mp3|mpeg|"),
        g.filters.push({
            name: "imageFilter",
            fn: function(a, b) {
                var c = "|" + a.type.slice(a.type.lastIndexOf("/") + 1) + "|";
                return -1 !== h.indexOf(c)
            }
        }),
        g.filters.push({
            name: "imageSizeFilter",
            fn: function(a, b) {
                var c = a.size;
                return c >= i && alert("上传文件大小限制在" + i / 1024 / 1024 + "M以内"),
                i > c
            }
        }),
        g.filters.push({
            name: "fileNameFilter",
            fn: function(a, b) {
                return a.name.length > 50 && alert("文件名应限制在50字符以内"),
                a.name.length <= 50
            }
        }),
        a.removeQueue = function() {}
    }
    ]),
    b.module("reg", []),
    b.module("reg").controller("TestLoginCtrl", ["$rootScope", "$scope", function(a, b) {
        b.weiChatUrl = "https://open.weixin.qq.com/connect/qrconnect?appid=wxc5f1bbae4bb93ced&redirect_uri=http://www.hjtmt.com/testlogin.html&response_type=code&scope=snsapi_login&state=STATE#wechat_redirect"
    }
    ]),
    b.module("sample", ["services.sample", "services.mine", "services.scene", "app.directives.addelement", "app.directives.qrcode"]),
    b.module("sample").controller("SampleCtrl", ["$rootScope", "$http", "$scope", "$timeout", "security", "$window", "sampleService", "MineService", "sceneService", "$routeParams", function(a, b, c, d, e, f, g, h, i, j) {
        c.PREFIX_FILE_HOST = PREFIX_FILE_HOST,
        c.PREFIX_SERVER_HOST = PREFIX_URL,
        c.PREFIX_CLIENT_HOST = PREFIX_HOST,
        c.load = function() {
            t = $(".fixed").offset().top,
            mh = $(".mains").height(),
            fh = $(".fixed").height(),
            $("#eq_main").scroll(function() {
                s = $("#eq_main").scrollTop(),
                s > t - 10 ? ($(".fixed").css("position", "fixed"),
                s + fh > mh && $(".fixed").css("top", "0px")) : $(".fixed").css("position", "")
            })
        }
        ,
        c.$on("$destroy", function() {
            $("#eq_main").unbind("scroll")
        }),
        c.pageNo = 1,
        c.pageSize = 9,
        c.scene || (c.scene = {}),
        c.typeindex = "all",
        c.getHomes = function(a, b, d, e) {
            c.pageNo = 1,
            c.typeindex = a,
            c.currentType = b,
            c.showMoreButton = !0,
            g.getSamples(b, d, e).then(function(a) {
                c.homes = a.data.list
            }, function(a) {})
        }
        ,
        c.getSceneType = function() {
            i.getSceneType().then(function(a) {
                c.sceneTypes = a.data.list
            })
        }
        ,
        c.showMore = function() {
            c.pageNo++,
            g.getSamples(c.currentType, c.pageNo, c.pageSize).then(function(a) {
                a.data.list.length > 0 ? c.homes = c.homes.concat(a.data.list) : c.showMoreButton = !1
            }, function(a) {})
        }
        ,
        c.getSceneType(),
        c.getHomes("all", null , 1, 9),
        c.getSamplesPV = function() {
            g.getSamplesPV().then(function(a) {
                c.SamplesPVs = a.data,
                c.dayTop = c.SamplesPVs.obj.dayTop,
                c.monthTop = c.SamplesPVs.obj.monthTop,
                c.weekTop = c.SamplesPVs.obj.weekTop,
                c.page = "month"
            }, function(a) {})
        }
    }
    ]),
    b.module("scene.create.console", ["scene.create.console.bg", "scene.create.console.map", "scene.create.console.input", "scene.create.console.radio.checkbox", "scene.create.console.rating", "scene.create.console.counter", "scene.create.console.linkComponent", "scene.create.console.button", "scene.create.console.setting", "scene.create.console.audio", "scene.create.console.tel", "scene.create.console.lycc", "scene.create.console.fake", "scene.create.console.pictures1", "scene.create.console.sound", "scene.create.console.soundComponent", "scene.create.console.micro", "scene.create.console.link", "scene.create.console.video", "scene.create.console.ditu", "scene.create.console.category", "scene.create.console.imageCrop", "scene.create.console.cropImage", "scene.pageeffect.console", "scene.create.console.scene-setting-component", "scene.create.console.shape", "scene.create.console.randomevent"]),
    b.module("scene.create.console").controller("ConsoleCtrl", ["$scope", function(a) {}
    ]),
    b.module("scene.create.console").directive("autofocus", function() {
        return function(a, b, c) {
            setTimeout(function() {
                b.focus().select()
            }, 400)
        }
    }),
    b.module("scene.create.console.setting.anim", ["app.directives.uislider", "app.directives.limitInput"]),
    b.module("scene.create.console.setting.anim").controller("AnimConsoleCtrl", ["$scope", "$rootScope", "sceneService", "security", function(a, c, d, e) {
        function f(b, d) {
            var e = {
                anim: b,
                animClasses: k,
                count: d,
                elemId: a.elemDef.id
            };
            c.$broadcast("previewCurrentChange", e)
        }
        function g(b, d) {
            var e = {
                animations: b,
                animClasses: d,
                count: j,
                elemId: a.elemDef.id
            };
            c.$broadcast("previewAllChanges", e)
        }
        var h = a.elemDef = d.currentElemDef;
        a.animations = [],
        a.types = [],
        a.directions = [];
        var i, j, k = [];
        a.animTypeEnum = [{
            id: -1,
            name: "无"
        }, {
            id: 0,
            name: "淡入",
            cat: "进入"
        }, {
            id: 1,
            name: "移入",
            cat: "进入"
        }, {
            id: 2,
            name: "弹入",
            cat: "进入"
        }, {
            id: 20,
            name: "翻转进入",
            cat: "进入"
        }, {
            id: 3,
            name: "中心弹入",
            cat: "进入"
        }, {
            id: 4,
            name: "中心放大",
            cat: "进入"
        }, {
            id: 12,
            name: "翻滚进入",
            cat: "进入"
        }, {
            id: 24,
            name: "翻开进入",
            cat: "进入"
        }, {
            id: 13,
            name: "光速进入",
            cat: "进入"
        }, {
            id: 6,
            name: "摇摆",
            cat: "强调"
        }, {
            id: 5,
            name: "抖动",
            cat: "强调"
        }, {
            id: 7,
            name: "旋转",
            cat: "强调"
        }, {
            id: 8,
            name: "翻转",
            cat: "强调"
        }, {
            id: 9,
            name: "悬摆",
            cat: "强调"
        }, {
            id: 23,
            name: "闪烁",
            cat: "强调"
        }, {
            id: 21,
            name: "放大抖动",
            cat: "强调"
        }, {
            id: 22,
            name: "倾斜摆动",
            cat: "强调"
        }, {
            id: 10,
            name: "淡出",
            cat: "退出"
        }, {
            id: 17,
            name: "移出",
            cat: "退出"
        }, {
            id: 19,
            name: "弹出",
            cat: "退出"
        }, {
            id: 11,
            name: "翻转消失",
            cat: "退出"
        }, {
            id: 14,
            name: "中心消失",
            cat: "退出"
        }, {
            id: 18,
            name: "中心缩小",
            cat: "退出"
        }, {
            id: 15,
            name: "翻滚退出",
            cat: "退出"
        }, {
            id: 25,
            name: "翻开消失",
            cat: "退出"
        }, {
            id: 16,
            name: "光速退出",
            cat: "退出"
        }];
        var l, m, n = [23, 24, 25];
        if (!e.isAllowToAccess(e.accessDef.COMP_ANIMATION))
            for (l = 0; l < a.animTypeEnum.length; l++)
                for (m = 0; m < n.length; m++)
                    a.animTypeEnum[l].id == n[m] && (a.animTypeEnum.splice(l, 1),
                    l--);
        if (a.animDirectionEnum = [{
            id: 0,
            name: "从左向右"
        }, {
            id: 1,
            name: "从上到下"
        }, {
            id: 2,
            name: "从右向左"
        }, {
            id: 3,
            name: "从下到上"
        }],
        h.properties.anim)
            if (h.properties.anim instanceof Array) {
                if (h.properties.anim.length)
                    for (l = 0; l < h.properties.anim.length; l++)
                        if (null  != h.properties.anim[l].type && -1 != h.properties.anim[l].type) {
                            for (a.animations.push(h.properties.anim[l]),
                            m = 0,
                            tlen = a.animTypeEnum.length; m < tlen; m++)
                                a.animations[l].type == a.animTypeEnum[m].id && (a.types[l] = a.animTypeEnum[m]);
                            for (m = 0,
                            tlen = a.animDirectionEnum.length; m < tlen; m++)
                                a.animations[l].direction == a.animDirectionEnum[m].id && (a.directions[l] = a.animDirectionEnum[m])
                        } else
                            h.properties.anim.splice(l, 1),
                            l--
            } else {
                for (l = 0; l < a.animTypeEnum.length; l++)
                    a.animTypeEnum[l].id == h.properties.anim.type && (a.types[0] = a.animTypeEnum[l]);
                null  != h.properties.anim.direction ? a.directions[0] = a.animDirectionEnum[h.properties.anim.direction] : a.directions[0] = a.animDirectionEnum[0],
                h.properties.anim.duration = parseFloat(h.properties.anim.duration),
                h.properties.anim.delay = parseFloat(h.properties.anim.delay),
                h.properties.anim.countNum = parseInt(h.properties.anim.countNum, 10) || 1,
                a.animations.push(h.properties.anim)
            }
        h.properties || (h.properties = {});
        var o = {
            type: null ,
            direction: null ,
            duration: 2,
            delay: 0,
            countNum: 1,
            count: null 
        };
        a.addAnim = function() {
            var c = b.copy(o);
            c.type = a.animTypeEnum[0].id,
            c.direction = a.animDirectionEnum[0].id,
            a.animations.push(c);
            var d = a.animations.length;
            a.types[d - 1] = a.animTypeEnum[0],
            a.directions[d - 1] = a.animDirectionEnum[0]
        }
        ,
        a.removeAnim = function(b, c) {
            c.stopPropagation(),
            a.animations.splice(b, 1),
            a.types.splice(b, 1),
            a.directions.splice(b, 1)
        }
        ,
        a.clear = function() {
            a.animations = []
        }
        ,
        a.$watch("animations", function(b, c) {
            b != c && (h.properties.anim = a.animations)
        }, !0),
        a.$watch("types", function(b, c) {
            if (b && b != c)
                for (var d = 0; d < b.length; d++)
                    c[d] && b[d].id != c[d].id && f(a.animations[d], d)
        }, !0),
        a.$watch("directions", function(b, c) {
            if (b && b != c)
                for (var d = 0; d < b.length; d++)
                    c[d] && b[d].id != c[d].id && f(a.animations[d], d)
        }, !0),
        a.previewAnim = function() {
            for (var c = b.copy(a.animations), d = [], e = [], f = 0; f < c.length; f++)
                null  != c[f].type && -1 != c[f].type ? (d.push(c[f]),
                e[f] = r.convertType(c[f])) : (c.splice(f, 1),
                f--);
            j = 0,
            g(d, e)
        }
        ,
        a.changeAnimation = function(a, b) {
            i = r.convertType(a),
            k[b] = i
        }
    }
    ]),
    b.module("scene.create.console.audio", []),
    b.module("scene.create.console.audio").controller("AudioConsoleCtrl", ["$scope", "$rootScope", "$sce", "$timeout", "$modal", "fileService", "obj", function(a, b, c, d, e, f, g) {
        function h(a) {
            f.getFileByCategory(a, 10, "2", "1").success(function(a) {
                a.success ? b.$broadcast("sounds.update", a) : alert(a.msg)
            }).error(function() {
                alert("网络连接超时，请稍后重试")
            })
        }
        function i(a) {
            f.getFileByCategory(a, 10, "2", "0").success(function(a) {
                a.success ? b.$broadcast("sounds.update", a) : alert(a.msg)
            }).error(function() {
                alert("网络连接超时，请稍后重试")
            })
        }
        a.PREFIX_FILE_HOST = PREFIX_FILE_HOST;
        var j = a.sounds = [];
        a.pagination = {},
        a.getSounds = function(b) {
            a.isMySound ? i(b) : h(b)
        }
        ,
        a.selectTab = function(b) {
            a.isMySound = b,
            a.getSounds()
        }
        ,
        a.$on("sounds.update", function(b, c) {
            j.length = 0,
            $.each(c.list, function(a, b) {
                j.push({
                    id: b.id,
                    name: b.name,
                    src: b.path,
                    isPlaying: !1
                })
            });
            var d = c.map;
            a.pagination = {
                totalItems: d.count,
                pageSize: d.pageSize,
                currentPage: d.pageNo,
                numPages: Math.ceil(d.count / d.pageSize)
            }
        }),
        a.model = {
            bgAudio: {
                url: g.url ? g.url : "",
                type: g.type ? g.type : "3"
            },
            compType: "bgAudio"
        },
        d(function() {
            "1" == g.type && g.url && (a.model.type1 = g.url),
            "2" == g.type && g.url && (a.model.type2 = c.trustAsResourceUrl(PREFIX_FILE_HOST + g.url)),
            "3" == g.type && g.url && (a.model.type3 = c.trustAsResourceUrl(PREFIX_FILE_HOST + g.url))
        }),
        a.goUpload = function() {
            e.open({
                windowClass: "upload-console",
                templateUrl: "my/upload.tpl.html",
                controller: "UploadCtrl",
                resolve: {
                    category: function() {
                        return {
                            categoryId: 0,
                            fileType: 2
                        }
                    }
                }
            }).result.then(function(a) {
                i()
            })
        }
        ,
        a.playAudio = function(a) {
            $("#audition" + a)[0].play()
        }
        ,
        a.pauseAudio = function(a) {
            $("#audition" + a)[0].pause()
        }
        ,
        a.authError = "",
        a.confirm = function() {
            if ("1" == a.model.bgAudio.type) {
                if (!a.model.type1)
                    return $('input[type="text"]').focus(),
                    void (a.authError = "链接地址不能为空");
                a.model.bgAudio.url = a.model.type1
            }
            if ("2" == a.model.bgAudio.type) {
                if (!a.model.selectedMyAudio)
                    return $("select").focus(),
                    void (a.authError = "您没有选择音乐");
                a.model.bgAudio.url = a.model.selectedMyAudio.path
            }
            if ("3" == a.model.bgAudio.type) {
                if (!a.model.selectedAudio)
                    return $("select").focus(),
                    void (a.authError = "您没有选择音乐");
                a.model.bgAudio.url = a.model.selectedAudio.path
            }
            a.$close(a.model)
        }
        ,
        a.cancel = function() {
            a.$dismiss()
        }
    }
    ]),
    b.module("scene.create.console.bg", ["services.file", "scene.my.upload", "app.directives.responsiveImage", "app.directives.rightclick", "services.file.upload", "services.i18nNotifications", "app.directives.autoclose"]),
    b.module("scene.create.console.bg").controller("BgConsoleCtrl", ["$scope", "$timeout", "$rootScope", "$interval", "$modal", "ModalService", "sceneService", "fileService", "localizedMessages", "obj", "uploaderService", "i18nNotifications", function(a, c, d, e, f, g, h, i, j, k, l, m) {
        function n() {
            a.$watch("imgList", function(b) {
                for (var c = 0; c < b.length; c++) {
                    if (b[c].selected)
                        return void (a.mangeObj.manageAll = !0);
                    a.mangeObj.manageAll = !1
                }
            }, !0)
        }
        function o() {
            a.systemImages = !1,
            a.userTagId = "",
            a.sysCatId = "",
            i.getUserFiles1(1, q, p, null , a.userTagId)
        }
        var p = a.fileType = k.fileType;
        a.type = k.type;
        var q, r = 1;
        a.currentPage = 1,
        a.systemImages = !0,
        a.mangeObj = {
            manageAll: !1
        },
        a.showObj = {
            showGroup: !1
        },
        q = a.pageSize = 18,
        ("p" == a.type || "n" == a.type) && (a.mangeObj.manageAll = !0),
        a.switchToSystemImages = function(b) {
            a.systemImages = "true" === b
        }
        ;
        var s = function(a) {
            i.getSysCategory(a)
        }
          
        
        , 
        t = function(a, b, c, d, e) {
            i.getSystemFiles1(a, b, c, d, e)
        }
        ;
        s(p),
        t(r, q, p),
        a.getSystemFiles = function() {
            "0" != a.sysCatId && (a.userTagId = "",
            a.sysCatId = "0",
            a.sysTagList = [],
            a.sysTagId = "",
            w = [],
            t(r, q, p))
        }
        ,
        a.$on("sysCategory.update", function(b) {
            a.sysCategoryList = i.sysCategoryList
        }),
        a.getSysCatAndList = function(c) {
            w = [],
            a.sysCatId = c,
            "0" != c && "pure" != c ? i.getSysTagByCatId(c) : (a.sysTagList = [],
            a.sysTagId = "",
            b.forEach(a.imgList, function(a, b) {
                a.selected = !1
            })),
            t(r, q, p, c)
        }
        ,
        a.$on("sysTag.update", function(b) {
            a.sysTagList = i.sysTagList
        }),
        a.getSysImgByTag = function(b) {
            w = [],
            a.sysTagId = b,
            t(r, q, p, a.sysCatId, b)
        }
        ,
        a.$watch("currentPage", function(b) {
            a.toPage = b,
            w = [],
            a.systemImages ? t(b, q, p, a.sysCatId, a.sysTagId) : i.getUserFiles1(b, q, p, null , a.userTagId)
        }),
        a.getImgByPage = function() {
            a.currentPage = a.toPage
        }
        ,
        a.getUserFiles = function(b, c) {
            b !== a.userTagId && (a.thumbnailList = [],
            w = [],
            a.userTagId = b,
            a.sysCatId = "",
            i.getUserFiles1(c, q, p, null , b))
        }
        ,
        a.$on("imgList.update", function(b) {
            a.imgList = i.imgList,
            a.totalItems = i.totalItems,
            a.currentPage = i.pageNo
        });
        var u = null ;
        a.createTag = function() {
            return a.tagList.length >= 8 ? void (a.authError = "最多能创建8个自定义分组！") : void (u = f.open({
                windowClass: "console",
                templateUrl: "scene/console/category.tpl.html",
                controller: "CategoryConsoleCtrl"
            }))
        }
        ;
        var v = function() {
            i.getTagList()
        }
        ;
        v(),
        a.deleteTag = function(a, b) {
            g.openConfirmDialog({
                msg: "确定删除此分组?"
            }, function() {
                i.deleteTag(a, b)
            })
        }
        ,
        a.$on("tagList.update", function(b) {
            a.tagList = i.tagList
        }),
        a.$on("tagList.delete", function(a) {
            o()
        });
        var w = [];
        a.switchSelect = function(c, d, e) {
            if (e.stopPropagation(),
            c.selected = !c.selected,
            a.systemImages && "p" != k.type && "n" != k.type)
                if (b.forEach(a.imgList, function(a, b) {
                    !a.selected || a.id == c.id && a.color == c.color || (a.selected = !1)
                }),
                c.selected) {
                    var f;
                    w = [],
                    c.path ? f = {
                        id: c.id,
                        src: c.path,
                        shape: c.shape
                    } : c.color && (f = {
                        color: c.color
                    }),
                    w.push(f)
                } else
                    w = [];
            else if (c.selected)
                a.mangeObj.manageAll = !0,
                w.push({
                    id: c.id,
                    src: c.path || c.tmbPath,
                    shape: c.shape
                });
            else {
                n();
                for (var g in w)
                    w[g].id == c.id && w.splice(g, 1)
            }
        }
        ,
        a.cancelSelect = function() {
            for (var b in a.imgList)
                a.imgList[b].selected && (a.imgList[b].selected = !1);
            w = []
        }
        ,
        a.assignTag = function(c) {
            var d = [];
            a.showObj.showGroup = !1;
            for (var e = 0; e < w.length; e++)
                d.push(w[e].id);
            if (!d.length)
                return void (a.authError = "请先选择一张图片再进行分组");
            b.forEach(a.imgList, function(a, b) {
                a.selected = !1
            });
            var f = d.join(",");
            i.assignTag(c, f),
            w = []
        }
        ,
        a.$on("tag.assign", function() {
            m.pushForCurrentRoute("data.assign.success", "notify.success")
        }),
        a.unbindTag = function(b) {
            for (var c = [], d = 0; d < w.length; d++)
                c.push(w[d].id);
            if (!c.length)
                return void (a.authError = "请先选择一张图片再解除分组");
            var e = c.join(",");
            i.unbindTag(b, e)
        }
        ,
        a.$on("tag.unbind", function() {
            m.pushForCurrentRoute("group.delete.data", "notify.success"),
            i.getUserFiles1(a.currentPage, q, p, null , a.userTagId)
        }),
        a.deleteFile = function(b) {
            var c = [];
            if (!b && 0 === w.length)
                return void (a.authError = "请您选中图片后再进行删除操作！");
            for (var d = 0; d < w.length; d++)
                c.push(w[d].id);
            var e = b ? "确定删除此图片？" : "确定删除所选图片？"
              
            
            , 
            f = b ? b : c.join(",");
            g.openConfirmDialog({
                msg: e
            }, function() {
                i.deleteFile(f)
            })
        }
        ,
        a.$on("files.delete", function(b) {
            a.sysCatId = "",
            w = [],
            i.getUserFiles1(a.currentPage, q, p, null , a.userTagId)
        }),
        a.replaceImage = function() {
            if (!w.length)
                return void (a.authError = "请您先选择图片！");
            var b;
            if ("p" != k.type && "n" != k.type) {
                if (w.length > 1)
                    return void (a.authError = "只能选择一张图片进行替换！");
                b = w[0]
            } else {
                var c = k.count + w.length
                  
                
                , 
                d = "p" == k.type ? 6 : 10;
                if (c > d)
                    return a.authError = "最多可选择" + (d - k.count) + "张图片",
                    !1;
                a.picObj = [];
                for (var e = 0; e < w.length; e++)
                    a.picObj.push({
                        width: w[e].shape.width,
                        height: w[e].shape.height,
                        src: w[e].src
                    })
            }
            var f = {};
            b && b.src && (f = {
                type: "imgSrc",
                data: b.src,
                width: b.shape.width,
                height: b.shape.height
            }),
            "0" == p ? b.src ? a.$close(f) : a.$close({
                type: "backgroundColor",
                color: b.color
            }) : (("p" == k.type || "n" == k.type) && (f.selectedImages = a.picObj),
            a.$close(f))
        }
        ,
        a.replaceByClick = function(b, c, d) {
            return "p" == k.type || "n" == k.type ? void a.switchSelect(b, c, d) : (w = [],
            void ((!w.length && !a.mangeObj.manageAll || a.systemImages) && (b.path || b.tmbPath ? w.push({
                id: b.id,
                src: b.path || b.tmbPath,
                shape: b.shape
            }) : b.color && w.push({
                color: b.color
            }),
            a.replaceImage())))
        }
        ,
        a.uploader = l.uploader(p),
        a.$on("uploadfiles.add", function(b) {
            o(),
            a.imgList.length == q && a.imgList.splice(a.imgList.length - a.uploader.queue.length - 1, a.uploader.queue.length)
        });
        var x;
        a.$on("thumbnailList.update", function(b, c) {
            for (var d = 0; d < a.uploader.queue.length; d++)
                100 == a.uploader.queue[d].progress && (a.uploader.queue.splice(d, 1),
                x = c,
                a.imgList.unshift(x))
        }),
        a.$on("upload.bg.complete", function(b, c) {
            i.deleteFile(x.id),
            h.openCropModal(c, function(b) {
                x.tmbPath = b.src,
                x.id = b.id,
                a.imgList.unshift(x)
            }, function(a) {})
        }),
        a.cancel = function() {
            a.$dismiss()
        }
    }
    ]),
    b.module("scene.create.console.button", []),
    b.module("scene.create.console.button").controller("ButtonConsoleCtrl", ["$scope", "$timeout", "localizedMessages", "obj", function(a, c, d, e) {
        a.model = {
            title: e.properties.title
        },
        a.authError = "",
        a.buttons = [{
            id: 1,
            text: "点击提交",
            btnStyle: {
                backgroundColor: "#08a1ef",
                height: "40px",
                "text-align": "center",
                "line-height": "40px",
                color: "rgb(255, 255, 255)"
            }
        }, {
            id: 2,
            text: "立即提交",
            btnStyle: {
                backgroundColor: "rgb(255, 255, 255)",
                height: "40px",
                "text-align": "center",
                "line-height": "40px",
                color: "rgb(0, 0, 0)"
            }
        }, {
            id: 3,
            text: "提交信息",
            btnStyle: {
                backgroundColor: "#f6b223",
                height: "40px",
                "text-align": "center",
                "line-height": "40px",
                color: "rgb(255, 255, 255)"
            }
        }, {
            id: 4,
            text: "立即参加",
            btnStyle: {
                height: "40px",
                backgroundColor: "#333333",
                "text-align": "center",
                "line-height": "40px",
                color: "rgb(255, 255, 255)"
            }
        }, {
            id: 5,
            text: "提交表单",
            btnStyle: {
                height: "40px",
                backgroundColor: "#a0d86b",
                "text-align": "center",
                "line-height": "40px",
                color: "rgb(255, 255, 255)"
            }
        }, {
            id: 6,
            text: "马上订购",
            btnStyle: {
                height: "40px",
                backgroundColor: "#ff6666",
                "text-align": "center",
                "line-height": "40px",
                color: "rgb(255, 255, 255)"
            }
        }],
        b.forEach(a.buttons, function(b, c) {
            "" !== a.model.title && e.css.backgroundColor && e.css.backgroundColor == b.btnStyle.backgroundColor && (a.btnIndex = c)
        }),
        a.confirm = function() {
            return a.model.title && 0 !== a.model.title.length ? void a.$close(a.model) : (a.authError = "按钮名称不能为空",
            void $('.bg_console input[type="text"]').focus())
        }
        ,
        a.cancel = function() {
            a.$dismiss()
        }
        ,
        a.chooseTabButton = function(b, c) {
            a.model.title = b.text,
            a.model.btnStyle = b.btnStyle,
            a.btnIndex = c
        }
    }
    ]),
    b.module("scene.create.console.category", ["services.file"]),
    b.module("scene.create.console.category").controller("CategoryConsoleCtrl", ["$scope", "$timeout", "localizedMessages", "fileService", function(a, b, c, d) {
        a.category = {},
        a.authError = "",
        a.confirm = function() {
            return a.category.name && a.category.name.trim() ? j(a.category.name) > 16 ? void (a.authError = "分类名称不能超过16个字符！") : (d.createTag(a.category.name),
            void a.$close()) : void (a.authError = "请输入分类名称！")
        }
        ,
        a.cancel = function() {
            a.$dismiss()
        }
    }
    ]),
    b.module("scene.create.console.counter", []),
    b.module("scene.create.console.counter").controller("CounterConsoleCtrl", ["$scope", "$timeout", "localizedMessages", "obj", "$modal", function(a, c, d, e, f) {
        a.model = {
            title: e.title,
            properties: {
                layout: e.properties.layout,
                size: e.properties.size,
                color: e.properties.color,
                icon: e.properties.icon,
                imgSrc: e.properties.imgSrc
            }
        },
        a.authError = "",
        a.openImageModal = function() {
            f.open({
                windowClass: "img_console console",
                templateUrl: "scene/console/bg.tpl.html",
                controller: "BgConsoleCtrl",
                resolve: {
                    obj: function() {
                        return {
                            fileType: 1
                        }
                    }
                }
            }).result.then(function(b) {
                a.model.properties.icon = "",
                a.model.properties.imgSrc = e.properties.imgSrc = b.data
            }, function(a) {})
        }
        ,
        a.confirm = function() {
            b.extend(e, a.model);
            var c = parseInt(e.css.height, 10) || 0;
            a.model.properties.imgSrc && 115 > c && (a.model.btnStyle = {
                width: "320px",
                height: "115px",
                lineHeight: "115px",
                backgroundColor: "transparent"
            }),
            "counter-tb" === a.model.properties.layout && (!a.model.properties.imgSrc && 80 > c && (a.model.btnStyle = {
                height: "80px",
                lineHeight: "80px"
            }),
            a.model.properties.imgSrc && 155 > c && (a.model.btnStyle = a.model.btnStyle || {},
            a.model.btnStyle.height = a.model.btnStyle.lineHeight = "155px")),
            a.$close(a.model)
        }
        ,
        a.cancel = function() {
            a.$dismiss()
        }
        ,
        a.chooseEqfont = function(b) {
            a.model.properties.icon = b,
            a.model.properties.imgSrc = null 
        }
    }
    ]),
    b.module("scene.create.console.cropImage", ["services.file"]).directive("cropImage", ["sceneService", "fileService", "$compile", function(a, b, c) {
        return {
            restrict: "EAC",
            scope: {},
            replace: !0,
            templateUrl: "scene/console/cropimage.tpl.html",
            link: function(c, d, e) {
                function f() {
                    o.css.width / o.css.height > m / n ? (k = parseInt(o.css.width * m / o.css.width, 10),
                    l = parseInt(o.css.height * m / o.css.width, 10)) : (k = parseInt(o.css.width * n / o.css.height, 10),
                    l = parseInt(o.css.height * n / o.css.height, 10));
                    var a = (m - k) / 2
                      
                    
                    , 
                    b = (n - l) / 2
                      
                    
                    , 
                    c = (m - k) / 2 + k
                      
                    
                    , 
                    d = (n - l) / 2 + l;
                    j = [0, 0, m, n],
                    r = o.css.width / o.css.height,
                    i = [a, b, c, d]
                }
                function g(a) {
                    $(".cropWidth").html(parseInt(a.w, 10)),
                    $(".cropHeight").html(parseInt(a.h, 10))
                }
                c.PREFIX_FILE_HOST = PREFIX_FILE_HOST;
                var h, i, j, k, l, m, n, o = a.currentElemDef, 
                p = a.currentElemDef.properties.src, 
                q = $("#target"), 
                r = o.css.width / o.css.height;
                c.fit = !0,
                c.lockRatio = !1,
                c.$on("changeElemDef", function(a, b) {
                    o = b,
                    c.fit = !0,
                    c.lockRatio = !1,
                    o.properties.src != p ? (p = o.properties.src,
                    h.setImage(PREFIX_FILE_HOST + p),
                    q.unbind("load").attr("src", PREFIX_FILE_HOST + p).load(function() {
                        m = this.width,
                        n = this.height,
                        c.preSelectImage(p),
                        c.$apply()
                    })) : (c.preSelectImage(p),
                    c.$apply())
                }),
                c.preSelectImage = function(a) {
                    h ? (f(),
                    h.setOptions({
                        aspectRatio: r,
                        setSelect: i
                    })) : q.attr("src", PREFIX_FILE_HOST + a).load(function() {
                        m = this.width,
                        n = this.height,
                        q.Jcrop({
                            onChange: g,
                            keySupport: !1,
                            setSelect: [0, 0, 100, 100],
                            boxHeight: 320,
                            boxWidth: 680
                        }, function() {
                            h = this
                        }),
                        a && (f(),
                        h.setOptions({
                            aspectRatio: r,
                            setSelect: i
                        }))
                    })
                }
                ,
                c.preSelectImage(p),
                c.$watch("lockRatio", function(a, b) {
                    if (h) {
                        var c = h.tellSelect();
                        c.w = parseInt(c.w, 10),
                        c.h = parseInt(c.h, 10),
                        a ? h.setOptions({
                            aspectRatio: c.w / c.h
                        }) : h.setOptions({
                            aspectRatio: null 
                        })
                    }
                }),
                c.$watch("fit", function(a, b) {
                    if (h)
                        if (a) {
                            var c = h.tellSelect();
                            c.x = parseInt(c.x, 10),
                            c.y = parseInt(c.y, 10),
                            c.x2 = parseInt(c.x2, 10),
                            c.y2 = parseInt(c.y2, 10),
                            j = [c.x, c.y, c.x2, c.y2],
                            h.setOptions({
                                aspectRatio: r,
                                setSelect: i
                            })
                        } else
                            h.setOptions({
                                aspectRatio: null ,
                                setSelect: j
                            })
                }),
                c.crop = function() {
                    var c = a.currentElemDef
                      
                    
                    , 
                    e = h.tellSelect();
                    return 0 === e.w || 0 === e.h ? void $(d).hide() : (e.x = parseInt(e.x, 10),
                    e.y = parseInt(e.y, 10),
                    e.w = parseInt(e.w, 10),
                    e.h = parseInt(e.h, 10),
                    e.x2 = parseInt(e.x2, 10),
                    e.y2 = parseInt(e.y2, 10),
                    e.src = $("#target").attr("src").split(PREFIX_FILE_HOST)[1],
                    void b.cropImage(e).then(function(a) {
                        var b = {
                            type: "imgSrc",
                            data: a.data.obj,
                            width: e.w,
                            height: e.h
                        };
                        c.properties.src = b.data;
                        var f = b.width / b.height
                          
                        
                        , 
                        g = $("#" + c.id)
                          
                        
                        , 
                        h = $("#inside_" + c.id).width()
                          
                        
                        , 
                        i = $("#inside_" + c.id).height()
                          
                        
                        , 
                        j = h / i;
                        f >= j ? (i = h / f,
                        $("#inside_" + c.id).height(i),
                        c.css.height = i,
                        c.properties.height = i,
                        g.outerHeight(i),
                        g.outerWidth(h),
                        g.css("marginLeft", 0),
                        g.css("marginTop", 0)) : (h = i * f,
                        $("#inside_" + c.id).width(h),
                        c.css.width = h,
                        c.properties.width = h,
                        g.outerWidth(h),
                        g.outerHeight(i),
                        g.css("marginTop", 0),
                        g.css("marginLeft", 0)),
                        g.attr("src", PREFIX_FILE_HOST + b.data),
                        c.properties.imgStyle = {},
                        c.properties.imgStyle.width = g.outerWidth(),
                        c.properties.imgStyle.height = g.outerHeight(),
                        c.properties.imgStyle.marginTop = g.css("marginTop"),
                        c.properties.imgStyle.marginLeft = g.css("marginLeft"),
                        $(d).hide()
                    }, function(b) {
                        c.properties.src || a.deleteElement(c.id)
                    }))
                }
                ,
                c.cancel = function() {
                    $(d).hide()
                }
            }
        }
    }
    ]),
    b.module("scene.create.console.fake", []),
    b.module("scene.create.console.fake").controller("FakeConsoleCtrl", ["$scope", "type", function(a, b) {
        a.type = b
    }
    ]),
    b.module("scene.create.console.imageCrop", ["services.file"]).controller("imageCropCtrl", ["$rootScope", "$scope", "imageCropService", "obj", function(a, b, c, d) {
        var e;
        "square" == d.type ? e = b.cropOption = {
            type: d.type,
            title: "图片裁切",
            desc: "图片将按照要求的比例进行裁切",
            showItems: !1,
            imgSrc: d.properties.src,
            cropItems: [{
                ratio: 1,
                desc: "正方形比例"
            }]
        } : 3 == d.type ? e = b.cropOption = {
            type: d.type,
            title: "背景裁切",
            desc: "背景图将按照要求的比例进行裁切",
            showItems: !1,
            imgSrc: d.properties.src,
            cropItems: [{
                ratio: 640 / 1008,
                desc: "背景图比例"
            }]
        } : 4 == d.type && (e = b.cropOption = {
            type: d.type,
            title: "图片裁切",
            desc: "请根据你的需求，点击右侧常用比例进行裁切",
            showItems: !0,
            imgSrc: d.properties.src,
            cropItems: [{
                value: 1,
                ratio: 0,
                desc: "原图比例"
            }, {
                value: 2,
                ratio: 1,
                desc: "1:1"
            }, {
                value: 3,
                ratio: 4 / 3,
                desc: "4:3"
            }, {
                value: 4,
                ratio: .75,
                desc: "3:4"
            }, {
                value: 5,
                ratio: 320 / 486,
                desc: "标准屏比例"
            }, {
                value: 6,
                ratio: 320 / 243,
                desc: "1/2屏比例"
            }, {
                value: 7,
                ratio: 320 / 162,
                desc: "1/3屏比例"
            }, {
                value: 8,
                ratio: -1,
                desc: "自定义",
                lock: !1
            }]
        }),
        e.currentItem = e.cropItems[0],
        b.cropItemChange = function(b) {
            null  == b.lock && (e.cropItems[7].lock = !1),
            e.currentItem = b,
            a.$broadcast("cropItem.change", b)
        }
        ,
        b.ok = function() {
            a.$broadcast("cropImage.ok", d)
        }
        ,
        b.cancel = function() {
            b.$dismiss(d.properties.src)
        }
    }
    ]).factory("imageCropService", ["$rootScope", "fileService", function(a, b) {
        var c = {};
        return c.cropImage = function(c) {
            b.cropImage(c).success(function(b) {
                if (b.success) {
                    var d = {
                        width: c.w,
                        height: c.h,
                        src: b.map.path,
                        id: b.map.id
                    };
                    a.$broadcast("crop.success", d)
                } else
                    alert(b.msg),
                    a.$broadcast("crop.fail")
            }).error(function() {
                alert("网络连接超时，请稍后重试"),
                a.$broadcast("crop.fail")
            })
        }
        ,
        c
    }
    ]).directive("eqxCropPreview", ["imageCropService", function(a) {
        function b(a, b) {
            c(a, b),
            a.$on("$destroy", function() {
                l = !1
            }),
            a.$on("cropItem.change", function(a, b) {
                e(b)
            }),
            a.$on("cropImage.ok", function(c, d) {
                l || (k = d,
                f(a, b))
            }),
            a.$on("crop.success", function(b, c) {
                4 == k.type && g(c),
                a.$close(c)
            })
        }
        function c(a, b) {
            b.hide().load(function() {
                b.show();
                var c = $(".image_crop")
                  
                
                , 
                e = {
                    width: c.width(),
                    height: c.height()
                }
                  
                
                , 
                f = e.width / e.height;
                i = {
                    width: this.width,
                    height: this.height
                };
                var g, h = i.width / i.height;
                i.width > e.width || i.height > e.height ? h > f ? (b.css({
                    width: e.width,
                    height: e.width / h
                }),
                g = {
                    position: "absolute",
                    top: "50%",
                    marginTop: -e.width / h / 2
                }) : (b.css({
                    width: e.height * h,
                    height: e.height
                }),
                g = {
                    margin: "auto"
                }) : g = {
                    position: "absolute",
                    left: "50%",
                    top: "50%",
                    marginLeft: -i.width / 2,
                    marginTop: -i.height / 2
                },
                j = {
                    width: b.width(),
                    height: b.height()
                },
                d(a, b, g)
            })
        }
        function d(a, b, c) {
            var d = b.parent().attr("ctype")
              
            
            , 
            e = j.width
              
            
            , 
            f = j.height;
            if (3 == d || "square" == d) {
                var g = a.$parent.cropOption.currentItem;
                e > f ? e = f * g.ratio : f = e / g.ratio,
                b.Jcrop({
                    keySupport: !1,
                    aspectRatio: g.ratio,
                    allowSelect: !1,
                    setSelect: [0, 0, e, f],
                    onRelease: function() {
                        this.setOptions({
                            setSelect: [0, 0, e, f]
                        })
                    }
                }, function() {
                    h = this
                })
            } else
                b.Jcrop({
                    keySupport: !1,
                    aspectRatio: e / f,
                    allowSelect: !1,
                    setSelect: [0, 0, e, f],
                    onRelease: function() {
                        this.setOptions({
                            setSelect: [0, 0, e, f]
                        })
                    }
                }, function() {
                    h = this
                });
            $(".jcrop-holder").css(c)
        }
        function e(a) {
            var b, c = j.width, 
            d = j.height;
            if (-1 === a.ratio) {
                var e = h.tellSelect();
                b = a.lock ? {
                    aspectRatio: e.w / e.h,
                    setSelect: [0, 0, e.w, e.h]
                } : {
                    aspectRatio: 0,
                    setSelect: [0, 0, e.w, e.h]
                }
            } else
                0 === a.ratio ? b = {
                    aspectRatio: c / d,
                    setSelect: [0, 0, c, d]
                } : (c > d ? c = d * a.ratio : d = c / a.ratio,
                b = {
                    aspectRatio: c / d,
                    setSelect: [0, 0, c, d]
                });
            h.setOptions(b)
        }
        function f(b, c) {
            var d = h.tellSelect();
            if (d.w === j.width && d.h === j.height || 0 === d.w && 0 === d.h) {
                if (!k)
                    return;
                return void b.$dismiss(k.properties.src)
            }
            l = !0;
            var e = i.width / j.width;
            d.w = parseInt(d.w * e, 10),
            d.h = parseInt(d.h * e, 10),
            d.x = parseInt(d.x * e, 10),
            d.y = parseInt(d.y * e, 10),
            d.src = c.attr("src").split(PREFIX_FILE_HOST)[1],
            d.x + d.w > i.width && (d.w = i.width - d.x),
            d.y + d.h > i.height && (d.h = i.height - d.y),
            3 == k.type ? d.fileType = 0 : d.fileType = 1,
            delete d.x2,
            delete d.y2,
            a.cropImage(d)
        }
        function g(a) {
            var b = k;
            b.properties.src = a.src;
            var c = a.width / a.height
              
            
            , 
            d = $("#" + b.id)
              
            
            , 
            e = $("#inside_" + b.id)
              
            
            , 
            f = e.width()
              
            
            , 
            g = e.height()
              
            
            , 
            h = f / g;
            c >= h ? (g = f / c,
            e.height(g),
            b.css.height = g,
            b.properties.height = g,
            d.outerHeight(g),
            d.outerWidth(f),
            d.css("marginLeft", 0),
            d.css("marginTop", 0)) : (f = g * c,
            e.width(f),
            b.css.width = f,
            b.properties.width = f,
            d.outerWidth(f),
            d.outerHeight(g),
            d.css("marginTop", 0),
            d.css("marginLeft", 0)),
            d.attr("src", PREFIX_FILE_HOST + a.src),
            b.properties.imgStyle = {},
            b.properties.imgStyle.width = d.outerWidth(),
            b.properties.imgStyle.height = d.outerHeight(),
            b.properties.imgStyle.marginTop = d.css("marginTop"),
            b.properties.imgStyle.marginLeft = d.css("marginLeft")
        }
        var h, i, j, k, l = !1;
        return {
            link: b
        }
    }
    ]),
    b.module("scene.create.console.input", []),
    b.module("scene.create.console.input").controller("InputConsoleCtrl", ["$scope", "$timeout", "localizedMessages", "obj", function(a, c, d, e) {
        a.model = {
            title: e.title,
            type: e.type,
            required: e.properties.required
        },
        a.authError = "",
        a.buttons = [{
            id: 1,
            text: "输入框",
            btnStyle: {
                height: "40px",
                backgroundColor: "#fff",
                "text-align": "center",
                borderWidth: "1",
                borderStyle: "solid",
                borderColor: "#08a1ef",
                color: "rgb(0, 0, 0)"
            }
        }, {
            id: 2,
            text: "输入框",
            btnStyle: {
                height: "40px",
                backgroundColor: "#fff",
                "text-align": "center",
                borderWidth: "1",
                borderStyle: "solid",
                borderColor: "#fff",
                color: "rgb(0, 0, 0)"
            }
        }, {
            id: 3,
            text: "输入框",
            btnStyle: {
                height: "40px",
                backgroundColor: "#fff",
                "text-align": "center",
                borderWidth: "1",
                borderStyle: "solid",
                borderColor: "#f6b223",
                color: "rgb(0, 0, 0)"
            }
        }, {
            id: 4,
            text: "输入框",
            btnStyle: {
                height: "40px",
                backgroundColor: "#fff",
                "text-align": "center",
                borderWidth: "1",
                borderStyle: "solid",
                borderColor: "#333",
                color: "rgb(0, 0, 0)"
            }
        }, {
            id: 5,
            text: "输入框",
            btnStyle: {
                height: "40px",
                backgroundColor: "#fff",
                "text-align": "center",
                borderWidth: "1",
                borderStyle: "solid",
                borderColor: "#a0d86b",
                color: "rgb(0, 0, 0)"
            }
        }, {
            id: 6,
            text: "输入框",
            btnStyle: {
                height: "40px",
                backgroundColor: "#fff",
                "text-align": "center",
                borderWidth: "1",
                borderStyle: "solid",
                borderColor: "#f66",
                color: "rgb(0, 0, 0)"
            }
        }],
        b.forEach(a.buttons, function(b, c) {
            "" !== a.model.title && e.css.borderColor && e.css.borderColor == b.btnStyle.borderColor && (a.btnIndex = c)
        }),
        a.confirm = function() {
            return a.model.title && 0 !== a.model.title.length ? void a.$close(a.model) : (a.authError = "输入框名称不能为空",
            void $('input[type="text"]').focus())
        }
        ,
        a.cancel = function() {
            a.$dismiss()
        }
        ,
        a.chooseTabButton = function(b, c) {
            a.model.title = b.text,
            a.model.btnStyle = b.btnStyle,
            a.btnIndex = c
        }
    }
    ]),
    b.module("scene.create.console.linkComponent", []),
    b.module("scene.create.console.linkComponent").controller("LinkComponentConsoleCtrl", ["$scope", "$timeout", "localizedMessages", "obj", "$modal", "sceneService", function(a, c, d, e, f, g) {
        a.model = {
            title: e.properties.title,
            imgSrc: e.properties.imgSrc,
            url: {
                link: "external",
                externalLink: "http://"
            }
        },
        e.properties.url && (b.isNumber(e.properties.url) ? (a.model.url.link = "internal",
        a.model.url.internalLink = e.properties.url) : (a.model.url.link = "external",
        a.model.url.externalLink = decodeURIComponent(e.properties.url.split("=")[2]))),
        a.authError = "",
        a.buttons = [{
            id: 1,
            text: "点我购买",
            btnStyle: {
                width: "100px",
                backgroundColor: "rgb(244, 113, 31)",
                height: "40px",
                "text-align": "center",
                "line-height": "40px",
                color: "rgb(255, 255, 255)"
            }
        }, {
            id: 2,
            text: "点开链接",
            btnStyle: {
                width: "100px",
                backgroundColor: "rgb(253, 175, 7)",
                height: "40px",
                "text-align": "center",
                "line-height": "40px",
                color: "rgb(255, 255, 255)"
            }
        }, {
            id: 3,
            text: "马上购买",
            btnStyle: {
                width: "100px",
                backgroundColor: "rgb(121, 196, 80)",
                height: "40px",
                "text-align": "center",
                "line-height": "40px",
                color: "rgb(255, 255, 255)"
            }
        }, {
            id: 4,
            text: "关注我们",
            btnStyle: {
                width: "100px",
                height: "40px",
                backgroundColor: "#fff",
                "text-align": "center",
                border: "1px solid #3FB816",
                "line-height": "40px",
                color: "rgb(0, 0, 0)"
            }
        }],
        a.openImageModal = function() {
            f.open({
                windowClass: "img_console console",
                templateUrl: "scene/console/bg.tpl.html",
                controller: "BgConsoleCtrl",
                resolve: {
                    obj: function() {
                        return {
                            fileType: 1
                        }
                    }
                }
            }).result.then(function(b) {
                a.model.title = "",
                a.btnIndex = -1,
                a.model.btnStyle = {
                    width: "115px",
                    height: "115px",
                    "line-height": "1",
                    backgroundColor: "transparent"
                },
                a.model.imgSrc = e.properties.imgSrc = b.data
            }, function(a) {})
        }
        ,
        b.forEach(a.buttons, function(b, c) {
            "" !== a.model.title && e.css.backgroundColor && e.css.backgroundColor == b.btnStyle.backgroundColor && (a.btnIndex = c)
        }),
        a.confirm = function() {
            return null  != a.model.imgSrc || a.model.title && 0 !== a.model.title.length ? a.model.url.internalLink || a.model.url.externalLink ? (e.properties.url = "internal" === a.model.url.link ? a.model.url.internalLink : a.model.url.externalLink,
            e.properties.title = a.model.title,
            void a.$close(a.model)) : void (a.authError = "链接不能为空") : (a.authError = "按钮名称不能为空",
            void $("#buttonName").focus())
        }
        ,
        a.cancel = function() {
            a.$dismiss()
        }
        ,
        a.chooseTabButton = function(b, c) {
            a.model.title = b.text,
            a.model.btnStyle = b.btnStyle,
            a.btnIndex = c,
            a.model.imgSrc = e.properties.imgSrc = null 
        }
        ,
        a.removeLink = function(b) {
            "external" == b ? a.model.url.externalLink = null  : "internal" == b && (a.model.url.internalLink = 0),
            a.model.url.link = ""
        }
        ,
        a.changed = function() {
            "external" == a.model.url.link ? a.model.url.internalLink = 0 : a.model.url.externalLink = null 
        }
        ,
        a.selectRadio = function(b) {
            "external" == b ? a.model.url.link = "external" : "internal" == b && (a.model.url.link = "internal"),
            a.changed()
        }
        ,
        a.getPageNames = function() {
            var c = e.sceneId;
            g.getPageNames(c).then(function(c) {
                a.pageList = c.data.list,
                a.pageList.unshift({
                    id: 0,
                    name: "无"
                }),
                b.forEach(a.pageList, function(a, b) {
                    a.name || (a.name = "第" + a.num + "页")
                }),
                e.properties.url && b.isNumber(e.properties.url) && (a.model.url.link = "internal",
                a.model.url.internalLink = e.properties.url)
            })
        }
        ,
        a.getPageNames()
    }
    ]),
    b.module("scene.create.console.link", ["services.scene"]),
    b.module("scene.create.console.link").directive("limitLinkLength", ["ModalService", function(a) {
        var b = 40;
        return {
            restrict: "A",
            require: "?ngModel",
            link: function(c, d, e, f) {
                d.blur(function() {
                    var c = d.val() || "";
                    c.length > b && a.openMsgDialog({
                        msg: '<div align="left">提示：链接过长有可能会导致链接组件打不开，建议生成短链接后再使用。生成短链接地址<a href="http://dwz.cn" target="_blank"><font color="#08A1EF">http://dwz.cn</font></a></div>'
                    }, function() {})
                })
            }
        }
    }
    ]),
    b.module("scene.create.console.link").controller("LinkConsoleCtrl", ["$scope", "$timeout", "obj", "sceneService", function(a, c, d, e) {
        a.url = {},
        a.url.externalLink = "http://";
        var f;
        a.confirm = function() {
            console.log('link confirm', a);
            "external" == a.url.link ? f = a.url.externalLink : "internal" == a.url.link && (f = a.url.internalLink.id),
            a.$close(f)
        }
        ,
        a.cancel = function() {
            a.$dismiss()
        }
        ,
        a.removeLink = function(b) {
            "external" == b ? a.url.externalLink = "http://" : "internal" == b && (a.url.internalLink = a.pageList[0]),
            a.url.link = ""
        }
        ,
        a.changed = function() {
            "external" == a.url.link ? a.url.internalLink = a.pageList[0] : a.url.externalLink = "http://"
        }
        ,
        a.selectRadio = function(b) {
            a.url.link || ("external" == b ? a.url.link = "external" : "internal" == b && (a.url.link = "internal"))
        }
        ,
        a.getPageNames = function() {
            var c = d.sceneId;
            
            console.log('d.properties', d.properties);
            e.getPageNames(c).then(function(c) {
                
                console.log('a.pageList', c.data.list);
                a.pageList = c.data.list,
                a.pageList.unshift({
                    id: 0,
                    name: "无"
                }),
                a.url.internalLink = a.pageList[0],
                b.forEach(a.pageList, function(b, c) {
                    b.name || (b.name = "第" + b.num + "页"),
                    d.properties.url && d.properties.url == b.id && (a.url.link = "internal",
                    a.url.internalLink = b)
                }),
                d.properties.url && isNaN(d.properties.url) && (a.url.link = "external",
                a.url.externalLink = decodeURIComponent(d.properties.url.split("=")[2]))
            })
        }
        ,
        a.getPageNames()
    }
    ]),
    b.module("scene.create.console.map", ["app.directives.comp.editor"]),
    b.module("scene.create.console.map").controller("MapConsoleCtrl", ["$scope", "sceneService", "$timeout", function(a, b, c) {
        var d = null 
          
        
        , 
        e = null ;
        a.address = {
            address: "",
            lat: "",
            lng: ""
        },
        a.search = {
            address: ""
        },
        a.searchResult = [],
        c(function() {
            d = new BMap.Map("l-map"),
            d.addControl(new BMap.NavigationControl),
            d.centerAndZoom(new BMap.Point(116.404,39.915), 12);
            var b = {
                onSearchComplete: function(b) {
                    e.getStatus() == BMAP_STATUS_SUCCESS && (a.searchResult = b.Fn,
                    a.$apply())
                }
            };
            e = new BMap.LocalSearch(d,b)
        }),
        a.searchAddress = function() {
            e.search(a.search.address)
        }
        ,
        a.setPoint = function(b, c, e) {
            a.address.address = e,
            a.address.lat = b,
            a.address.lng = c,
            d.clearOverlays();
            var f = new BMap.Point(c,b)
              
            
            , 
            g = new BMap.Marker(f);
            d.addOverlay(g);
            var h = new BMap.Label(e,{
                offset: new BMap.Size(20,-10)
            });
            g.setLabel(h),
            d.centerAndZoom(f, 12)
        }
        ,
        a.resetAddress = function() {
            a.$close(a.address)
        }
        ,
        a.cancel = function() {
            a.$dismiss()
        }
    }
    ]),
    b.module("scene.create.console.micro", ["app.directives.addelement", "services.scene"]),
    b.module("scene.create.console.micro").controller("MicroConsoleCtrl", ["$scope", "$timeout", "localizedMessages", "obj", "sceneService", function(a, c, d, e, f) {
        a.model || (a.model = {});
        var g = [];
        a.isSelected = [],
        a.backgroundColors = [{
            backgroundColor: "#D34141"
        }, {
            backgroundColor: "#000"
        }, {
            backgroundColor: "#23A3D3"
        }, {
            backgroundColor: "#79C450"
        }, {
            backgroundColor: "#fafafa"
        }],
        a.labelNames = [{
            id: 1,
            title: "栏目一",
            color: {
                backgroundColor: ""
            }
        }, {
            id: 2,
            title: "栏目二",
            color: {
                backgroundColor: ""
            }
        }, {
            id: 3,
            title: "栏目三",
            color: {
                backgroundColor: ""
            }
        }, {
            id: 4,
            title: "栏目四",
            color: {
                backgroundColor: ""
            }
        }],
        a.model.color = e.properties.labels[0].color.backgroundColor,
        a.selectColor = function(c) {
            a.model.color = c.backgroundColor,
            b.forEach(a.labelNames, function(a, b) {
                a.color.backgroundColor && (a.color.backgroundColor = c.backgroundColor)
            })
        }
        ,
        b.forEach(e.properties.labels, function(c, d) {
            b.forEach(a.labelNames, function(a, b) {
                c.id == a.id && (a.title = c.title,
                a.color.backgroundColor = c.color.backgroundColor,
                a.link = c.link,
                a.selected = !0,
                c.mousedown = !1)
            })
        }),
        a.confirm = function() {
            g = [];
            var c = 0
              
            
            , 
            d = 0;
            b.forEach(a.labelNames, function(a, b) {
                a.selected && (a.link ? g.push(a) : d++,
                c++)
            }),
            2 > c ? alert("导航标签不能少于两个！") : d > 0 ? alert("每个导航必须有链接页面！") : a.$close(g)
        }
        ,
        a.cancel = function() {
            a.$dismiss()
        }
        ,
        a.switchLabel = function(b, c) {
            a.label = b,
            b.selected ? a.labelIndex == c ? (b.color.backgroundColor = "",
            b.selected = !1,
            b.mousedown = !1) : (a.labelIndex = c,
            b.mousedown = !0) : (b.color.backgroundColor = a.model.color,
            a.labelIndex = c,
            b.selected = !0,
            b.mousedown = !0),
            b.mousedown ? (a.model.title = b.title,
            b.link ? a.model.link = a.pageList[b.link] : a.model.link = a.pageList[0]) : (a.model.title = "",
            a.model.link = a.pageList[0])
        }
        ,
        a.selectLink = function(b) {
            a.label.mousedown && (a.label.link = b.num,
            console.log(a.labelNames))
        }
        ,
        a.changeLabelName = function() {
            a.label.mousedown && (a.label.title = a.model.title)
        }
        ,
        a.getPageNames = function() {
            var c = e.sceneId;
            f.getPageNames(c).then(function(c) {
                a.pageList = c.data.list,
                a.pageList.unshift({
                    id: 0,
                    name: "无"
                }),
                b.forEach(a.pageList, function(a, b) {
                    a.name || (a.name = "第" + a.num + "页")
                }),
                a.model.link = a.pageList[0]
            })
        }
        ,
        a.getPageNames()
    }
    ]),
    b.module("scene.create.console.pictures", ["services.file"]).controller("picturesCtrl", ["$scope", "$timeout", "$rootScope", "$modal", "picturesService", "obj", function(a, c, d, e, f, g) {
        var h = 530
          
        
        , 
        i = 265
          
        
        , 
        j = a.picStyles = utilPictures.getPicStyle();
        a.currentImageIndex = -1;
        var k = b.copy(g)
          
        
        , 
        l = a.position = k.css;
        if (null  != l.width && null  != l.height) {
            var m = l.width / l.height
              
            
            , 
            n = h / i;
            m > n ? (l.width = h,
            l.height = h / m) : (l.height = i,
            l.width = i * m)
        }
        var o = a.properties = k.properties;
        o.autoPlay = null  == o.autoPlay ? !0 : o.autoPlay,
        o.interval = null  == o.interval ? 2e3 : o.interval,
        o.picStyle = null  == o.picStyle ? j[0] : utilPictures.getPicStyle(o.picStyle),
        o.bgColor = null  == o.bgColor ? "rgba(255,255,255,1)" : o.bgColor,
        o.children = null  == o.children ? [] : o.children,
        f.setImages(o.children),
        a.authError = "",
        a.choosePic = function() {
            return o.children.length >= 6 ? void (a.authError = "最多可选择6张图片") : void e.open({
                windowClass: "console img_console",
                templateUrl: "scene/console/bg.tpl.html",
                controller: "BgConsoleCtrl",
                resolve: {
                    obj: function() {
                        return {
                            fileType: 1,
                            type: "p",
                            count: o.children.length,
                            elemDef: g
                        }
                    }
                }
            }).result.then(function(a) {
                $.each(a.selectedImages, function(a, b) {
                    f.addImages({
                        src: b.src,
                        desc: "",
                        height: b.height,
                        width: b.width
                    })
                })
            }, function() {})
        }
        ,
        a.ok = function() {
            return 0 === o.children.length ? void (a.authError = "请选择图片") : (o.picStyle = o.picStyle.value,
            g.properties = o,
            void a.$close(o))
        }
        ,
        a.cancel = function() {
            a.$dismiss()
        }
        ,
        a.$on("currentImage.update", function(b, c) {
            a.currentImageIndex = c
        }),
        a.$on("images.add", function(a, b) {
            o.children = b
        }),
        a.$on("images.update", function(a, b) {
            o.children = b
        })
    }
    ]).factory("picturesService", ["$rootScope", "fileService", function(a, b) {
        var c, d, e = {}, 
        f = [];
        return e.setJcrop = function(b) {
            a.$broadcast("jcrop.update", b)
        }
        ,
        e.setImageSize = function(b) {
            a.$broadcast("image.update", b)
        }
        ,
        e.setCurrentImage = function(b) {
            d = b,
            a.$broadcast("currentImage.update", b)
        }
        ,
        e.getCurrentImage = function() {
            return d
        }
        ,
        e.addImages = function(b) {
            f.push(b),
            a.$broadcast("images.add", f)
        }
        ,
        e.updateImages = function(b, c) {
            f.splice(b, 1, c),
            a.$broadcast("images.update", f)
        }
        ,
        e.deleteImages = function(b) {
            f.splice(b, 1),
            a.$broadcast("images.update", f)
        }
        ,
        e.setImages = function(a) {
            return f = a
        }
        ,
        e.getImages = function() {
            return f
        }
        ,
        e.setProperties = function(a) {
            c = a
        }
        ,
        e.getProperties = function() {
            return c
        }
        ,
        e.cropImage = function(c) {
            b.cropImage(c).success(function(b) {
                if (b.success) {
                    var d = {
                        width: c.w,
                        height: c.h,
                        desc: "",
                        src: b.obj
                    };
                    a.$broadcast("crop.success", d)
                } else
                    alert(b.msg)
            }).error(function() {
                alert("网络连接超时，请稍后重试")
            })
        }
        ,
        e
    }
    ]).directive("eqxPicturesImageCrop", ["$compile", "picturesService", function(a, b) {
        return {
            link: function(c, d) {
                var e = $(d)
                  
                
                , 
                f = $(".pic-preview")
                  
                
                , 
                g = {
                    width: f.width(),
                    height: f.height()
                };
                c.showOperation = !0;
                var h, i = '<div class="operation" ng-show="!showOperation"><a class="quxiao" ng-click="cropCancel()">取消</a><a class="finish" ng-click="cropOk()">完成</a></div>';
                c.$on("image.update", function(a, b) {
                    h = {
                        width: b.width,
                        height: b.height
                    }
                }),
                c.$on("jcrop.update", function(d, j) {
                    f.append(a(i)(c)),
                    c.showOperation = !0,
                    c.$apply();
                    var k = f.children("img")
                      
                    
                    , 
                    l = {
                        width: k.width(),
                        height: k.height()
                    };
                    e.removeClass("hover").unbind("click").click(function() {
                        var a = b.getImages();
                        0 !== a.length && (c.showOperation = $(this).hasClass("hover"),
                        c.showOperation ? ($(this).removeClass("hover"),
                        j.release(),
                        j.disable()) : ($(this).addClass("hover"),
                        j.setSelect([0, 0, l.width, l.height]),
                        j.enable()))
                    }),
                    c.cropOk = function() {
                        var a = j.tellSelect();
                        if (!(a.w === g.width && a.h === g.height || 0 === a.w && 0 === a.h)) {
                            var c = h.width / l.width;
                            a.w = parseInt(a.w * c, 10),
                            a.h = parseInt(a.h * c, 10),
                            a.x = parseInt(a.x * c, 10),
                            a.y = parseInt(a.y * c, 10),
                            a.x2 = parseInt((a.w + a.x) * c, 10),
                            a.y2 = parseInt((a.h + a.y) * c, 10),
                            a.src = k.attr("src").split(PREFIX_FILE_HOST)[1],
                            b.cropImage(a)
                        }
                    }
                    ,
                    c.cropCancel = function() {
                        c.showOperation = !0,
                        e.removeClass("hover"),
                        j.release(),
                        j.disable()
                    }
                })
            }
        }
    }
    ]).directive("eqxPicturesImagePreview", ["picturesService", function(a) {
        return {
            link: function(b, c) {
                var d, e, f = $(c), 
                g = $(".pic-preview"), 
                h = {
                    width: g.width(),
                    height: g.height()
                }, 
                i = h.width / h.height;
                f.hide(),
                f.load(function() {
                    f.show(),
                    e = {
                        width: this.width,
                        height: this.height
                    },
                    a.setImageSize(e);
                    var b, c = e.width / e.height;
                    c > i ? ($(this).css({
                        width: h.width,
                        height: h.width / c
                    }),
                    b = {
                        position: "absolute",
                        top: "50%",
                        marginTop: -h.width / c / 2
                    }) : ($(this).css({
                        width: h.height * c,
                        height: h.height
                    }),
                    b = {
                        margin: "auto"
                    }),
                    f.Jcrop({
                        keySupport: !1,
                        aspectRatio: i
                    }, function() {
                        d = this
                    }),
                    $(".jcrop-holder").css(b),
                    a.setJcrop(d),
                    d.disable()
                })
            }
        }
    }
    ]).directive("eqxPicturesImageClick", ["$compile", "picturesService", function(a, b) {
        function c(b, c) {
            $(".pic-preview").html(a('<img eqx-pictures-image-preview ng-src="' + c + '" />')(b))
        }
        return {
            link: function(a, d) {
                var e = $(d);
                e.click(function() {
                    if (!e.hasClass("hover")) {
                        var d = e.index();
                        b.setCurrentImage(d),
                        c(a, $(this).find(".pic-img").attr("src"))
                    }
                }),
                e.children(".delete-img").click(function(c) {
                    c.stopPropagation(),
                    e.hasClass("hover") && $(".pic-preview").empty();
                    var d = e.index();
                    b.deleteImages(d);
                    var f = b.getCurrentImage();
                    f > d ? b.setCurrentImage(--f) : d === f && b.setCurrentImage(-1),
                    a.$apply()
                }),
                a.$on("crop.success", function(d, f) {
                    if (e.hasClass("hover")) {
                        var g = PREFIX_FILE_HOST + f.src;
                        c(a, g);
                        var h = e.index();
                        b.updateImages(h, f)
                    }
                })
            }
        }
    }
    ]),
    b.module("scene.create.console.pictures1", ["services.file"]).controller("pictures1Ctrl", ["$rootScope", "$scope", "$modal", "picturesCropService", "obj", function(a, c, d, e, f) {
        function g(a) {
            i.currentImage = {
                index: a,
                src: m.children[a].src + "?t=" + Date.now()
            }
        }
        function h(a, b) {
            $("<img>").attr("src", PREFIX_FILE_HOST + b).load(function() {
                $.extend(o.items[a], {
                    coordinate: {
                        x: 0,
                        y: 0,
                        x2: this.width,
                        y2: this.height,
                        w: this.width,
                        h: this.height,
                        src: b,
                        fileType: 1,
                        index: a
                    },
                    realSize: {
                        width: this.width,
                        height: this.height
                    }
                })
            })
        }
        var i = c.imageOption = {
            title: "图集组件",
            desc: "通过图片裁切可制作超酷图集",
            showCrop: !1,
            showLoading: !1,
            currentImage: {
                index: -1,
                src: ""
            }
        }
          
        
        , 
        j = c.cropOption = {
            showItems: !0,
            imgSrc: f.properties.src,
            cropItems: [{
                value: 2,
                ratio: 1,
                desc: "1:1"
            }, {
                value: 3,
                ratio: 4 / 3,
                desc: "4:3"
            }, {
                value: 4,
                ratio: .75,
                desc: "3:4"
            }, {
                value: 5,
                ratio: 320 / 486,
                desc: "标准屏比例"
            }, {
                value: 6,
                ratio: 320 / 243,
                desc: "1/2屏比例"
            }, {
                value: 7,
                ratio: 320 / 162,
                desc: "1/3屏比例"
            }, {
                value: 8,
                ratio: -1,
                desc: "自定义",
                lock: !1
            }]
        }
          
        
        , 
        k = c.picStyles = utilPictures.getPicStyle()
          
        
        , 
        l = b.copy(f)
          
        
        , 
        m = c.properties = l.properties;
        m.autoPlay = null  == m.autoPlay ? !0 : m.autoPlay,
        m.interval = null  == m.interval ? 2e3 : m.interval,
        m.picStyle = null  == m.picStyle ? k[0] : utilPictures.getPicStyle(m.picStyle),
        m.bgColor = null  == m.bgColor ? "rgba(255,255,255,0)" : m.bgColor,
        m.children = null  == m.children ? [] : m.children,
        m.children.length > 0 && (i.showCrop = !0,
        g(0));
        for (var n = 0; 6 > n; n++)
            m.children[n] ? h(n, m.children[n].src) : m.children.push({});
        var o = e.getCoordinateObj();
        c.cropItemChange = function(b) {
            null  == b.lock && (j.cropItems[6].lock = !1),
            j.currentItem = b,
            a.$broadcast("cropItem.change", b)
        }
        ,
        c.addPictures = function(a, b, c) {
            a.stopPropagation();
            var e = 0;
            c ? $.each(m.children, function(a, b) {
                b.src && e++
            }) : e = 5,
            d.open({
                windowClass: "console img_console",
                templateUrl: "scene/console/bg.tpl.html",
                controller: "BgConsoleCtrl",
                resolve: {
                    obj: function() {
                        return {
                            fileType: 1,
                            type: "p",
                            count: e,
                            elemDef: f
                        }
                    }
                }
            }).result.then(function(a) {
                i.showCrop = !0;
                var d = b
                  
                
                , 
                e = 0
                  
                
                , 
                f = m.children.length;
                if (c)
                    for (; f > d; ) {
                        if (!m.children[d++].src) {
                            var j = a.selectedImages[e++];
                            m.children[d - 1] = {
                                src: j.src,
                                desc: "",
                                height: j.height,
                                width: j.width
                            },
                            h(d - 1, j.src),
                            g(b)
                        }
                        if (e === a.selectedImages.length)
                            break;
                        d === f && (d = 0)
                    }
                else {
                    var k = a.selectedImages[0];
                    m.children[b] = {
                        src: k.src,
                        desc: "",
                        height: k.height,
                        width: k.width
                    },
                    h(b, k.src),
                    g(b)
                }
            })
        }
        ,
        c.setPicturesSize = function(a) {
            var b, c, d, e = a.children[0], 
            g = e.width / e.height;
            l.css.width || l.css.height ? (b = l.css.width / l.css.height,
            g > b ? (c = l.css.width,
            d = c / g) : (d = l.css.height,
            c = d * g)) : (b = 2,
            g > b ? (c = 320,
            d = c / g) : (d = 160,
            c = d * g)),
            f.css.width = c,
            f.css.height = d
        }
        ,
        c.delPicture = function(b) {
            m.children[b] = {},
            o.items[b] = {},
            b === i.currentImage.index && (i.currentImage.index = -1,
            a.$broadcast("image.delete", b))
        }
        ,
        c.changePicture = function(a) {
            i.currentImage.index !== a && g(a)
        }
        ,
        c.ok = function() {
            return 0 === m.children.length ? void (i.desc = "请选择图片，最多添加6张") : void (e.getCropping() || (i.showLoading = !0,
            a.$broadcast("cropImage.ok", m)))
        }
        ,
        c.cancel = function() {
            c.$dismiss()
        }
        ,
        c.$on("crop.complete.all", function(a, d) {
            m.picStyle = m.picStyle.value,
            $.each(d, function(a, b) {
                m.children[b.index] = b
            });
            for (var e = b.copy(m), f = e.children, g = 5; g >= 0; g--)
                f[g].src || f.splice(g, 1);
            c.setPicturesSize(e),
            c.$close(e)
        }),
        c.$on("crop.fail", function() {
            e.setCropping(!1),
            i.showLoading = !1
        })
    }
    ]).factory("picturesCropService", ["$rootScope", "fileService", function(a, c) {
        var d, e = {}, 
        f = [], 
        g = !1, 
        h = 0, 
        i = 0;
        return e.getCoordinateObj = function() {
            return d
        }
        ,
        e.initCoordinateObj = function() {
            d = {
                ratio: null ,
                items: []
            };
            for (var a = 0; 6 > a; a++)
                d.items.push({})
        }
        ,
        e.setCropCount = function(a) {
            a ? h = a : h++
        }
        ,
        e.getCropCount = function() {
            return h
        }
        ,
        e.setCropping = function(a) {
            g = a
        }
        ,
        e.getCropping = function() {
            return g
        }
        ,
        e.cropImage = function(d) {
            c.cropImage(d).success(function(c) {
                if (c.success) {
                    var e = {
                        width: d.w,
                        height: d.h,
                        src: c.map.path,
                        desc: "",
                        index: c.map.index
                    };
                    f.push(e),
                    i++,
                    h === i && (h = i = 0,
                    a.$broadcast("crop.complete.all", b.copy(f)),
                    f.length = 0)
                } else
                    alert(c.msg),
                    a.$broadcast("crop.fail")
            }).error(function() {
                alert("网络连接超时，请稍后重试"),
                a.$broadcast("crop.fail")
            })
        }
        ,
        e.initCoordinateObj(),
        e
    }
    ]).directive("eqxPicturesCropPreview", ["picturesCropService", function(a) {
        function b(b, d) {
            var e = a.getCoordinateObj();
            c(d, e),
            b.$on("$destroy", function() {
                i = j = k = null ,
                a.initCoordinateObj(),
                a.setCropping(!1)
            }),
            b.$on("cropItem.change", function(a, b) {
                g(b)
            }),
            b.$on("image.delete", function() {
                $(".image_crop").children("div").remove()
            }),
            b.$on("cropImage.ok", function(a, c) {
                h(b, c, e)
            })
        }
        function c(a, b) {
            var c = $(".image_crop")
              
            
            , 
            e = {
                width: c.width(),
                height: c.height()
            }
              
            
            , 
            f = e.width / e.height;
            a.hide().load(function() {
                var c = {
                    width: this.width,
                    height: this.height
                };
                a.removeAttr("style").show();
                var g, h = c.width / c.height;
                c.width > e.width || c.height > e.height ? h > f ? (a.css({
                    width: e.width,
                    height: e.width / h
                }),
                g = {
                    position: "absolute",
                    top: "50%",
                    marginTop: -e.width / h / 2
                }) : (a.css({
                    width: e.height * h,
                    height: e.height
                }),
                g = {
                    margin: "auto"
                }) : g = {
                    position: "absolute",
                    left: "50%",
                    top: "50%",
                    marginLeft: -c.width / 2,
                    marginTop: -c.height / 2
                },
                j = {
                    width: a.width(),
                    height: a.height()
                };
                var i = a.attr("index");
                a.attr("src");
                $.extend(b.items[i], {
                    displaySize: j
                }),
                d(a, b, g, i)
            })
        }
        function d(a, b, c, d) {
            i && (i.destroy(),
            i = null );
            var f = j.width
              
            
            , 
            g = j.height
              
            
            , 
            h = b.items[d].coordinate;
            h && (h.w > f && (h.w = f,
            h.h = f / b.ratio),
            h.h > g && (h.h = g,
            h.w = g * b.ratio),
            h.x2 = h.x + h.w,
            h.y2 = h.y + h.h);
            var l;
            l = k && -1 === k.ratio ? 0 : b.ratio || f / g,
            a.Jcrop({
                keySupport: !1,
                aspectRatio: l,
                allowSelect: !1,
                setSelect: h ? [h.x, h.y, h.x2, h.y2] : [0, 0, f, g],
                onRelease: function() {
                    this.setOptions({
                        setSelect: [0, 0, f, g]
                    })
                },
                onSelect: function() {
                    i && e(d, b)
                }
            }, function() {
                i = this,
                e(d, b)
            }),
            $(".jcrop-holder").css(c)
        }
        function e(a, b) {
            var c = i.tellSelect();
            b.ratio = c.w / c.h,
            $.extend(b.items[a].coordinate, c),
            $.each(b.items, function(a, c) {
                var d = c.coordinate;
                d && f(d, b)
            })
        }
        function f(a, b) {
            var c = a.w / a.h;
            c > b.ratio ? (a.w = a.h * b.ratio,
            a.x2 = a.x + a.w) : (a.h = a.w / b.ratio,
            a.y2 = a.y + a.h)
        }
        function g(a) {
            k = a;
            var b, c = j.width, 
            d = j.height;
            if (-1 === a.ratio) {
                var e = i.tellSelect();
                b = a.lock ? {
                    aspectRatio: e.w / e.h,
                    setSelect: [0, 0, e.w, e.h]
                } : {
                    aspectRatio: 0,
                    setSelect: [0, 0, e.w, e.h]
                }
            } else
                c > d ? c = d * a.ratio : d = c / a.ratio,
                b = {
                    aspectRatio: c / d,
                    setSelect: [0, 0, c, d]
                };
            i.setOptions(b)
        }
        function h(b, c, d) {
            var e = [];
            $.each(d.items, function(b, c) {
                var g = c.coordinate
                  
                
                , 
                h = c.realSize;
                if (g && h)
                    if (f(g, d),
                    Math.ceil(h.width / h.height * 100) !== Math.ceil(g.w / g.h * 100)) {
                        if (c.displaySize) {
                            var i = h.width / c.displaySize.width;
                            g.w = Math.ceil(g.w * i),
                            g.h = Math.ceil(g.h * i),
                            g.x = Math.ceil(g.x * i),
                            g.y = Math.ceil(g.y * i)
                        } else {
                            var j = g.w / g.h
                              
                            
                            , 
                            k = h.width / h.height;
                            k > j ? (g.w = Math.ceil(h.height * j),
                            g.h = h.height) : (g.w = h.width,
                            g.h = Math.ceil(h.width / j))
                        }
                        g.x + g.w > c.realSize.width && (g.w = h.width - g.x),
                        g.y + g.h > c.realSize.height && (g.h = h.height - g.y),
                        g.w === h.width && g.h === h.height || 0 === g.w || 0 === g.h ? e.push({
                            src: g.src,
                            desc: "",
                            height: g.h,
                            width: g.w
                        }) : (delete g.x2,
                        delete g.y2,
                        a.setCropping(!0),
                        a.cropImage(g),
                        a.setCropCount())
                    } else
                        e.push({
                            src: g.src,
                            desc: "",
                            height: g.h,
                            width: g.w
                        })
            }),
            0 === a.getCropCount() && (c.picStyle = c.picStyle.value,
            c.children = e,
            b.setPicturesSize(c),
            b.$close(c))
        }
        var i, j, k;
        return {
            link: b
        }
    }
    ]),
    b.module("scene.create.console.radio.checkbox", []),
    b.module("scene.create.console.radio.checkbox").directive("stopPropagation", function() {
        return function(a, b) {
            b.bind("keydown", function(a) {
                a.stopPropagation()
            })
        }
    }),
    b.module("scene.create.console.radio.checkbox").controller("RadioCheckboxConsoleCtrl", ["$scope", "$timeout", "localizedMessages", "obj", "ModalService", function(a, c, d, e, f) {
        function g(a) {
            var b = $("#optionGroupContainer")
              
            
            , 
            c = b.find(".option-group").eq(a)
              
            
            , 
            d = 72
              
            
            , 
            e = c.position().top;
            e > d && b.scrollTop(b.scrollTop() + (e - d))
        }
        var h = JSON.parse(e.choices);
        a.model = {
            title: e.title,
            type: e.type,
            options: h.options,
            required: e.properties.required
        },
        a.buttons = [{
            id: 1,
            btnStyle: {
                backgroundColor: "#08a1ef",
                borderWidth: "1px",
                borderStyle: "solid",
                borderColor: "#08a1ef",
                color: "rgb(255, 255, 255)"
            },
            properties: {
                titleStyle: {
                    backgroundColor: "#08a1ef",
                    color: "#ffffff"
                },
                optionStyle: {
                    borderBottomWidth: "1px",
                    borderBottomStyle: "solid",
                    borderBottomColor: "#08a1ef"
                }
            }
        }, {
            id: 2,
            btnStyle: {
                backgroundColor: "#fff",
                borderWidth: "1px",
                borderStyle: "solid",
                borderColor: "#fff",
                color: "rgb(0, 0, 0)"
            },
            properties: {
                titleStyle: {
                    backgroundColor: "#fff",
                    color: "#000"
                },
                optionStyle: {
                    borderBottomWidth: "1px",
                    borderBottomStyle: "solid",
                    borderBottomColor: "#fff"
                }
            }
        }, {
            id: 3,
            btnStyle: {
                backgroundColor: "#f6b223",
                borderWidth: "1px",
                borderStyle: "solid",
                borderColor: "#f6b223",
                color: "rgb(255, 255, 255)"
            },
            properties: {
                titleStyle: {
                    backgroundColor: "#f6b223",
                    color: "#ffffff"
                },
                optionStyle: {
                    borderBottomWidth: "1px",
                    borderBottomStyle: "solid",
                    borderBottomColor: "#f6b223"
                }
            }
        }, {
            id: 4,
            btnStyle: {
                backgroundColor: "#333",
                borderWidth: "1px",
                borderStyle: "solid",
                borderColor: "#333",
                color: "rgb(255, 255, 255)"
            },
            properties: {
                titleStyle: {
                    backgroundColor: "#333",
                    color: "#ffffff"
                },
                optionStyle: {
                    borderBottomWidth: "1px",
                    borderBottomStyle: "solid",
                    borderBottomColor: "#333"
                }
            }
        }, {
            id: 5,
            btnStyle: {
                backgroundColor: "#a0d86b",
                borderWidth: "1px",
                borderStyle: "solid",
                borderColor: "#a0d86b",
                color: "rgb(255, 255, 255)"
            },
            properties: {
                titleStyle: {
                    backgroundColor: "#a0d86b",
                    color: "#ffffff"
                },
                optionStyle: {
                    borderBottomWidth: "1px",
                    borderBottomStyle: "solid",
                    borderBottomColor: "#a0d86b"
                }
            }
        }, {
            id: 6,
            btnStyle: {
                backgroundColor: "#ff6666",
                borderWidth: "1px",
                borderStyle: "solid",
                borderColor: "#ff6666",
                color: "rgb(255, 255, 255)"
            },
            properties: {
                titleStyle: {
                    backgroundColor: "#ff6666",
                    color: "#ffffff"
                },
                optionStyle: {
                    borderBottomWidth: "1px",
                    borderBottomStyle: "solid",
                    borderBottomColor: "#ff6666"
                }
            }
        }],
        b.forEach(a.buttons, function(b, c) {
            e.properties.titleStyle && e.properties.titleStyle.backgroundColor == b.properties.titleStyle.backgroundColor && (a.btnIndex = c)
        }),
        a.chooseTabButton = function(b, c) {
            a.model.btnStyle = b.btnStyle,
            a.btnIndex = c,
            $.extend(e.css, {
                borderStyle: b.btnStyle.borderStyle,
                borderColor: b.btnStyle.borderColor
            })
        }
        ,
        a.authError = "",
        a.addNewOption = function(b) {
            a.model.options.length < 8 ? (++h.seq,
            a.model.options.splice(b + 1, 0, {
                id: h.seq,
                label: "选项" + h.seq
            }),
            setTimeout(function() {
                g(b)
            })) : f.openMsgDialog({
                msg: "您已添满8项，请不要再添加"
            })
        }
        ,
        a.deleteTheOption = function(b) {
            a.model.options.length > 1 && f.openConfirmDialog({
                msg: "您确定要删除内容为“" + a.model.options[b].label + "”的选项？<br/>删除选项后，将导致该选项已收集的数据无法正确地显示。"
            }, function() {
                a.model.options.splice(b, 1)
            })
        }
        ,
        a.confirm = function() {
            return a.model.title && 0 !== a.model.title.length ? (b.forEach(a.model.options, function(a) {
                delete a.$$hashKey
            }),
            e.choices = JSON.stringify(h),
            e.properties.required = a.model.required,
            (a.btnIndex || 0 === a.btnIndex) && $.extend(e.properties, a.buttons[a.btnIndex].properties),
            void a.$close(a.model)) : (a.authError = "输入框名称不能为空",
            void $("#radioTitle").focus())
        }
        ,
        a.cancel = function() {
            a.$dismiss()
        }
    }
    ]),
    b.module("scene.create.console.randomevent", ["app.directives.responsiveImage"]),
    b.module("scene.create.console.randomevent").controller("RandomEventCtrl", ["$scope", "$rootScope", "randomEventService", "$modal", "obj", function(a, b, c, d, e) {
        e.properties.pics.length ? a.picList = e.properties.pics : a.picList = [],
        a.delImage = function(b) {
            a.picList.splice(b, 1)
        }
        ,
        a.replaceImage = function(b) {
            d.open({
                windowClass: "console img_console",
                templateUrl: "scene/console/bg.tpl.html",
                controller: "BgConsoleCtrl",
                resolve: {
                    obj: function() {
                        return {
                            fileType: 1,
                            type: "n",
                            count: 9,
                            elemDef: e
                        }
                    }
                }
            }).result.then(function(c) {
                a.picList[b] = c.selectedImages[0]
            }, function() {})
        }
        ,
        a.choosePic = function() {
            return a.picList.length >= 10 ? void (a.authError = "最多可选择10张图片") : void d.open({
                windowClass: "console img_console",
                templateUrl: "scene/console/bg.tpl.html",
                controller: "BgConsoleCtrl",
                resolve: {
                    obj: function() {
                        return {
                            fileType: 1,
                            type: "n",
                            count: a.picList.length,
                            elemDef: e
                        }
                    }
                }
            }).result.then(function(b) {
                $.each(b.selectedImages, function(b, c) {
                    a.picList.unshift(c)
                })
            }, function() {})
        }
        ,
        a.confirm = function() {
            a.$close(a.picList)
        }
        ,
        a.cancel = function() {
            a.$dismiss()
        }
    }
    ]).factory("randomEventService", ["$rootScope", function(a) {
        var b = {};
        return b
    }
    ]),
    b.module("scene.create.console.rating", ["common.directives.inputColor"]),
    b.module("scene.create.console.rating").controller("RatingConsoleCtrl", ["$scope", "$timeout", "localizedMessages", "obj", function(a, b, c, d) {
        a.model = {
            title: d.title,
            properties: {
                icon: d.properties.icon,
                size: d.properties.size,
                color: d.properties.color,
                required: d.properties.required
            }
        },
        a.authError = "",
        a.confirm = function() {
            return a.model.title && 0 !== a.model.title.length ? ($.extend(!0, d, a.model),
            void a.$close(a.model)) : (a.authError = "标题名称不能为空",
            void $("#ratingTitle").focus())
        }
        ,
        a.chooseEqfont = function(b) {
            a.model.properties.icon = b
        }
        ,
        a.cancel = function() {
            a.$dismiss()
        }
    }
    ]),
    b.module("scene.create.console.scene-setting-component", []).controller("SceneSettingComponentController", ["$q", "$routeParams", "$rootScope", "$scope", "$element", "sceneService", "MineService", "dataService", "$sce", "$modal", "usercenterService", "security", "pageTplService", "i18nNotifications", "ModalService", "sceneSettingCache", function(a, c, d, e, f, g, h, i, k, l, m, n, o, p, q, r) {
        function s(a) {
            switch (a) {
            case z.HIDE:
                return QI_AD_XDS;
            case z.FREEPAGE:
                return 0;
            case z.DEFAULT_BOTTOM:
                return e.isVipUser ? 0 : guding_qi_xd;
            case z.CUSTOM_BOTTOM:
                return e.isVipUser ? 0 : 30
            }
        }
        function t(a) {
            switch (a) {
            case z.HIDE:
                e.eqShowType = y.EQHIDE,
                e.scene.property.eqAdType = z.HIDE,
                e.scene.property.hideEqAd = !0;
                break;
            case z.DEFAULT_BOTTOM:
                e.eqShowType = y.EQLINK,
                e.scene.property.eqAdType = z.DEFAULT_BOTTOM,
                e.scene.property.hideEqAd = !1;
                break;
            case z.CUSTOM_BOTTOM:
                e.eqShowType = y.EQLINK,
                e.scene.property.eqAdType = z.CUSTOM_BOTTOM,
                e.scene.property.hideEqAd = !1;
                break;
            default:
            case z.FREEPAGE:
                e.eqShowType = y.EQFREE,
                e.scene.property && (e.scene.property.eqAdType = z.FREEPAGE,
                e.scene.property.hideEqAd = !1)
            }
        }
        function u(a) {
            e.isFormerScene && e.adSpend == s(e.scene.property.eqAdType) && delete e.scene.property.eqAdType,
            b.isObject(e.scene.property) && (e.scene.property = b.toJson(e.scene.property)),
            b.isString(e.scene.type) && (e.scene.type = parseInt(e.scene.type, 10)),
            e.tpl.obj.scene.bgAudio && b.isObject(e.tpl.obj.scene.bgAudio) && (e.scene.bgAudio = JSON.stringify(e.tpl.obj.scene.bgAudio)),
            g.saveSceneSettings(e.scene).then(function(a) {
                200 == a.data.code ? (p.pushForCurrentRoute("scene.setting.success", "notify.success"),
                e.$parent.sceneSetting.showFlag = !1,
                e.$parent.tpl.obj.scene.name = e.scene.name,
                v.resolve(a)) : (q.openMsgDialog({
                    msg: a.data.msg
                }, function() {}),
                e.scene.property = JSON.parse(e.scene.property),
                e.scene.type = "" + e.scene.type,
                v.reject(a))
            }, function(a) {
                e.invalidText = a,
                v.reject(a)
            })
        }
        e.isVipUser = "1" != n.currentUser.type;
        var v = a.defer();
        e.sceneSetting.saveSceneSetting = function() {
            return v = a.defer(),
            e.saveSceneSettings(e.scene),
            v.promise
        }
        ,
        e.isAllowToAccessLastPageSetting = n.isAllowToAccess(n.accessDef.SCENE_HIDE_LASTPAGE_SETTING),
        e.isAllowedToAccessNewPageFlip = true,
        e.sceneId = c.sceneId;
        var w = d.branchid
          
        
        , 
        x = {
            SHARE_SCENE: "shareScene",
            LOADING_LOGO: "loadingLogo",
            EQSHOW: "eqShow"
        };
        e.eqSceneSettingTabs = x,
        e.eqSceneSettingCurrent = x.SHARE_SCENE;
        var y = {
            EQFREE: "eqFree",
            EQLINK: "eqLink",
            EQHIDE: "eqHide"
        };
        e.eqShowType = y.EQFREE;
        var z = {
            HIDE: 0,
            FREEPAGE: 1,
            DEFAULT_BOTTOM: 2,
            CUSTOM_BOTTOM: 3
        };
        e.eqADTypeChoice = z,
        e.switchToAdState = t,
        e.adSpend = 0,
        e.isFormerScene = !1,
        e.PREFIX_FILE_HOST = PREFIX_FILE_HOST,
        e.alwaysOpen = !0;
        e.scene || (e.scene = {}),
        e.openImageModal = function() {
            l.open({
                windowClass: "img_console console",
                templateUrl: "scene/console/bg.tpl.html",
                controller: "BgConsoleCtrl",
                resolve: {
                    obj: function() {
                        return {
                            fileType: 1
                        }
                    }
                }
            }).result.then(function(a) {
                return a.width / a.height === 1 ? (e.newCoverImage = a,
                e.newCoverImage.tmbPath = a.data,
                e.newCoverImage.path = a.data,
                void (e.scene.cover = e.newCoverImage.path)) : void l.open({
                    windowClass: "console seven-contain",
                    templateUrl: "scene/console/imageCrop.tpl.html",
                    controller: "imageCropCtrl",
                    backdrop: "static",
                    resolve: {
                        obj: function() {
                            return {
                                type: "square",
                                properties: {
                                    src: a.data
                                }
                            }
                        }
                    }
                }).result.then(function(a) {
                    var b = {
                        width: a.width,
                        height: a.height,
                        data: a.src,
                        type: "imgSrc"
                    };
                    e.newCoverImage = b,
                    e.newCoverImage.tmbPath = b.data,
                    e.newCoverImage.path = b.data,
                    e.scene.cover = e.newCoverImage.path
                }, function(a) {})
            }, function(a) {})
        }
        ;
        var A = null ;
        e.saveSceneSettings = function(a) {
            if (e.maxLength30(),
            !e.scene.name || !e.scene.name.trim())
                return $("input.name").focus(),
                void (e.invalidText = "请填写场景名称");
            if (e.scene.property.autoFlip && !e.scene.property.autoFlipTime)
                return void (e.invalidText = "请选择翻页频率");
            var b = j(e.scene.name.trim());
            if (b > 48)
                return void (e.invalidText = "场景名称不能超过48个字符或24个汉字");
            if ("1" === e.scene.isShow && !e.scene.tagId)
                return void q.openMsgDialog({
                    msg: "请选择场景标签！"
                }, function() {
                    $("#tag").focus()
                });
            if (e.scene.property && e.scene.property.eqAdType == z.CUSTOM_BOTTOM && (!e.scene.property.bottomLabel || !e.scene.property.bottomLabel.id))
                return void q.openMsgDialog({
                    msg: "请选择您要使用的自定义底标！"
                }, function() {});
            if (e.scene.property && e.scene.property.bottomLabel && e.scene.property.bottomLabel.name && j(e.scene.property.bottomLabel.name) > 16)
                return void (e.invalidText = "自定义名称不能超过16个字符");
            if (e.scene.property && e.scene.property.bottomLabel && !e.scene.property.bottomLabel.name && e.scene.property.bottomLabel.url && "http://" != e.scene.property.bottomLabel.url)
                return void (e.invalidText = "请输入自定义底标名称");
            if (e.scene.accessCode && ("0" != e.scene.applyPromotion || "0" != e.scene.applyTemplate))
                return void q.openMsgDialog({
                    msg: "申请样例、推荐的场景不能同时设置密码，请修改。"
                });
            if (e.scene.accessCode && 4 != e.scene.accessCode.length)
                return void q.openMsgDialog({
                    msg: "请输入有效的场景密码！"
                });
            if (e.scene.promIds && e.activityPageTpls.length && !e.scene.property.activityPageId)
                return void q.openMsgDialog({
                    msg: "请选择活动尾页！"
                });
            if (e.oldSceneApplyState.promIds && e.scene.property.eqAdType != z.FREEPAGE)
                return void q.openMsgDialog({
                    msg: "该场景已选择参加活动，不可以清除'+your_webname+'尾页，请重新选择！"
                });
            if (e.scene.promIds && (e.scene.property.eqAdType != z.FREEPAGE || e.scene.property.adSpend))
                return q.openMsgDialog({
                    msg: "该场景已选择清除'+your_webname+'尾页，不可以参加活动；请复制该场景展示后，再次选择参与活动。"
                }),
                void (e.oldSceneApplyState.promIds || (e.scene.promIds = "",
                e.getActivityPageTpl()));
            e.scene.property.eqAdType = parseInt(e.scene.property.eqAdType, 10);
            var c = s(e.scene.property.eqAdType)
              
            
            , 
            d = c - e.adSpend;
            e.isFormerScene && 0 !== d ? d = c : 0 > d && (d = 0),
            !A && e.scene.loadingLogo && (d += 100),
            0 === d ? u(a) : d > e.userXd ? q.openMsgDialog({
                msg: '当前选择需要消耗秀点<font color="#ff6e6e">' + d + '</font>个<br/>秀点余额不足(<font color="#ff6e6e">' + (e.userXd || 0) + '</font>个)<span class="get-xd"><a href="?c=pay" target = "_blank">获取秀点</a></span>'
            }) : q.openConfirmDialog({
                msg: '当前选择需要消耗秀点<font color="#ff6e6e">' + d + '</font>个<br/>秀点余额为<font color="#ff6e6e">' + (e.userXd || 0) + "</font>个"
            }, function() {
                u(a)
            })
        }
        ,
        e.oldSceneApplyState = {
            applyPromotion: "",
            applyTemplate: "",
            promIds: ""
        },
        e.getSceneDetail = function() {
            g.getSceneDetail(e.sceneId, w).then(function(a) {
                e.scene = a.data.obj,
                e.scene.price = "" + (e.scene.price || "0"),
                A = e.scene.loadingLogo,
                e.oldSceneApplyState.applyPromotion = e.scene.applyPromotion = "" + e.scene.applyPromotion,
                e.oldSceneApplyState.applyTemplate = e.scene.applyTemplate = "" + e.scene.applyTemplate,
                e.scene.isTpl = "" + e.scene.isTpl,
                e.scene.isShow = e.scene.isShow ? "" + e.scene.isShow : "0",
                e.oldSceneApplyState.promIds = e.scene.promIds = e.scene.promIds ? parseFloat(e.scene.promIds) : null ,
                2 == a.data.obj.pageMode && (a.data.obj.pageMode = 0),
                e.scene.property ? e.scene.property = JSON.parse(e.scene.property) : e.scene.property = {},
                e.scene.property.hasOwnProperty("triggerLoop") || (e.scene.property.triggerLoop = !0),
                e.scene.property.autoFlip && b.forEach(e.autoFlipTimes, function(a, b) {
                    a.id == e.scene.property.autoFlipTime
                }),
                e.adSpend = e.scene.property.adSpend || 0,
                e.isFormerScene = !1,
                e.scene.property.hideEqAd ? (e.adSpend = 100,
                e.scene.property.eqAdType = z.HIDE,
                e.eqShowType = y.EQHIDE) : e.scene.property.eqAdType ? t(e.scene.property.eqAdType) : e.scene.createTime < 14165028e5 ? (e.isFormerScene = !0,
                e.adSpend = 100,
                t(z.EQHIDE)) : e.scene.property.isAdvancedUser ? e.scene.property.bottomLabel && e.scene.property.bottomLabel.id ? (e.isFormerScene = !0,
                e.adSpend = 30,
                t(z.CUSTOM_BOTTOM)) : (e.isFormerScene = !0,
                e.adSpend = 15,
                t(z.DEFAULT_BOTTOM)) : (e.adSpend = 0,
                t(z.FREEPAGE)),
                e.scene.startDate && e.scene.endDate && (e.startDate = new Date(e.scene.startDate),
                e.endDate = new Date(e.scene.endDate),
                e.alwaysOpen = !1),
                e.scene.type = "" + e.scene.type,
                r.activitiesPromise.then(function(a) {
                    e.activities = a.data.list || [],
                    e.getActivityPageTpl()
                })
            })
        }
        ;
        var B = r.sceneTypePromise.then(function(a) {
            e.types = a.data.list
        });
        e.tplPrices = [];
        var C = r.sceneTplPricesPromise.then(function(a) {
            e.tplPrices = a.data.list || []
        })
          
        
        , 
        D = [];
        e.sceneTags = [];
        var E = r.sceneTagsPromise.then(function(a) {
            e.sceneTags = D = a.data.list || []
        });
        a.all([B, C, E]).then(function() {
            e.getSceneDetail()
        });
        var F = e.$watch("scene.type", function(a) {
            a && (e.sceneTags = [],
            b.forEach(D, function(b) {
                a == b.bizType && e.sceneTags.push(b)
            }))
        });
        e.$on("$destroy", function() {
            F()
        }),
        e.pagemodes = [{
            id: 0,
            name: "上下翻页"
        }, {
            id: 4,
            name: "左右翻页"
        }, {
            id: 1,
            name: "上下惯性翻页"
        }, {
            id: 3,
            name: "左右惯性翻页"
        }, {
            id: 11,
            name: "上下连续翻页"
        }, {
            id: 5,
            name: "左右连续翻页"
        }, {
            id: 6,
            name: "立体翻页"
        }, {
            id: 7,
            name: "卡片翻页"
        }, {
            id: 8,
            name: "放大翻页"
        }, {
            id: 9,
            name: "交换翻页"
        }, {
            id: 10,
            name: "翻书翻页"
        }, {
            id: 12,
            name: "掉落翻页"
        }];
        var G = [11, 12];
        if (!e.isAllowedToAccessNewPageFlip)
            for (var H = 0; H < e.pagemodes.length; H++)
                for (var I = 0; I < G.length; I++)
                    e.pagemodes[H].id == G[I] && (e.pagemodes.splice(H, 1),
                    H--);
        e.scene.pageMode = e.pagemodes[0],
        e.autoFlipTimes = [{
            id: 3,
            name: "3秒"
        }, {
            id: 5,
            name: "5秒"
        }, {
            id: 8,
            name: "8秒"
        }, {
            id: 10,
            name: "10秒"
        }, {
            id: 12,
            name: "12秒"
        }, {
            id: 15,
            name: "15秒"
        }],
        e.userXd = 0,
        e.getUserXd = function() {
            m.getUserXd().then(function(a) {
                e.userXd = a.data.obj || 0
            })
        }
        ,
        e.getUserXd(),
        r.pageTplsPromise.then(function(a) {
            a.data.list && a.data.list.length > 0 ? e.pageTpls = a.data.list : e.pageTpls = []
        }),
        r.bottomPageTplsPromise.then(function(a) {
            a.data.list && a.data.list.length > 0 ? e.bottomPageTpls = a.data.list : e.bottomPageTpls = []
        }),
        e.chooseLastPage = function(a) {
            e.scene.property.lastPageId = a,
            t(z.FREEPAGE)
        }
        ,
        e.chooseCustomBottomLabel = function(a) {
            e.scene.property.bottomLabel || (e.scene.property.bottomLabel = {}),
            e.scene.property.bottomLabel.id = a,
            t(z.CUSTOM_BOTTOM)
        }
        ,
        e.maxLength30 = function() {
            if (e.scene.description && (e.scene.description = e.scene.description.replace(/\n|\r/g, " ")),
            e.scene.description && e.scene.description.length > 30) {
                var a = e.scene.description.replace(/[^\x00-\xff]/g, "xx");
                if (a.length > 60) {
                    var b = a.substring(0, 60).replace(/xx/g, "中").length;
                    e.scene.description = e.scene.description.substring(0, b)
                }
            }
        }
        ,
        e.uploadLoadingLogo = function() {
            l.open({
                windowClass: "img_console console",
                templateUrl: "scene/console/bg.tpl.html",
                controller: "BgConsoleCtrl",
                resolve: {
                    obj: function() {
                        return {
                            fileType: 1
                        }
                    }
                }
            }).result.then(function(a) {
                e.scene.loadingLogo = a.data
            }, function(a) {})
        }
        ,
        e.moreActivities = function() {}
        ,
        e.isLoadingLogoAccessible = true,
        e.isTemplatePaymentAccessible = n.isAllowToAccess(n.accessDef.TEMPLATE_PAYMENT),
        e.cancelSceneSetting = function() {
            e.$parent.sceneSetting.showFlag = !1
        }
        ,
        e.fourNumberPassword = function() {
            e.scene.accessCode && (e.scene.accessCode = e.scene.accessCode.replace(/\D/g, ""),
            e.scene.accessCode.length > 4 && (e.scene.accessCode = e.scene.accessCode.substr(0, 4)))
        }
        ,
        e.isScenePasswordAccessible = true,
        e.activityPageTpls = [],
        e.selectedActivity = null ,
        e.getActivityPageTpl = function() {
            if (e.oldSceneApplyState.promIds && e.scene.promIds !== e.oldSceneApplyState.promIds)
                return q.openMsgDialog({
                    msg: "该场景已经参与活动，不可参与其他活动；请复制该场景展示后，再次选择参与活动。"
                }),
                void (e.scene.promIds = e.oldSceneApplyState.promIds);
            if (e.scene.promIds) {
                var a = null ;
                b.forEach(e.activities, function(b) {
                    b.id === e.scene.promIds && (a = b.sceneId,
                    e.selectedActivity = b)
                }),
                a && o.getPageTpls(a).then(function(a) {
                    a.data.list && a.data.list.length > 0 ? (e.activityPageTpls = a.data.list,
                    e.scene.property.activityPageId || (e.scene.property.activityPageId = e.activityPageTpls[0].id)) : e.activityPageTpls = []
                })
            } else
                e.activityPageTpls = [],
                e.scene.property.activityPageId = null 
        }
        ,
        e.chooseActivityPageTpl = function(a) {
            e.scene.property.activityPageId = a
        }
    }
    ]).service("sceneSettingCache", ["sceneService", "pageTplService", function(a, b) {
        return {
            sceneTypePromise: a.getSceneType(),
            sceneTplPricesPromise: a.getSceneTemplatePrices(),
            sceneTagsPromise: b.getTagSysListWithType(),
            pageTplsPromise: b.getPageTpls(1301),
            bottomPageTplsPromise: b.getPageTpls(1311),
            activitiesPromise: a.getActivities()
        }
    }
    ]).directive("sceneSettingComponent", [function() {
        return {
            scope: !0,
            controller: "SceneSettingComponentController",
            templateUrl: "scene/console/scene-setting-component.tpl.html",
            link: function(a, b, c) {
                setTimeout(function() {
                    b.find(".scene-setting-info.fade").addClass("in")
                })
            }
        }
    }
    ]),
    b.module("scene.create.console.setting", ["scene.create.console.setting.style", "scene.create.console.setting.anim", "scene.create.console.setting.trigger"]),
    b.module("scene.create.console.setting").directive("styleModal", ["sceneService", "$compile", function(a, b) {
        return {
            restrict: "AE",
            replace: !0,
            scope: {},
            templateUrl: "scene/console/setting.tpl.html",
            link: function(a, b, c) {
                b.bind("keydown", function(a) {
                    a.stopPropagation()
                });
                var d = "style";
                a.$on("showStylePanel", function(b, c) {
                    d = a.activeTab,
                    a.activeTab = "",
                    a.$apply(),
                    c && c.activeTab ? a.activeTab = c.activeTab : a.activeTab = d,
                    a.$apply()
                }),
                a.activeTab = c.activeTab,
                a.cancel = function() {
                    $(b).hide()
                }
                ,
                a.$on("$locationChangeStart", function() {
                    a.cancel()
                })
            },
            controller: ["$scope", function(a) {}
            ]
        }
    }
    ]),
    b.module("scene.create.console.shape", []).controller("ShapeConsoleCtrl", ["$rootScope", "$scope", "ModalService", "obj", "shapeService", function(a, b, c, d, e) {
        function f(a, b) {
            e.getShapeByPage(a, b)
        }
        var g = e.svgList;
        b.currentPage = 1,
        b.totalItems = g.length;
        var h = b.pageSize = 18;
        b.$watch("currentPage", function(a) {
            b.toPage = a,
            f(a, h)
        }),
        b.confirm = function() {
            b.$close({
                type: "rect"
            })
        }
        ,
        b.cancel = function() {
            b.$dismiss()
        }
        ,
        b.selectSvg = function(a) {
            var c = e.shapeList[a].type
              
            
            , 
            d = e.shapeList[a].viewBox;
            b.$close({
                type: c,
                viewBox: d
            })
        }
    }
    ]).factory("shapeService", ["$rootScope", function(a) {
        var b = {}
          
        
        , 
        c = b.svgList = [{
            type: "rect"
        }, {
            type: "circle"
        }, {
            type: "diamond"
        }, {
            type: "octagon"
        }, {
            type: "triangle-up"
        }, {
            type: "triangle-down"
        }, {
            type: "triangle-left"
        }, {
            type: "triangle-right"
        }, {
            type: "arrow-up"
        }, {
            type: "arrow-down"
        }, {
            type: "arrow-left"
        }, {
            type: "arrow-right"
        }];
        for (var d in eqxiuSvg.SYMBOLS)
            b.svgList.push({
                type: "symbols-" + d
            });
        return b.shapeList = [],
        b.getShapeByPage = function(d, e) {
            d * e <= c.length ? b.shapeList = c.slice((d - 1) * e, e * d) : b.shapeList = c.slice((d - 1) * e, c.length),
            a.$broadcast("render.shape.page", b.shapeList)
        }
        ,
        b
    }
    ]).directive("renderShapeElement", ["shapeService", "$compile", function(a, b) {
        function c(c, d, e) {
            function f(d) {
                var e;
                $(".svg-panel ul").empty();
                for (var f = 0; f < d.length; f++) {
                    var i = $('<li class="svg-element" style="width:100px;height:100px;display:inline-block;position:relative;" ng-click="selectSvg(' + f + ')"></li>');
                    b(i)(c),
                    i.appendTo(".svg-panel ul");
                    var j = document.createElementNS(eqxiuSvg.NAMESPACE, "svg");
                    j.setAttribute("style", "position:absolute;left: 50%;margin-left:-32px;top:50%;margin-top:-32px;"),
                    j.setAttribute("xmlns", eqxiuSvg.NAMESPACE),
                    j.setAttribute("version", "1.1"),
                    j.setAttribute("width", g),
                    j.setAttribute("height", h),
                    j.setAttribute("preserveAspectRatio", "xMidYMid");
                    var k = eqxiuSvg.ShapeFromType(d[f].type);
                    k.setAttribute("fill", "#555"),
                    j.appendChild(k),
                    i.append(j),
                    s = eqxiuSvg.boundingBox(k),
                    e = [Math.round(s.x) || 0, Math.round(s.y) || 0, Math.round(s.width) || 32, Math.round(s.height) || 32].join(" "),
                    j.setAttribute("viewBox", e),
                    a.shapeList[f].viewBox = e
                }
            }
            var g = (a.svgList,
            64)
              
            
            , 
            h = 64;
            c.$on("render.shape.page", function(a, b) {
                f(b)
            })
        }
        return {
            restrict: "EA",
            link: c
        }
    }
    ]),
    b.module("scene.create.console.soundComponent", ["app.directives.addelement"]),
    b.module("scene.create.console.soundComponent").controller("SoundComponentConsoleCtrl", ["$scope", "$timeout", "localizedMessages", "obj", "$modal", function(a, c, d, e, f) {
        a.model = {
            title: e.properties.title,
            imgSrc: e.properties.imgSrc,
            sound: e.sound
        },
        a.authError = "",
        a.buttons = [{
            id: 1,
            text: "有惊喜",
            btnStyle: {
                width: "100px",
                backgroundColor: "rgb(244, 113, 31)",
                height: "40px",
                "text-align": "center",
                "line-height": "40px",
                color: "rgb(255, 255, 255)"
            }
        }, {
            id: 2,
            text: "听一听",
            btnStyle: {
                width: "100px",
                backgroundColor: "rgb(253, 175, 7)",
                height: "40px",
                "text-align": "center",
                "line-height": "40px",
                color: "rgb(255, 255, 255)"
            }
        }, {
            id: 3,
            text: "点我听歌",
            btnStyle: {
                width: "100px",
                backgroundColor: "rgb(121, 196, 80)",
                height: "40px",
                "text-align": "center",
                "line-height": "40px",
                color: "rgb(255, 255, 255)"
            }
        }, {
            id: 4,
            text: "点播歌曲",
            btnStyle: {
                width: "100px",
                height: "40px",
                backgroundColor: "#fff",
                "text-align": "center",
                border: "1px solid #3FB816",
                "line-height": "40px",
                color: "rgb(0, 0, 0)"
            }
        }],
        a.openImageModal = function() {
            f.open({
                windowClass: "img_console console",
                templateUrl: "scene/console/bg.tpl.html",
                controller: "BgConsoleCtrl",
                resolve: {
                    obj: function() {
                        return {
                            fileType: 1
                        }
                    }
                }
            }).result.then(function(b) {
                a.model.title = "",
                a.btnIndex = -1,
                a.model.btnStyle = {
                    width: "115px",
                    height: "115px",
                    "line-height": "1",
                    backgroundColor: "transparent"
                },
                a.model.imgSrc = e.properties.imgSrc = b.data
            }, function(a) {})
        }
        ,
        b.forEach(a.buttons, function(b, c) {
            "" !== a.model.title && e.css.backgroundColor && e.css.backgroundColor == b.btnStyle.backgroundColor && (a.btnIndex = c)
        }),
        a.confirm = function() {
            return null  != a.model.imgSrc || a.model.title && 0 !== a.model.title.length ? !a.model.sound || $.isEmptyObject(a.model.sound) ? void (a.authError = "您还没有选择音效") : (e.sound = a.model.sound,
            e.properties.title = a.model.title,
            void a.$close(a.model)) : (a.authError = "按钮名称不能为空",
            void $('.form-list input[type="text"].btn-name').focus())
        }
        ,
        a.openSoundModal = function() {
            f.open({
                windowClass: "console img_console",
                templateUrl: "scene/console/sound.tpl.html",
                controller: "soundCtrl",
                resolve: {
                    obj: function() {
                        return {
                            elemDef: e,
                            type: 4
                        }
                    }
                }
            }).result.then(function(b) {
                a.model.sound = b
            }, function() {})
        }
        ,
        a.cancel = function() {
            a.$dismiss()
        }
        ,
        a.chooseTabButton = function(b, c) {
            a.model.title = b.text,
            a.model.btnStyle = b.btnStyle,
            a.btnIndex = c,
            a.model.imgSrc = e.properties.imgSrc = null 
        }
    }
    ]),
    b.module("scene.create.console.sound", ["services.file", "soundLink"]).controller("soundCtrl", ["$rootScope", "$scope", "soundService", "ModalService", "obj", "uploaderService", "$modal", function(b, c, d, e, f, g, h) {
        var i = c.sounds = []
          
        
        , 
        j = c.type = f.type;
        c.selectSoundError = "",
        c.uploader = g.uploader(f.type, 4194304);
        c.pageSize = 10;
        c.actionContent = !1,
        c.pagination = {},
        c.sound = {},
        c.soundLink = {
            src: ""
        },
        c.isMySound = !1,
        c.alertAction = !0,
        c.soundAction = !1,
        c.popSoundAction = function() {
            c.soundAction = !0
        }
        ,
        c.closeAction = function() {
            c.soundAction = !1,
            k.indexOf(b.user.id) > -1 && (c.alertAction = !1)
        }
        ,
        c.actionShow = !1;
        var k = [];
        if (a.localStorage) {
            var l = localStorage.getItem("setSoundAction");
            l && (k = l.split(","),
            k.indexOf(b.user.id) > -1 && (c.alertAction = !1))
        }
        if (c.isCheckbox = function(a) {
            a && (k.push(b.user.id),
            localStorage.setItem("setSoundAction", k.join(",")))
        }
        ,
        4 == j && f.elemDef.sound && f.elemDef.sound.src && (c.sound = f.elemDef.sound),
        2 == j && f.elemDef.bgAudio)
            if ("string" == typeof f.elemDef.bgAudio) {
                var m = JSON.parse(f.elemDef.bgAudio);
                c.sound = m,
                m.src && (c.sound.url = m.src)
            } else
                c.sound = f.elemDef.bgAudio,
                f.elemDef.bgAudio.src && (c.sound.url = f.elemDef.bgAudio.src);
        c.$on("uploadfiles.add", function(a) {
            c.selectTab(!0)
        }),
        c.$on("thumbnailList.update", function(a, b) {
            for (var d, e = 0; e < c.uploader.queue.length; e++)
                if (100 == c.uploader.queue[e].progress) {
                    c.uploader.queue.splice(e, 1),
                    d = b,
                    c.sounds.unshift(d);
                    for (var f = 0; 10 > f; f++)
                        0 === c.sounds[e].size ? c.sounds[e].size = null  : c.sounds[e].size > 0 && c.sounds[e].size < 1024 ? c.sounds[e].size = c.sounds[e].size + " KB" : c.sounds[e].size >= 1024 && (c.sounds[e].size = (c.sounds[e].size / 1024).toPrecision(2) + " MB")
                }
        });
        var n = function() {
            c.isMySound = !0,
            c.selectTab(!0)
        }
        ;
        4 == j && d.getSystemSounds(1),
        2 == j && d.getSystemAudios(1),
        c.getSounds = function(a) {
            4 == j ? c.isMySound ? d.getMySounds(a) : d.getSystemSounds(a) : 2 == j && (c.isMySound ? d.getMyAudios(a) : d.getSystemAudios(a))
        }
        ,
        c.selectTab = function(a) {
            c.isMySound = a,
            c.getSounds(1)
        }
        ,
        c.urlLink = function() {
            h.open({
                windowClass: "console six-contain",
                templateUrl: "scene/console/soundLink.tpl.html",
                controller: "SoundLinkCtrl",
                resolve: {
                    obj: function() {
                        return f.type
                    }
                }
            }).result.then(function() {
                n()
            }, function() {})
        }
        ,
        c.isSoundSelected = function(a, b, c) {
            return 2 === a ? b.id ? b.id == c.id : b.url == c.url : 4 === a ? b.id ? b.id == c.id : b.src == c.src : void 0
        }
        ,
        c.selectSound = function(a, b, d) {
            d ? c.sound = {} : c.sound = a
        }
        ,
        c.playSound = function(a, c) {
            a.stopPropagation(),
            b.$broadcast("sound.play", i[c])
        }
        ,
        c.deleteMySound = function(a, b) {
            a.stopPropagation(),
            e.openConfirmDialog({
                msg: "确定删除此音乐吗？"
            }, function() {
                d.deleteMySound(i[b].id)
            })
        }
        ,
        c.clear = function() {
            c.sound = {}
        }
        ,
        c.ok = function() {
            var a, b = c.sound;
            4 == j && (a = b.src ? {
                name: b.name,
                src: b.src,
                id: b.id
            } : {},
            c.$close(a)),
            2 == j && (m = b.url ? {
                url: b.url,
                name: b.name,
                id: b.id
            } : {},
            c.$close(m))
        }
        ,
        c.cancel = function() {
            c.$dismiss()
        }
        ,
        c.$on("sounds.update", function(a, b, d) {
            if (i.length = 0,
            b.list.length > 0) {
                c.actionContent = !1,
                $.each(b.list, function(a, b) {
                    0 === b.path.indexOf("http://") && (b.isValue = !0),
                    b.size < 1024 && b.size > 0 ? b.size = b.size + " KB" : b.size >= 1024 ? b.size = (b.size / 1024).toPrecision(2) + " MB" : 0 === b.size && (b.size = null ),
                    4 == d ? i.push({
                        id: b.id,
                        name: b.name,
                        src: b.path,
                        isPlaying: !1,
                        size: b.size,
                        isValue: b.isValue
                    }) : 2 == d && i.push({
                        id: b.id,
                        name: b.name,
                        url: b.path,
                        isPlaying: !1,
                        size: b.size,
                        isValue: b.isValue
                    })
                });
                var e = b.map;
                c.pagination = {
                    totalItems: e.count,
                    pageSize: e.pageSize,
                    currentPage: e.pageNo,
                    numPages: Math.ceil(e.count / e.pageSize)
                }
            } else
                c.pagination.totalItems = 0,
                c.actionContent = !0
        }),
        c.$on("mySounds.delete", function(a, b) {
            b === c.sound.id && (c.sound = {}),
            2 == j ? d.getMyAudios(c.pagination.currentPage) : 4 == j && d.getMySounds(c.pagination.currentPage)
        })
    }
    ]).factory("soundService", ["$rootScope", "$modal", "fileService", function(a, b, c) {
        var d = {};
        return d.getSystemSounds = function(b) {
            c.getSystemFiles(b, 10, 4, 1).success(function(b) {
                b.success ? a.$broadcast("sounds.update", b, 4) : alert(b.msg)
            }).error(function() {
                alert("网络连接超时，请稍后重试")
            })
        }
        ,
        d.getSystemAudios = function(b) {
            c.getFileByCategory(b, 10, "1", "2").success(function(b) {
                b.success ? a.$broadcast("sounds.update", b, 2) : alert(b.msg)
            }).error(function() {
                alert("网络连接超时，请稍后重试")
            })
        }
        ,
        d.getMyAudios = function(b) {
            c.getFileByCategory(b, 10, "0", "2").success(function(b) {
                b.success ? a.$broadcast("sounds.update", b, 2) : alert(b.msg)
            }).error(function() {
                alert("网络连接超时，请稍后重试")
            })
        }
        ,
        d.getMySounds = function(b) {
            c.getUserFiles(b, 10, 4, 0).success(function(b) {
                b.success ? a.$broadcast("sounds.update", b, 4) : alert(b.msg)
            }).error(function() {
                alert("网络连接超时，请稍后重试")
            })
        }
        ,
        d.deleteMySound = function(b) {
            c.deleteFile1(b).success(function(c) {
                c.success ? a.$broadcast("mySounds.delete", b) : alert(c.msg)
            }).error(function() {
                alert("网络连接超时，请稍后重试")
            })
        }
        ,
        d
    }
    ]).directive("eqxAudio", function() {
        function a(a, c) {
            var d = {};
            c.bind("pause", function() {
                c.attr("src") && a.$apply(function() {
                    d.isPlaying = !1
                })
            }).bind("play", function() {
                c.attr("src") && a.$apply(function() {
                    d.isPlaying = !0
                })
            });
            var e = c.get(0);
            a.$on("sound.play", function(a, c) {
                b(d, c, e),
                d = c
            })
        }
        function b(a, b, c) {
            var d, e = {};
            e.src = b.src || b.url,
            d = 0 === e.src.indexOf("http://") ? e.src : PREFIX_FILE_HOST + e.src;
            var f = d.substr(d.lastIndexOf("/") + 1)
              
            
            , 
            g = c.src.substr(d.lastIndexOf("/") + 1);
            null  == a.id ? f == g && b.isPlaying ? c.pause() : f != g || b.isPlaying ? (c.src = d,
            c.play(),
            a.isPlaying = !1,
            b.isPlaying = !0) : c.play() : a.id == b.id && b.isPlaying ? c.pause() : a.id != b.id || b.isPlaying ? (c.src = d,
            c.play(),
            a.isPlaying = !1,
            b.isPlaying = !0) : c.play()
        }
        return {
            link: a
        }
    }).filter("maxLength", function() {
        return function(a, b) {
            return a ? a.length <= b ? a : a.substr(0, b) + "…" : void 0
        }
    }),
    b.module("soundLink", ["soundLink"]),
    b.module("soundLink").controller("SoundLinkCtrl", ["$rootScope", "$scope", "sceneService", "obj", function(a, b, c, d) {
        b.authError = "",
        b.soundLink = {
            src: ""
        },
        b.selectLink = function() {
            b.sound = {}
        }
        ,
        b.confirm = function() {
            var a = b.soundLink.src;
            if (a.length && a.lastIndexOf(".mp3") !== a.length - 4)
                return void (b.authError = "请输入mp3格式的音乐链接");
            if (0 === a.length)
                return b.authError = "链接地址不能为空",
                void $(".link").focus();
            var e;
            b.sound;
            a && (e = {
                name: "外链音乐",
                src: a
            }),
            c.soundLink(a, d).then(function(a) {
                200 == a.data.code ? b.$close(e) : (b.authError = a.data.msg,
                $(".link").focus())
            })
        }
        ,
        b.cancel = function() {
            b.$dismiss()
        }
    }
    ]),
    b.module("scene.create.console.setting.style", ["colorpicker.module", "app.directives.style", "app.directives.uislider", "app.directives.limitInput"]),
    b.module("scene.create.console.setting.style").controller("StyleConsoleCtrl", ["$scope", "sceneService", function(a, b) {
        var c = a.elemDef = b.currentElemDef;
        delete c.css.borderTopLeftRadius,
        delete c.css.borderTopRightRadius,
        delete c.css.borderBottomLeftRadius,
        delete c.css.borderBottomRightRadius,
        delete c.css.border;
        var d = c.css
          
        
        , 
        e = $("#inside_" + a.elemDef.id + " > .element-box");
        if (a.model = {
            backgroundColor: d.backgroundColor || "",
            opacity: 100 - 100 * d.opacity || 0,
            color: d.color || "#676767",
            borderWidth: parseInt(d.borderWidth, 10) || 0,
            borderStyle: d.borderStyle || "solid",
            borderColor: d.borderColor || "rgba(0,0,0,1)",
            paddingBottom: parseInt(d.paddingBottom, 10) || 0,
            paddingTop: parseInt(d.paddingTop, 10) || 0,
            lineHeight: +d.lineHeight || 1,
            borderRadius: parseInt(d.borderRadius, 10) || 0,
            transform: d.transform && parseInt(d.transform.replace("rotateZ(", "").replace("deg)", ""), 10) || 0
        },
        a.maxRadius = Math.min(e.outerWidth(), e.outerHeight()) / 2 + 10,
        d.borderRadiusPerc ? a.model.borderRadiusPerc = parseInt(d.borderRadiusPerc, 10) : d.borderRadius ? "999px" == d.borderRadius ? a.model.borderRadiusPerc = 100 : (a.model.borderRadiusPerc = parseInt(100 * parseInt(d.borderRadius, 10) * 2 / Math.min(e.outerWidth(), e.outerHeight()), 10),
        a.model.borderRadiusPerc > 100 && (a.model.borderRadiusPerc = 100)) : a.model.borderRadiusPerc = 0,
        a.tmpModel = {
            boxShadowDirection: 0,
            boxShadowX: 0,
            boxShadowY: 0,
            boxShadowBlur: 0,
            boxShadowSize: 0,
            boxShadowColor: "rgba(0,0,0,0.5)"
        },
        d.boxShadow) {
            var f = d.boxShadow.split(" ");
            a.tmpModel.boxShadowX = parseInt(f[0], 10),
            a.tmpModel.boxShadowY = parseInt(f[1], 10),
            a.tmpModel.boxShadowDirection = parseInt(d.boxShadowDirection, 10) || 0,
            a.tmpModel.boxShadowBlur = parseInt(f[2], 10),
            a.tmpModel.boxShadowColor = f[3],
            a.tmpModel.boxShadowSize = parseInt(d.boxShadowSize, 10) || 0
        }
        a.clear = function() {
            a.model = {
                backgroundColor: "",
                opacity: 0,
                color: "#676767",
                borderWidth: 0,
                borderStyle: "solid",
                borderColor: "rgba(0,0,0,1)",
                paddingBottom: 0,
                paddingTop: 0,
                lineHeight: 1,
                borderRadius: 0,
                transform: 0
            },
            a.tmpModel = {
                boxShadowDirection: 0,
                boxShadowX: 0,
                boxShadowY: 0,
                boxShadowBlur: 0,
                boxShadowSize: 0,
                boxShadowColor: "rgba(0,0,0,0.5)"
            }
        }
        ,
        a.$watch("tmpModel", function(b, d) {
            var e = {};
            $.extend(!0, e, a.model),
            e.borderRadius += "px",
            e.borderTopLeftRadius = e.borderTopRightRadius = e.borderBottomLeftRadius = e.borderBottomRightRadius = e.borderRadius,
            e.opacity = (100 - a.model.opacity) / 100,
            e.boxShadow = Math.round(a.tmpModel.boxShadowX) + "px " + Math.round(a.tmpModel.boxShadowY) + "px " + a.tmpModel.boxShadowBlur + "px " + a.tmpModel.boxShadowColor,
            e.boxShadowDirection = a.tmpModel.boxShadowDirection,
            e.boxShadowSize = a.tmpModel.boxShadowSize,
            e.transform = "rotateZ(" + a.model.transform + "deg)",
            $.extend(!0, c.css, e)
        }, !0),
        a.$watch("model", function(b, d) {
            var e = {};
            $.extend(!0, e, a.model),
            e.borderRadius += "px",
            e.borderTopLeftRadius = e.borderTopRightRadius = e.borderBottomLeftRadius = e.borderBottomRightRadius = e.borderRadius,
            e.opacity = (100 - a.model.opacity) / 100,
            e.boxShadow = Math.round(a.tmpModel.boxShadowX) + "px " + Math.round(a.tmpModel.boxShadowY) + "px " + a.tmpModel.boxShadowBlur + "px " + a.tmpModel.boxShadowColor,
            e.boxShadowDirection = a.tmpModel.boxShadowDirection,
            e.boxShadowSize = a.tmpModel.boxShadowSize,
            e.transform = "rotateZ(" + a.model.transform + "deg)",
            $.extend(!0, c.css, e)
        }, !0)
    }
    ]).directive("styleInput", function() {
        return {
            restrict: "AE",
            link: function(a, b, c) {
                var d = $("#inside_" + a.elemDef.id + " > .element-box");
                a.$watch(function() {
                    return $(b).val()
                }, function() {
                    if ("borderWidth" == c.cssItem) {
                        d.css({
                            borderStyle: a.model.borderStyle,
                            borderWidth: $(b).val()
                        });
                        var e = {
                            width: d.width(),
                            height: d.height()
                        };
                        if (4 == a.elemDef.type) {
                            var f = d.find("img")
                              
                            
                            , 
                            g = f.width() / f.height()
                              
                            
                            , 
                            h = e.width / e.height;
                            g >= h ? (f.outerHeight(e.height),
                            f.outerWidth(e.height * g),
                            f.css("marginLeft", -(f.outerWidth() - e.width) / 2),
                            f.css("marginTop", 0)) : (f.outerWidth(e.width),
                            f.outerHeight(e.width / g),
                            f.css("marginTop", -(f.outerHeight() - e.height) / 2),
                            f.css("marginLeft", 0)),
                            a.elemDef.properties.imgStyle.marginTop = f.css("marginTop"),
                            a.elemDef.properties.imgStyle.marginLeft = f.css("marginLeft"),
                            a.elemDef.properties.imgStyle.width = f.outerWidth(),
                            a.elemDef.properties.imgStyle.height = f.outerHeight()
                        }
                    }
                    if ("borderRadius" == c.cssItem && d.css({
                        borderRadius: a.model.borderRadius
                    }),
                    "opacity" == c.cssItem && d.css({
                        opacity: (100 - $(b).val()) / 100
                    }),
                    "backgroundColor" == c.cssItem && d.css({
                        backgroundColor: $(b).val()
                    }),
                    "color" == c.cssItem && (d.css({
                        color: $(b).val()
                    }),
                    "h" == a.elemDef.type)) {
                        var i = d.find("svg");
                        i.find("g").length ? i.find("g").attr("fill", $(b).val()) : i.children().attr("fill", $(b).val())
                    }
                    "borderStyle" == c.cssItem && d.css({
                        borderStyle: a.model.borderStyle
                    }),
                    "borderColor" == c.cssItem && d.css({
                        borderColor: a.model.borderColor
                    }),
                    "padding" == c.cssItem && d.css({
                        paddingTop: a.model.paddingTop,
                        marginTop: -a.model.paddingBottom
                    }),
                    "lineHeight" == c.cssItem && d.css({
                        lineHeight: a.model.lineHeight
                    }),
                    "transform" == c.cssItem && d.parents("li").css({
                        transform: "rotateZ(" + a.model.transform + "deg)"
                    }),
                    "boxShadow" == c.cssItem && (a.tmpModel.boxShadowX = -Math.sin(a.tmpModel.boxShadowDirection * Math.PI / 180) * a.tmpModel.boxShadowSize,
                    a.tmpModel.boxShadowY = Math.cos(a.tmpModel.boxShadowDirection * Math.PI / 180) * a.tmpModel.boxShadowSize,
                    d.css({
                        boxShadow: Math.round(a.tmpModel.boxShadowX) + "px " + Math.round(a.tmpModel.boxShadowY) + "px " + a.tmpModel.boxShadowBlur + "px " + a.tmpModel.boxShadowColor
                    }))
                })
            }
        }
    }).directive("angleKnob", function() {
        return {
            restrict: "AE",
            templateUrl: "scene/console/angle-knob.tpl.html",
            link: function(a, b, c) {
                function d(a, b) {
                    var c = Math.sqrt((a - 28) * (a - 28) + (b - 28) * (b - 28)) / 28
                      
                    
                    , 
                    d = 28 + (a - 28) / c
                      
                    
                    , 
                    e = 28 + (b - 28) / c;
                    g.css({
                        top: Math.round(e),
                        left: Math.round(d)
                    })
                }
                function e(a, b) {
                    var c = a - 28
                      
                    
                    , 
                    d = 28 - b
                      
                    
                    , 
                    e = 180 * Math.atan(c / d) / Math.PI;
                    return b > 28 && (e += 180),
                    28 >= b && 28 > a && (e += 360),
                    Math.round(e)
                }
                var f = $(b).find(".sliderContainer")
                  
                
                , 
                g = $(b).find(".sliderKnob");
                a.$watch(function() {
                    return a.tmpModel.boxShadowDirection
                }, function(a) {
                    g.css({
                        top: 28 - 28 * Math.cos(a * Math.PI / 180),
                        left: 28 + 28 * Math.sin(a * Math.PI / 180)
                    })
                }),
                0 !== a.tmpModel.boxShadowDirection && g.css({
                    top: 28 - 28 * Math.cos(a.tmpModel.boxShadowDirection * Math.PI / 180),
                    left: 28 + 28 * Math.sin(a.tmpModel.boxShadowDirection * Math.PI / 180)
                }),
                f.bind("mousedown", function(b) {
                    b.stopPropagation();
                    var c = f.offset().left
                      
                    
                    , 
                    g = f.offset().top;
                    d(b.pageX - c, b.pageY - g);
                    var h = e(b.pageX - c, b.pageY - g);
                    a.tmpModel.boxShadowDirection = h,
                    a.$apply(),
                    $(this).bind("mousemove", function(b) {
                        b.stopPropagation(),
                        d(b.pageX - c, b.pageY - g);
                        var f = e(b.pageX - c, b.pageY - g);
                        a.tmpModel.boxShadowDirection = f,
                        a.$apply()
                    }),
                    $(this).bind("mouseup", function(a) {
                        $(this).unbind("mousemove"),
                        $(this).unbind("mouseup")
                    })
                })
            }
        }
    }),
    b.module("scene.create.console.lycc", ["app.directives.addelement"]),
    b.module("scene.create.console.lycc").controller("LyccConsoleCtrl", ["$scope", "$timeout", "localizedMessages", "obj", "$modal", function(a, c, d, e, f) {
        a.model = {
            title: e.properties.title,
            number: e.properties.number,
            imgSrc: e.properties.imgSrc
        },
        a.authError = "",
        a.buttons = [{
            id: 1,
            text: "默认按纽",
            btnStyle: {
                width: "100px",
                backgroundColor: "rgb(244, 113, 31)",
                height: "40px",
                "text-align": "center",
                "line-height": "40px",
                color: "rgb(255, 255, 255)"
            }
        }],
        a.openImageModal = function() {
            f.open({
                windowClass: "img_console console",
                templateUrl: "scene/console/bg.tpl.html",
                controller: "BgConsoleCtrl",
                resolve: {
                    obj: function() {
                        return {
                            fileType: 1
                        }
                    }
                }
            }).result.then(function(b) {
                a.model.title = "",
                a.btnIndex = -1,
                a.model.btnStyle = {
                    width: "115px",
                    height: "115px",
                    "line-height": "1",
                    backgroundColor: "transparent"
                },
                a.model.imgSrc = e.properties.imgSrc = b.data
            }, function(a) {})
        }
        ,
        b.forEach(a.buttons, function(b, c) {
            "" !== a.model.title && e.css.backgroundColor && e.css.backgroundColor == b.btnStyle.backgroundColor && (a.btnIndex = c)
        }),
        a.confirm = function() {
            if (null  == a.model.imgSrc && (!a.model.title || 0 === a.model.title.length))
                return a.authError = "按钮名称不能为空",
                void $('.form-list input[type="text"].btn-name').focus();
            return void a.$close(a.model)
        }
        ,
        a.cancel = function() {
            a.$dismiss()
        }
        ,
        a.chooseTabButton = function(b, c) {
            a.model.title = b.text,
            a.model.btnStyle = b.btnStyle,
            a.btnIndex = c,
            a.model.imgSrc = e.properties.imgSrc = null 
        }
    }
    ]),
    b.module("scene.create.console.tel", ["app.directives.addelement"]),
    b.module("scene.create.console.tel").controller("TelConsoleCtrl", ["$scope", "$timeout", "localizedMessages", "obj", "$modal", function(a, c, d, e, f) {
        a.model = {
            title: e.properties.title,
            number: e.properties.number,
            imgSrc: e.properties.imgSrc
        },
        a.authError = "",
        a.buttons = [{
            id: 1,
            text: "一键拨号",
            btnStyle: {
                width: "100px",
                backgroundColor: "rgb(244, 113, 31)",
                height: "40px",
                "text-align": "center",
                "line-height": "40px",
                color: "rgb(255, 255, 255)"
            }
        }, {
            id: 2,
            text: "热线电话",
            btnStyle: {
                width: "100px",
                backgroundColor: "rgb(253, 175, 7)",
                height: "40px",
                "text-align": "center",
                "line-height": "40px",
                color: "rgb(255, 255, 255)"
            }
        }, {
            id: 3,
            text: "拨打电话",
            btnStyle: {
                width: "100px",
                backgroundColor: "rgb(121, 196, 80)",
                height: "40px",
                "text-align": "center",
                "line-height": "40px",
                color: "rgb(255, 255, 255)"
            }
        }, {
            id: 4,
            text: "一键拨号",
            btnStyle: {
                width: "100px",
                height: "40px",
                backgroundColor: "#fff",
                "text-align": "center",
                border: "1px solid #3FB816",
                "line-height": "40px",
                color: "rgb(0, 0, 0)"
            }
        }],
        a.openImageModal = function() {
            f.open({
                windowClass: "img_console console",
                templateUrl: "scene/console/bg.tpl.html",
                controller: "BgConsoleCtrl",
                resolve: {
                    obj: function() {
                        return {
                            fileType: 1
                        }
                    }
                }
            }).result.then(function(b) {
                a.model.title = "",
                a.btnIndex = -1,
                a.model.btnStyle = {
                    width: "115px",
                    height: "115px",
                    "line-height": "1",
                    backgroundColor: "transparent"
                },
                a.model.imgSrc = e.properties.imgSrc = b.data
            }, function(a) {})
        }
        ,
        b.forEach(a.buttons, function(b, c) {
            "" !== a.model.title && e.css.backgroundColor && e.css.backgroundColor == b.btnStyle.backgroundColor && (a.btnIndex = c)
        }),
        a.confirm = function() {
            if (null  == a.model.imgSrc && (!a.model.title || 0 === a.model.title.length))
                return a.authError = "按钮名称不能为空",
                void $('.form-list input[type="text"].btn-name').focus();
            if (!a.model.number || 0 === a.model.title.number)
                return a.authError = "电话号码不能为空",
                void $('.form-list input[type="text"].tel-button').focus();
            var b = new RegExp(/(\d{11})|^((\d{7,8})|(^400[0-9]\d{6})|(\d{4}|\d{3})-(\d{7,8})|(\d{4}|\d{3})-(\d{7,8})-(\d{4}|\d{3}|\d{2}|\d{1})|(\d{7,8})-(\d{4}|\d{3}|\d{2}|\d{1}))$/g);
            return b.test(a.model.number) ? void a.$close(a.model) : ($('.form-list input[type="text"].tel-button').addClass("error"),
            $('.form-list input[type="text"].tel-button').change(function() {
                $(this).removeClass("error")
            }),
            void (a.authError = "手机号码格式错误"))
        }
        ,
        a.cancel = function() {
            a.$dismiss()
        }
        ,
        a.chooseTabButton = function(b, c) {
            a.model.title = b.text,
            a.model.btnStyle = b.btnStyle,
            a.btnIndex = c,
            a.model.imgSrc = e.properties.imgSrc = null 
        }
    }
    ]),
    b.module("scene.create.console.setting.trigger", ["colorpicker.module", "app.directives.style", "app.directives.uislider", "app.directives.limitInput", "scene.edit.trigger"]),
    b.module("scene.create.console.setting.trigger").controller("TriggerConsoleCtrl", ["$scope", "$rootScope", "sceneService", "triggerService", "$modal", "ModalService", function(a, c, d, e, f, g) {
        function h() {
            var b = e.getTrigger(k.id);
            if (b && b.sends.length)
                for (j(b.sends),
                p = 0; p < b.sends.length && a.triggerEvents[p]; p++)
                    p > 0 ? b.sends[p].delay = b.sends[p - 1].delay + a.triggerEvents[p].delay : b.sends[p].delay = a.triggerEvents[p].delay;
            $.each(l, function(a, b) {
                e.clearTrigger(a);
                var c = e.getTrigger(a);
                c && c.sends.length && j(c.sends),
                c ? b.trigger = c : delete b.trigger
            })
        }
        function i() {
            if (k) {
                var c = e.getTrigger(k.id);
                if (c && c.sends.length) {
                    j(c.sends),
                    a.triggerEvents = [];
                    var d = b.copy(c.sends);
                    b.forEach(d, function(c, e) {
                        if (a.triggerEvents.push({}),
                        b.forEach(c.handles, function(c, d) {
                            1 != c.type && 2 != c.type || !c.ids.length ? 3 == c.type && c.ids.length && (a.triggerEvents[e] = b.copy(a.eventTypes[1]),
                            a.triggerEvents[e].type = 2) : (a.triggerEvents[e] = b.copy(a.eventTypes[0]),
                            a.triggerEvents[e].type = 1)
                        }),
                        e > 0)
                            for (p = 0; e > p; p++)
                                c.delay -= d[p].delay;
                        a.triggerEvents[e].handles = c.handles,
                        c.delay ? a.triggerEvents[e].delay = c.delay : a.triggerEvents[e].delay = 0
                    })
                }
            }
        }
        function j(a) {
            for (var b = 0; b < a.length; b++)
                "undefined" == typeof a[b].sendIndex && a[b].hasOwnProperty("sendIndex") && (a.splice(b, 1),
                b--)
        }
        a.sendTypes = utilTrigger.getSendType(),
        a.sendType = a.sendTypes.CLICK;
        var k = a.elemDef = d.currentElemDef
          
        
        , 
        l = d.getElementsMap();
        utilTrigger.getHandleType();
        a.$watch("elemDef", function(a, b) {
            a && (k = a)
        }, !0),
        a.eventTypes = [{
            name: "existElement",
            value: 1,
            title: "选择界面已有元素",
            children: [{
                type: "SHOW",
                title: "显示"
            }, {
                type: "HIDE",
                title: "隐藏"
            }]
        }, {
            name: "randomEvent",
            value: 2,
            title: "随机图片"
        }],
        k && (4 == k.type ? a.triggerOriginal = "图片1" : "2" == k.type ? a.triggerOriginal = "文字1" : "h" == k.type && (a.triggerOriginal = "形状1")),
        a.selectTriggerOriginal = function() {
            c.$broadcast("select.trigger.original")
        }
        ,
        a.triggerEvents = [],
        a.addTriggerEvent = function(b) {
            a.triggerEvents.push({
                title: b.title,
                value: b.value,
                delay: 0
            })
        }
        ,
        a.addTriggerItem = function(b, d) {
            a.currentTriggerEvent = b,
            a.currentIndex = d,
            c.$broadcast("element.triggered.add", b)
        }
        ,
        a.addRandomImg = function(b, c) {
            a.currentTriggerEvent = b,
            a.currentIndex = c,
            d.createComp("n")
        }
        ,
        a.$on("create.randomevent.trigger", function(b, d) {
            c.$broadcast("show.random.trigger", k, d, a.currentIndex)
        }),
        a.$on("receive.element.update", function(c, d, f, g, l) {
            a.triggeredElements = [];
            a.currentTriggerEvent ? a.currentTriggerEvent.handles = [] : a.triggerEvents && (a.triggerEvents[l].handles = []);
            var m = e.getTrigger(k.id).sends;
            m.length && j(m),
            b.forEach(m, function(b, c) {
                a.triggerEvents[l].handles = b.handles
            }),
            h(),
            i()
        }),
        a.switchShow = function(a, b, d, e) {
            c.$broadcast("switch.triggered.state", a, b, d, e)
        }
        ,
        a.removeTrigger = function(b, c) {
            var d = k.id
              
            
            , 
            f = e.getTrigger(d);
            if (f && f.sends) {
                if (j(f.sends),
                !f.sends[b])
                    return void a.triggerEvents.splice(b, 1);
                e.deleteTriggerBySendIndex(b, d)
            }
            a.triggerEvents.splice(b, 1)
        }
        ,
        i(),
        a.confirm = function() {
            h(),
            c.$broadcast("close.style.panel")
        }
        ,
        a.cancelTriggerElem = function(a, b) {
            var d = k.id;
            c.$broadcast("cancel.element.trigger", a, d, b),
            i()
        }
        ,
        a.editRandomElem = function() {}
        ,
        a.clear = function() {
            e.resetTrigger(k.id),
            a.triggerEvents = []
        }
    }
    ]).directive("eqxTrigger", ["sceneService", "triggerService", function(a, b) {
        function c(c, l, o) {
            var p, q = a.currentElemDef, 
            r = $("#nr");
            r.find(".edit_area").find("li");
            c.$on("element.triggered.add", function(a, b) {
                k = k,
                $(".switch").remove(),
                p = $("#inside_" + q.id);
                var e = $('<div class="switch">');
                p.append(e).children(".bar").hide(),
                d(c, q, b)
            }),
            c.$on("create.trigger.menu", function(a, b, d) {
                if (!b.find(".switch").length) {
                    var f = e(c, b);
                    j(f, "triggerMenu", d)
                }
            }),
            c.$on("switch.triggered.state", function(a, b, d, e, h) {
                var i = $("#inside_" + e);
                d.type;
                b ? f(i, c.sendType, m, q.id, e, h) : g(i, c.sendType, m, q.id, e, h)
            }),
            c.$on("show.random.trigger", function(a, d, e, f) {
                var g = utilTrigger.getHandleType().RANDOMEVENT.value;
                i(c.sendType, g, d.id, e.id, f);
                b.getTrigger(d.id)
            }),
            c.$on("close.style.panel", function(a) {
                $("#comp_setting").hide()
            }),
            c.$on("cancel.element.trigger", function(b, d, e, f) {
                if (p = $("#inside_" + d),
                h(p, c.sendType, m, e, d, f),
                "n" == n[d].type && ($("#nr").find("#inside_" + d).remove(),
                a.deleteElement(d)),
                c.triggerEvents.length)
                    for (var g = 0; g < c.triggerEvents.length; g++) {
                        var i = !0;
                        if (c.triggerEvents[g].handles)
                            for (var j = 0; j < c.triggerEvents[g].handles.length; j++)
                                c.triggerEvents[g].handles[j].ids.length && (i = !1);
                        i && (c.triggerEvents.splice(g, 1),
                        g--)
                    }
            }),
            c.$on("select.trigger.original", function(b) {
                var d = r.find(".edit_area").children("li");
                $('<div class="mask-trigger">').insertAfter(".edit_area").click(function() {
                    $(this).remove(),
                    d.each(function() {
                        var a = $(this)
                          
                        
                        , 
                        b = a.attr("ctype")
                          
                        
                        , 
                        c = parseInt(a.attr("id").replace("inside_", ""), 10);
                        (2 == b || 4 == b || "h" == b) && a.css({
                            "background-color": "",
                            "z-index": n[c].css.zIndex
                        })
                    });
                    var b = parseInt($(".switch").parent().attr("id").replace("inside_", ""), 10);
                    q = c.elemDef = a.currentElemDef = n[b],
                    4 == q.type ? c.triggerOriginal = "图片1" : "2" == q.type ? c.triggerOriginal = "文字1" : "h" == q.type && (c.triggerOriginal = "形状1"),
                    c.$apply()
                }),
                d.each(function() {
                    var a = $(this)
                      
                    
                    , 
                    b = a.attr("ctype");
                    (2 == b || 4 == b || "h" == b) && a.css({
                        "background-color": "rgba(255,255,255,0.9)",
                        "z-index": 10001
                    })
                })
            })
        }
        function d(a, c, d) {
            var e = $("#nr")
              
            
            , 
            f = e.find(".edit_area").children("li");
            e.find(".mask-trigger").remove(),
            $("#comp_setting").css({
                zIndex: 10001
            }),
            $('<div class="mask-trigger">').insertAfter(".edit_area").click(function() {
                $(this).remove(),
                c && ($(".switch").remove(),
                $("#triggerMenu").hide(),
                $(".edit_area").find(".boom, .boom1").remove()),
                f.each(function() {
                    var a = $(this)
                      
                    
                    , 
                    b = a.attr("ctype")
                      
                    
                    , 
                    c = parseInt(a.attr("id").replace("inside_", ""), 10);
                    (2 == b || 4 == b || "h" == b) && a.css({
                        "background-color": "",
                        "z-index": n[c].css.zIndex
                    })
                })
            });
            var g;
            if (b.getTrigger(c.id) && (g = b.getTrigger(c.id).sends),
            f.each(function() {
                var a = $(this)
                  
                
                , 
                b = a.attr("ctype");
                (2 == b || 4 == b || "h" == b) && (a.css({
                    "background-color": "rgba(255,255,255,0.9)",
                    "z-index": 10001
                }),
                g && g.length && $.each(g, function(b, c) {
                    $.each(c.handles, function(b, c) {
                        c.ids.length && $.each(c.ids, function(b, c) {
                            a.attr("id") == "inside_" + c && a.css({
                                "background-color": "",
                                "z-index": ""
                            })
                        })
                    })
                }))
            }),
            c) {
                var h = [];
                $.each(m, function(a, d) {
                    if (2 != d.value) {
                        var e = b.getSendIds(d.value, c.id);
                        $.each(e, function(a, b) {
                            h.push(b)
                        })
                    }
                }),
                $.each(h, function(a, b) {
                    var c = e.find("#inside_" + b);
                    c.css({
                        "background-color": "",
                        "z-index": ""
                    })
                }),
                $("#comp_setting").css({
                    zIndex: ""
                });
                var i = b.getReceiveIds(l.CLICK.value, m.SHOW.value, c.id);
                $.each(i, function(a, b) {
                    $('<div class="boom">').appendTo(e.find("#inside_" + b))
                }),
                i = b.getReceiveIds(l.CLICK.value, m.HIDE.value, c.id),
                $.each(i, function(a, b) {
                    $('<div class="boom1">').appendTo(e.find("#inside_" + b))
                })
            }
        }
        function e(a, b) {
            var c = a.currentIndex
              
            
            , 
            d = $('<ul id="triggerMenu" class="dropdown-menu" style="min-width: 100px; display: block;" role="menu" aria-labelledby="dropdownMenu1"><li class="trigger-show" role="presentation"><a role="menuitem" tabindex="-1"><div class="eqf-dengpao1"></div>显示</a></li><li class="trigger-hide" role="presentation"><a role="menuitem" tabindex="-1"><div class="eqf-dengpao1" style="color: #5F5F5F;"></div>隐藏</a></li><li class="trigger-none" role="presentation"><a role="menuitem" tabindex="-1"><div style="width: 21px;"></div>取消</a></li></ul>').css({
                position: "absolute",
                "user-select": "none"
            })
              
            
            , 
            e = $(".edit_area").find(".switch")
              
            
            , 
            i = parseInt(e.parent().attr("id").replace("inside_", ""), 10)
              
            
            , 
            j = parseInt(b.attr("id").replace("inside_", ""), 10);
            return d.children(".trigger-show").click(function() {
                f(b, a.sendType, m, i, j, c),
                d.hide()
            }),
            d.children(".trigger-hide").click(function() {
                g(b, a.sendType, m, i, j, c),
                d.hide()
            }),
            d.children(".trigger-none").click(function() {
                h(b, a.sendType, m, i, j, c),
                d.hide()
            }),
            d
        }
        function f(a, c, d, e, f, g) {
            a.children(".boom").length || (a.children(".boom1").remove(),
            $('<div class="boom">').appendTo(a),
            b.deleteTrigger(c.value, d.HIDE.value, e, f, g),
            b.addTrigger(c.value, d.SHOW.value, e, f, g))
        }
        function g(a, c, d, e, f, g) {
            a.children(".boom1").length || (a.children(".boom").remove(),
            $('<div class="boom1">').appendTo(a),
            b.deleteTrigger(c.value, d.SHOW.value, e, f, g),
            b.addTrigger(c.value, d.HIDE.value, e, f, g))
        }
        function h(a, c, d, e, f, g) {
            a.children(".boom, .boom1").remove(),
            b.deleteTrigger(c.value, d.SHOW.value, e, f, g),
            b.deleteTrigger(c.value, d.HIDE.value, e, f, g),
            b.deleteTrigger(c.value, d.RANDOMEVENT.value, e, f, g)
        }
        function i(a, c, d, e, f) {
            b.deleteTrigger(a.value, c, d, e, f),
            b.addTrigger(a.value, c, d, e, f)
        }
        function j(a, b, c) {
            var d = $("#eq_main");
            $("#" + b).remove(),
            a.css({
                left: c.pageX + d.scrollLeft() + 15,
                top: c.pageY + d.scrollTop(),
                zIndex: 10001
            }).appendTo(d),
            d.mousemove(function(c) {
                a = $("#" + b),
                (c.pageX < a.offset().left - 20 || c.pageX > a.offset().left + a.width() + 20 || c.pageY < a.offset().top - 20 || c.pageY > a.offset().top + a.height() + 20) && (a.hide(),
                $(this).unbind("mousemove"))
            })
        }
        var k, l = utilTrigger.getSendType(), 
        m = utilTrigger.getHandleType(), 
        n = a.getElementsMap();
        return {
            restrict: "EA",
            link: c
        }
    }
    ]).directive("hoverElement", function() {
        function a(a, c, d) {
            var e;
            $blinkElement = $('<div class="blink-element"></div>');
            var f = $("#inside_" + a.id);
            "4" == f.attr("ctype") ? $("#tip_" + a.id).html("图片") : "2" == f.attr("ctype") ? $("#tip_" + a.id).html("文字") : "3" == f.attr("ctype") ? $("#tip_" + a.id).html("随机图片") : "h" == f.attr("ctype") && $("#tip_" + a.id).html("形状"),
            c.hover(function(c) {
                b = $("#inside_" + a.id),
                b.find(".blink-element").length || $blinkElement.appendTo(b),
                e = setInterval(function() {
                    $blinkElement.toggleClass("red-border")
                }, 1e3)
            }, function(a) {
                $blinkElement.remove(),
                clearInterval(e)
            })
        }
        var b;
        return {
            restrict: "EA",
            scope: {
                id: "="
            },
            link: a
        }
    }).directive("leavePanel", function() {
        function a(a, b, c) {
            b.hover(function() {}, function() {
                a.obj = {
                    showTriggerPanel: !1
                },
                a.$apply()
            })
        }
        return {
            restrict: "EA",
            link: a
        }
    }),
    b.module("scene.create.console.ditu", []),
    b.module("scene.create.console.ditu").controller("MapCtrl", ["$scope", "$timeout", "obj", function(a, b, c) {
        a.pageid = c.pageId;
        a.url = "/?c=ditu&a=mapdata&SceneID=" + c.sceneId + "&pageid=" + c.pageId;
        a.model || (a.model = {}),
        a.sceneID = c.sceneId,
        a.model.src = '<iframe height=698 width=510 src="' + JSON_URL + "?c=ditu&a=allMap&sceneId=" + c.sceneId + '&pageid=' + c.pageId + '#mp.weixin.qq.com" frameborder=0 allowfullscreen></iframe>',
        a.confirm = function() {
            a.model.src && (c.properties.src = a.model.src);
            return void a.$close(a.model.src);
        }
        ,
        a.cancel = function() {
            a.$dismiss()
        }
    }
    ]),
    b.module("scene.create.console.video", []),
    b.module("scene.create.console.video").controller("VideoCtrl", ["$scope", "$timeout", "obj", function(a, b, c) {
        function d(a) {
            var b = a.substring(a.indexOf("src=") + 4)
              
            
            , 
            c = b.substring(b.indexOf("://") + 3)
              
            
            , 
            d = c.substring(0, c.indexOf("/"));
            return d.indexOf("v.qq") >= 0 || d.indexOf("tudou") >= 0 || d.indexOf("youku") >= 0 ? !0 : !1
        }
        a.model || (a.model = {}),
        a.authError = "",
        a.model.src = c.properties.src,
        a.confirm = function() {
            if (!a.model.src)
                return $("textarea").focus(),
                void (a.authError = "请输入视频地址");
            var b = d(a.model.src);
            return b ? void a.$close(a.model.src) : ($("textarea").addClass("error"),
            $("textarea").change(function() {
                $(this).removeClass("error")
            }),
            void (a.authError = "暂不支持添加此视频！"))
        }
        ,
        a.cancel = function() {
            a.$dismiss()
        }
    }
    ]),
    b.module("scene.create", ["app.directives.editor", "services.scene", "confirm-dialog", "services.modal", "app.directives.component", "services.pagetpl", "scene.create.console", "app.directives.comp.editor", "app.directives.addelement", "scene.my.upload", "services.i18nNotifications", "services.history", "security.service", "scene.edit.select", "scene.edit.common", "scene.edit.keymap", "scene.edit.bg", "scene.userGuide"]),
    b.module("scene.create").controller("CreateSceneCtrl", ["$timeout", "$compile", "$rootScope", "$scope", "$routeParams", "$route", "$location", "sceneService", "pageTplService", "$modal", "ModalService", "security", "$window", "i18nNotifications", "historyService", "panStateTracker", "selectService", function(c, d, e, f, g, h, i, j, k, l, m, n, o, q, r, s, t) {
        function u() {
            var a = !1;
            return b.forEach(f.tpl.obj.elements, function(b) {
                6 == ("" + b.type).charAt(0) && (a = !0)
            }),
            a
        }
        function v(a, c, d, g) {
            f.loading = !0,
            f.pageId = f.pages[a - 1].id,
            j.getSceneByPage(f.pageId, c, d).then(function(g) {
                f.loading = !1,
                f.tpl = g.data,
                C = f.tpl.obj.properties,
                z = JSON.stringify(f.tpl),
                f.sceneId = f.tpl.obj.sceneId,
                f.controlView.showBgTag = !1,
                b.forEach(f.tpl.obj.elements, function(a, b) {
                    3 == a.type && (f.controlView.showBgTag = !0,
                    f.currentBgDef = a)
                }),
                C && (C.image || C.scratch) && (f.effectName = "涂抹"),
                C && C.finger && (f.effectName = "指纹"),
                C && C.effect && ("money" == C.effect.name ? f.effectName = "数钱" : "snowFly" == C.effect.name ? f.effectName = "飘雪" : "fireWorks" == C.effect.name && (f.effectName = "烟花")),
                C && C.fallingObject && (f.effectName = "环境"),
                (c || d) && (i.$$search = {},
                i.search("pageId", ++a),
                f.getPageNames()),
                f.pageNum = a,
                y = f.tpl.obj.scene.name,
                $("#nr").empty();
                var h = b.copy(f.tpl.obj);
                h.elements = r.addPage(h.id, h.elements),
                j.templateEditor.parse({
                    def: f.tpl.obj,
                    appendTo: "#nr",
                    mode: "edit"
                }),
                e.$broadcast("dom.changed")
            }, function() {
                f.loading = !1
            })
        }
        function w() {
            q.pushForCurrentRoute("scene.save.success.nopublish", "notify.success")
        }
        f.loading = !1,
        f.PREFIX_FILE_HOST = PREFIX_FILE_HOST,
        f.tpl = {};
        var x, y = "", 
        z = "", 
        A = "";
        f.templateType = 1,
        f.categoryId = -1,
        f.controlView = {},
        f.isEditor = e.isEditor,
        f.createComp = function(a, b) {
            return f.sceneSetting.showFlag = !1,
            "6" == a && u() ? void m.openMsgDialog({
                msg: "当前页面的提交按钮已经存在，请不要重复添加。"
            }) : void j.createComp(a, null , b)
        }
        ,
        f.createCompGroup = function(a, c) {
            f.sceneSetting.showFlag = !1,
            "g101" == a && u() && (m.openMsgDialog({
                msg: "当前页面的提交按钮已经存在，本操作将会删除已添加的按钮。"
            }),
            b.forEach(f.tpl.obj.elements, function(a) {
                6 == ("" + a.type).charAt(0) && ($("#nr").find("#inside_" + a.id).remove(),
                t.deleteElement(a.id),
                j.deleteElement(a.id))
            })),
            j.createCompGroup(a, null , c)
        }
        ,
        f.isRadioCheckboxRatingAccessable = n.isAllowToAccess(n.accessDef.RADIO_CHECKBOX_RATING),
        f.isInteractionAccessable = n.isAllowToAccess(n.accessDef.INTERACTION),
        f.isInteractionCounterAccessable = n.isAllowToAccess(n.accessDef.INTERACTION_COUNTER),
        f.updateCompPosition = j.updateCompPosition,
        f.updateCompAngle = j.updateCompAngle,
        f.updateCompSize = j.updateCompSize,
        f.openAudioModal = j.openAudioModal,
        f.openTriggerMode = j.openTriggerMode,
        f.$on("dom.changed", function(a) {
            d($("#nr"))(f)
        });
        var B = null ;
        f.$on("showCropPanel", function(a, b) {
            var c = $(".content").eq(0);
            B ? (e.$broadcast("changeElemDef", b),
            B.show()) : B = d("<div crop-image></div>")(f),
            c.append(B)
        }),
        f.openPageEffectModal = function(a) {
            var c = b.copy(a);
            l.open({
                windowClass: "console six-contain effect-console",
                templateUrl: "scene/pageeffect/pageeffect.tpl.html",
                controller: "pageEffectCtrl",
                resolve: {
                    properties: function() {
                        return c
                    }
                }
            }).result.then(function(a) {
                f.tpl.obj.properties = a.properties,
                f.effectName = a.name
            }, function() {})
        }
        ;
        var C, D = null ;
        f.$on("showStylePanel", function(a, b) {
            var c = $(".content").eq(0);
            D ? D.show() : "style" == b.activeTab ? D = d('<div style-modal active-tab="style"></div>')(f) : "anim" == b.activeTab ? D = d('<div style-modal active-tab="anim"></div>')(f) : "trigger" == b.activeTab && (D = d('<div style-modal active-tab="trigger"></div>')(f)),
            c.append(D)
        }),
        f.$on("hideStylePanel", function(a) {
            D && D.hide()
        }),
        f.refreshPage = function(a, b) {
            parseInt(b, 10);
            $("#nr").empty(),
            j.templateEditor.parse({
                def: f.tpl.obj,
                appendTo: "#nr",
                mode: "edit"
            }),
            e.$broadcast("dom.changed")
        }
        ,
        f.navTo = function(a, b) {
            f.pageList = !0,
            f.isEditor && f.sceneId < 2e3 && (f.pageLabelAll.length = 0,
            f.pageIdTag = a.id,
            f.getPageTagLabel()),
            a.id != f.tpl.obj.id && (f.controlView.showBgTag = !1,
            f.saveScene(null , function() {
                v(b + 1),
                i.$$search = {},
                i.search("pageId", a.num)
            }),
            s.clear())
        }
        ,
        f.stopCopy = function() {
            copied = !1
        }
        ,
        f.getOriginPageName = function(a) {
            A = a.name
        }
        ,
        f.getPageNames = function() {
            var a = g.sceneId;
            j.getPageNames(a).then(function(a) {
                f.pages = a.data.list,
                b.forEach(f.pages, function(a, b) {
                    a.name || (a.name = "第" + (b + 1) + "页")
                }),
                v(i.search().pageId ? i.search().pageId : f.pages[0].num)
            })
        }
        ,
        f.getPageNames(),
        f.editableStatus = [],
        f.savePageNames = function(a, b) {
            a.name || (a.name = "第" + (b + 1) + "页"),
            f.tpl.obj.name = a.name,
            A != a.name && j.savePageNames(f.tpl.obj).then(function(a) {
                q.pushForCurrentRoute("page.change.success", "notify.success")
            })
        }
        ,
        f.removeScratch = function(a) {
            a.stopPropagation(),
            f.tpl.obj.properties = null 
        }
        ,
        f.$on("text.click", function(a, b) {
            $("#btn-toolbar").remove(),
            $("body").append(d("<toolbar></toolbar>")(f));
            var e = $(b).offset().top;
            c(function() {
                $("#btn-toolbar").css("top", e - 50),
                $("#btn-toolbar").show(),
                $("#btn-toolbar").bind("click mousedown", function(a) {
                    a.stopPropagation()
                }),
                $(b).wysiwyg_destroy(),
                $(b).wysiwyg(),
                b.focus()
            })
        }),
        f.updatePosition = function(a) {
            var b, c, d = f.tpl.obj.elements, 
            e = [];
            for (c = 0; c < d.length; c++)
                if ("3" == d[c].type) {
                    d[c].num = 0,
                    e.push(d[c]),
                    d.splice(c, 1);
                    break
                }
            for (b = 0; b < a.length; b++)
                for (c = 0; c < d.length; c++)
                    if (d[c].num == a[b]) {
                        d[c].num = b + 1,
                        e.push(d[c]),
                        d.splice(c, 1);
                        break
                    }
            f.tpl.obj.elements = e
        }
        ,
        f.updateEditor = function() {
            $("#nr").empty(),
            j.templateEditor.parse({
                def: f.tpl.obj,
                appendTo: "#nr",
                mode: "edit"
            }),
            d($("#nr"))(f)
        }
        ;
        var E = !1;
        f.saveScene = function(a, c) {
            if (!E) {
                if (f.sceneSetting.showFlag)
                    return void f.sceneSetting.saveSceneSetting().then(function() {
                        f.saveScene(a, c)
                    });
                if (E = !0,
                z == JSON.stringify(f.tpl))
                    return c && c(),
                    a && (!f.tpl.obj.scene.publishTime || f.tpl.obj.scene.updateTime > f.tpl.obj.scene.publishTime ? w() : q.pushForCurrentRoute("scene.save.success.published", "notify.success")),
                    void (E = !1);
                "" === f.tpl.obj.scene.name && (f.tpl.obj.scene.name = y),
                f.tpl.obj.scene.name = f.tpl.obj.scene.name.replace(/(<([^>]+)>)/gi, ""),
                j.getSceneObj().obj.scene.bgAudio && (f.tpl.obj.scene.bgAudio = j.getSceneObj().obj.scene.bgAudio),
                j.resetCss(),
                j.saveScene(f.tpl.obj).then(function() {
                    E = !1,
                    f.tpl.obj.scene.updateTime = (new Date).getTime(),
                    z = b.toJson(f.tpl),
                    x && (j.recordTplUsage(x),
                    x = null ),
                    c && c(),
                    a && w()
                }, function() {
                    E = !1
                })
            }
        }
        ,
        f.publishScene = function() {
            return f.sceneSetting.showFlag ? void f.sceneSetting.saveSceneSetting().then(function() {
                f.publishScene()
            }) : f.tpl.obj.scene.publishTime && f.tpl.obj.scene.updateTime <= f.tpl.obj.scene.publishTime && z == b.toJson(f.tpl) ? void i.path("my/scene/" + f.sceneId) : void f.saveScene(null , function() {
                j.publishScene(f.tpl.obj.sceneId).then(function(a) {
                    a.data.success && (q.pushForNextRoute("scene.publish.success", "notify.success"),
                    i.path("my/scene/" + f.sceneId))
                })
            })
        }
        ,
        
        f.test0100 = function() {
            window.location.href = "http://localhost/index.php?c=view&id=8831289&preview=preview";
        }
        ,
        
        f.exitScene = function() {
            JSON.parse(z);
            i.$$search = {},
            z == b.toJson(f.tpl) ? i.path("main") : m.openConfirmDialog({
                msg: "是否保存更改内容？",
                confirmName: "保存",
                cancelName: "不保存"
            }, function() {
                f.saveScene(),
                i.path("main")
            }, function() {
                i.path("main")
            })
        }
        ,
        f.duplicatePage = function() {
            f.saveScene(null , function() {
                v(f.pageNum, !1, !0)
            })
        }
        ,
        f.insertPage = function() {
            f.saveScene(null , function() {
                v(f.pageNum, !0, !1)
            }),
            $("#pageList").height() >= 360 && c(function() {
                var a = document.getElementById("pageList");
                a.scrollTop = a.scrollHeight
            }, 200)
        }
        ,
        f.deletePage = function(a, isMy) {
            if (a.stopPropagation(),
            !f.loading) {
                for (f.loading = !0,
                f.action = !1,
                p = 0; p < f.tpl.obj.elements.length; p++) {
                    var b = f.tpl.obj.elements;
                    5 == b[p].type.toString()[0] && (f.action = !0)
                }
                f.action === !0 ? m.openConfirmDialog({
                    msg: "确定删除此页，将同时删除该场景已收集的数据?"
                }, function() {
                    F()
                }) : F()
            }
        }
        ;
        var F = function() {
            j.deletePage(f.tpl.obj.id).then(function() {
                f.loading = !1,
                i.$$search = {},
                f.pages.length == f.pageNum ? (f.pages.pop(),
                i.search("pageId", --f.pageNum),
                v(f.pageNum, !1, !1)) : (f.pages.splice(f.pageNum - 1, 1),
                i.search("pageId", f.pageNum),
                v(f.pageNum, !1, !1))
            }, function() {
                f.loading = !1
            })
        }
        ;
        f.removeBG = function(a) {
            a.stopPropagation();
            var b, c = f.tpl.obj.elements;
            for (b = 0; b < c.length; b++)
                if (3 == c[b].type) {
                    c.splice(b, 1);
                    var d;
                    for (d = b; d < c.length; d++)
                        c[d].num--;
                    break
                }
            e.$broadcast("remove.scene.bg")
        }
        ,
        f.removeBGAudio = function(a) {
            a.stopPropagation(),
            f.tpl.obj.scene.bgAudio = null 
        }
        ,
        $(".scene_title").on("paste", function(a) {
            a.preventDefault();
            var b = (a.originalEvent || a).clipboardData.getData("text/plain") || prompt("Paste something..");
            document.execCommand("insertText", !1, b)
        }),
        f.myName = [{
            name: "我的"
        }],
        f.myCompany = [{
            name: "企业"
        }],
        f.creatCompanyTemplate = function() {
            var a = $.extend(!0, {}, f.tpl.obj);
            if (delete a.scene,
            e.user) {
                var b = parseInt(e.user.companyTplId, 10);
                b ? a.sceneId = b : e.companySceneId ? a.sceneId = e.companySceneId : a.sceneId = null ,
                j.saveCompanyTpl(a).then(function(a) {
                    a.data.success && (q.pushForCurrentRoute("companytpl.setting.success", "notify.success"),
                    e.companySceneId = a.data.obj,
                    f.getPageTplsByCompanyType())
                })
            } else
                f.myCompanyTpls = []
        }
        ;
        var G = null ;
        f.getPageTplsByCompanyType = function() {
            if (f.myCompany[0].active = !0,
            !G)
                if (e.companySceneId)
                    G = e.companySceneId;
                else {
                    var a = parseInt(e.user.companyTplId, 10);
                    a && (G = e.companySceneId = a)
                }
            G ? j.previewScene(G).then(function(a) {
                f.myCompanyTpls = a.data.list
            }) : f.myCompanyTpls = []
        }
        ,
        f.creatMyTemplate = function() {
            var a = $.extend(!0, {}, f.tpl.obj);
            if (delete a.scene,
            e.user) {
                var b = JSON.parse(e.user.property);
                b && b.myTplId ? a.sceneId = b.myTplId : e.mySceneId ? a.sceneId = e.mySceneId : a.sceneId = null ,
                j.saveMyTpl(a).then(function(a) {
                    q.pushForCurrentRoute("mytpl.setting.success", "notify.success");
                    e.mySceneId = a.data.obj,
                    f.getPageTplsByMyType()
                })
            } else
                f.myPageTpls = []
        }
        ;
        var H = null ;
        f.getPageTplsByMyType = function() {
            if (f.myName[0].active = !0,
            !H)
                if (e.mySceneId)
                    H = e.mySceneId;
                else {
                    var a = JSON.parse(e.user.property);
                    a && a.myTplId && (H = e.mySceneId = a.myTplId)
                }
            H ? j.previewScene(H).then(function(a) {
                f.myPageTpls = a.data.list
            }) : f.myPageTpls = []
        }
        ,
        f.$on("myPageList.update", function(a, b, c, d) {
            if ("my-tpl" == b)
                for (p = 0; p < f.myPageTpls.length; p++)
                    f.myPageTpls[p].id == d && f.myPageTpls.splice(p, 1);
            if ("company-tpl" == b)
                for (p = 0; p < f.myCompanyTpls.length; p++)
                    f.myCompanyTpls[p].id == d && f.myCompanyTpls.splice(p, 1)
        }),
        f.$on("myPageList.delete", function(a, b, c) {
            "company-tpl" == b && 21 == e.user.type && (c.context.firstElementChild.outerHTML = "")
        });
        var I = function() {
            var a = "1" == f.type ? 3 : 4;
            f.childCatrgoryList && f.childCatrgoryList.length > a ? (f.otherCategory = f.childCatrgoryList.slice(a),
            f.childCatrgoryList = f.childCatrgoryList.slice(0, a)) : f.otherCategory = []
        }
          
        
        , 
        J = {};
        f.getPageTplsByType = function(a) {
            J[a] ? (f.childCatrgoryList = J[a],
            f.getPageTplTypestemp(f.childCatrgoryList[0].id, a),
            I()) : k.getPageTagLabel(a).then(function(b) {
                f.childCatrgoryList = J[a] = b.data.list,
                f.getPageTplTypestemp(f.childCatrgoryList[0].id, a),
                I()
            })
        }
        ;
        var K = {};
        f.getPageTagLabel = function(a) {
            K[a] ? (f.pageLabel = K[a],
            M()) : k.getPageTagLabel(a).then(function(b) {
                f.pageLabel = K[a] = b.data.list,
                M()
            })
        }
        ,
        f.pageLabelAll = [];
        var L, M = function(a) {
            k.getPageTagLabelCheck(f.pageIdTag).then(function(a) {
                L = a.data.list;
                for (var b = 0; b < f.pageLabel.length; b++) {
                    for (var c = {
                        id: f.pageLabel[b].id,
                        name: f.pageLabel[b].name
                    }, d = 0; d < L.length; d++) {
                        if (L[d].id === f.pageLabel[b].id) {
                            c.ischecked = !0;
                            break
                        }
                        c.ischecked = !1
                    }
                    f.pageLabelAll.push(c)
                }
            })
        }
        ;
        f.pageChildLabel = function() {
            var a, b = [];
            for (a = 0; a < f.pageLabelAll.length; a++)
                f.pageLabelAll[a].ischecked && b.push(f.pageLabelAll[a].id);
            k.updataChildLabel(b, f.pageIdTag).then(function() {
                alert("分配成功！"),
                h.reload()
            }, function() {})
        }
        ,
        f.getPageTplTypestemp = function(a, b) {
            k.getPageTplTypestemp(a, b).then(function(b) {
                if (f.categoryId = a,
                b.data.list && b.data.list.length > 0 ? f.pageTpls = b.data.list : f.pageTpls = [],
                f.otherCategory.length > 0) {
                    var c;
                    c = f.childCatrgoryList[0];
                    for (var d = 0; d < f.otherCategory.length; d++)
                        f.categoryId == f.otherCategory[d].id && (f.childCatrgoryList[0] = f.otherCategory[d],
                        f.otherCategory[d] = c)
                }
            })
        }
        ,
        f.getBigTab = function() {
            k.getPageTplTypes().then(function(a) {
                a.data.list && a.data.list.length > 0 ? f.pageTplTypes = a.data.list.splice(0, 3) : f.pageTplTypes = []
            }).then(function() {
                f.getPageTplsByType(f.pageTplTypes[0].value)
            })
        }
        ,
        f.getBigTab(),
        f.exitPageTplPreview = function() {
            $("#nr").empty(),
            j.templateEditor.parse({
                def: f.tpl.obj,
                appendTo: "#nr",
                mode: "edit"
            }),
            e.$broadcast("dom.changed")
        }
        ,
        f.insertPageTpl = function(a) {
            f.loading = !0;
            var c = function(a) {
                j.getSceneTpl(a).then(function(a) {
                    f.loading = !1,
                    x = a.data.obj.id,
                    f.tpl.obj.elements = j.getElements(),
                    $("#nr").empty(),
                    r.addPageHistory(f.tpl.obj.id, f.tpl.obj.elements),
                    j.templateEditor.parse({
                        def: f.tpl.obj,
                        appendTo: "#nr",
                        mode: "edit"
                    }),
                    b.forEach(f.tpl.obj.elements, function(a, b) {
                        3 == a.type && (f.controlView.showBgTag = !0,
                        f.currentBgDef = a)
                    }),
                    e.$broadcast("dom.changed")
                }, function() {
                    f.loading = !1
                })
            }
            ;
            f.tpl.obj.elements && f.tpl.obj.elements.length > 0 ? m.openConfirmDialog({
                msg: "页面模板会覆盖编辑区域已有组件，是否继续？",
                confirmName: "是",
                cancelName: "取消"
            }, function() {
                c(a)
            }) : c(a)
        }
        ,
        f.chooseThumb = function() {
            l.open({
                windowClass: "console img_console",
                templateUrl: "scene/console/bg.tpl.html",
                controller: "BgConsoleCtrl",
                resolve: {
                    obj: function() {
                        return {
                            fileType: "0"
                        }
                    }
                }
            }).result.then(function(a) {
                f.tpl.obj.properties || (f.tpl.obj.properties = {}),
                f.tpl.obj.properties.thumbSrc = a.data
            }, function() {
                f.tpl.obj.properties.thumbSrc = null 
            })
        }
        ,
        $(a).bind("beforeunload", function() {
            return "请确认您的场景已保存"
        }),
        f.$on("$destroy", function() {
            $(a).unbind("beforeunload"),
            r.clearHistory(),
            j.setCopy(!1),
            utilPictures.clearInterval()
        }),
        f.sortableOptions = {
            placeholder: "ui-state-highlight ui-sort-position",
            containment: "#containment",
            update: function(a, b) {
                var c = b.item.sortable.dropindex + 1
                  
                
                , 
                d = f.pages[b.item.sortable.index].id;
                f.saveScene(null , function() {
                    j.changePageSort(c, d).then(function(a) {
                        v(c, !1, !1, !0),
                        i.$$search = {},
                        i.search("pageId", c),
                        f.pageNum = c
                    })
                })
            }
        },
        f.$on("history.changed", function() {
            f.canBack = r.canBack(f.tpl.obj.id),
            f.canForward = r.canForward(f.tpl.obj.id)
        }),
        f.back = function() {
            j.historyBack()
        }
        ,
        f.forward = function() {
            j.historyForward()
        }
        ,
        f.sceneSetting = {
            showFlag: !1
        },
        f.settingScene = function() {
            f.sceneSetting.showFlag = !0
        }
        ,
        "show" == i.search().openSetting && c(function() {
            f.sceneSetting.showFlag = !0
        }, 100),
        f.$on("show.edit.bg", function(a, b) {
            f.controlView.showBgTag = !0,
            f.currBgSrc = b
        }),
        f.showEditBgPanel = function() {
            e.$broadcast("show.editbg.panel")
        }
        ,
        f.gridGuideSetting = {
            showFlag: !1
        },
        f.replaceBg = function(a) {
            f.$broadcast("hide.editbg.panel"),
            j.openBgModal(a),
            $("#nr").find(".wrapper-background").css({
                animation: "",
                "animation-fill-mode": ""
            })
        }
    }
    ]).directive("changeColor", function() {
        return {
            link: function(a, b, c) {
                b.bind("click", function() {
                    $(b).addClass("current")
                })
            }
        }
    }).directive("thumbTpl", ["sceneService", "ModalService", function(a, b) {
        return {
            scope: {
                myTpl: "="
            },
            replace: !1,
            template: '<div class="delete-element" ng-click="deleteMyTpl($event)" title="删除此模板"><span class="eqf-no"></span></div>',
            link: function(c, d, e) {
                c.$emit("myPageList.delete", e.id, d),
                c.deleteMyTpl = function(f) {
                    f.stopPropagation(),
                    b.openConfirmDialog({
                        msg: "确定删除此模板?"
                    }, function() {
                        a.deletePage(c.myTpl.id, 1).then(function() {
                            c.$emit("myPageList.update", e.id, d, c.myTpl.id)
                        }, function(a) {
                            alert("服务器异常!")
                        })
                    })
                }
                ,
                $('<div class = "tmp-bg"></div>').appendTo(d),
                a.templateEditor.parse({
                    def: c.myTpl,
                    appendTo: d,
                    mode: "view"
                }),
                $(".edit_area", d).css("transform", "scale(0.25) translateX(-480px) translateY(-729px)")
            }
        }
    }
    ]).directive("gridGuideSetting", ["gridGuide", function(a) {
        return {
            scope: !0,
            template: '<div class="grid-guide-setting">\n    <div class="setting-group">\n        <span class="title">显示网格</span>\n        <div class="setting-choice">\n            <div class="btn-group">\n                <label class="btn btn-setting" ng-model="config.gridState" btn-radio="\'show\'">开启</label>\n                <label class="btn btn-setting" ng-model="config.gridState" btn-radio="\'hide\'">关闭</label>\n            </div>\n        </div>\n    </div>\n    <div class="setting-group">\n        <span class="title">网格颜色</span>\n        <div class="setting-choice">\n            <a class="color-picker" ng-style="{backgroundColor: grid.color}" ng-model="grid.color" colorpicker="rgba" ></a>\n            <input class="color-picker-input" ng-model="grid.color" type="text" />\n        </div>\n    </div>\n    <div class="setting-group">\n        <span class="title">智能参考</span>\n        <div class="setting-choice">\n            <div class="btn-group">\n                <label class="btn btn-setting" ng-model="config.guideState" btn-radio="\'enable\'">开启</label>\n                <label class="btn btn-setting" ng-model="config.guideState" btn-radio="\'disable\'">关闭</label>\n            </div>\n        </div>\n    </div>\n    <div class="setting-group">\n        <span class="title">吸附效果</span>\n        <div class="setting-choice">\n            <div class="btn-group">\n                <label class="btn btn-setting" ng-model="config.snapState" btn-radio="\'enable\'">开启</label>\n                <label class="btn btn-setting" ng-model="config.snapState" btn-radio="\'disable\'">关闭</label>\n            </div>\n        </div>\n    </div>\n    <div class="btn-contain btn-small">\n        <button class="btn btn-main" ng-click="gridGuideSetting.showFlag = false">关闭</button>\n    </div>\n</div>',
            controller: ["$scope", function(b) {
                b.grid = a.grid,
                b.guide = a.guide,
                b.config = {
                    gridState: "show",
                    guideState: "enable",
                    snapState: "enable"
                },
                b.$watch("config.gridState", function(a) {
                    "show" === a ? (b.$parent.gridGuideSetting.isGridEnabled = !0,
                    b.grid.show()) : "hide" === a && (b.$parent.gridGuideSetting.isGridEnabled = !1,
                    b.grid.hide())
                }),
                b.$watch("grid.color", function(a) {
                    a && b.grid.paint()
                }),
                b.$watch("config.guideState", function(a) {
                    "enable" === a ? b.guide.options.enabled = !0 : "disable" === a && (b.guide.options.enabled = !1)
                }),
                b.$watch("config.snapState", function(a) {
                    "enable" === a ? b.guide.options.snap = !0 : "disable" === a && (b.guide.options.snap = !1)
                })
            }
            ]
        }
    }
    ]),
    b.module("scene.create.new", ["services.scene"]),
    b.module("scene.create.new").controller("SceneNewCtrl", ["$scope", "$location", "sceneService", "items", "ModalService", function(a, c, d, e, f) {
        a.scene = {
            name: ""
        },
        e && (a.scene.name = e.name),
        d.getSceneType().then(function(c) {
            if (a.scene.types = c.data.list,
            e) {
                var d = !0;
                b.forEach(a.scene.types, function(b, f) {
                    if (d) {
                        var g = "" + e.type;
                        b.value === g ? (a.scene.type = b,
                        d = !1) : a.scene.type = c.data.list[0]
                    }
                })
            } else
                a.scene.type = c.data.list[0]
        }),
        a.create = function() {
            if ("" === a.scene.name.trim())
                return $("input.name").focus(),
                void (a.authError = "请输入场景名称");
            var b = j(a.scene.name.trim());
            if (b > 48)
                return $("input.name").addClass("error"),
                $("input.name").change(function() {
                    $(this).removeClass("error")
                }),
                void (a.authError = "场景名称不能超过48个字符或24个汉字");
            if (e) {
                var g = {
                    id: e.id,
                    name: a.scene.name,
                    type: a.scene.type.value,
                    pageMode: a.scene.pageMode.id,
                    price: e.price
                };
                d.createByTpl(g).then(function(a) {
                    if (a.data.code == 1006) {
                        alert("抱歉您的" + a.data.msg + "次创建场景次数已经用完，请联系管理员！")
                        return false;
                    }
                    200 == a.data.code ? (c.path("scene/create/" + a.data.obj),
                    c.search("pageId", 1)) : f.openMsgDialog({
                        msg: a.data.msg
                    })
                }, function(a) {})
            } else
                d.createBlankScene(a.scene.name, a.scene.type.value, a.scene.pageMode.id).then(function(a) {
                    c.path("scene/create/" + a.data.obj),
                    c.search("pageId", 1)
                });
            a.$close()
        }
        ,
        a.cancel = function() {
            a.$dismiss()
        }
        ,
        a.pagemodes = [{
            id: 2,
            name: "上下翻页"
        }, {
            id: 1,
            name: "左右翻页"
        }],
        a.scene.pageMode = a.pagemodes[0]
    }
    ]),
    function() {
        b.module("create.userGuide", []).controller("CreateUserGuideCtrl", ["$rootScope", "$scope", function(c, d) {
            if (a.localStorage) {
                var e = JSON.parse(localStorage.getItem("createUserGuide"));
                e && e[c.user.id] ? d.firstLogin = !1 : (d.firstLogin = !0,
                e = e || {},
                e[c.user.id] = 1,
                localStorage.setItem("createUserGuide", JSON.stringify(e)))
            }
            d.myInterval = -1,
            d.userGuideSlides = [{
                image: CLIENT_CDN + "assets/images/scene/user-guide1.png"
            }, {
                image: CLIENT_CDN + "assets/images/scene/user-guide2.png"
            }, {
                image: CLIENT_CDN + "assets/images/scene/user-guide3.png"
            }, {
                image: CLIENT_CDN + "assets/images/scene/user-guide4.png"
            }, {
                image: CLIENT_CDN + "assets/images/scene/user-guide5.png"
            }, {
                image: CLIENT_CDN + "assets/images/scene/user-guide6.png"
            }],
            d.close = function() {
                d.firstLogin = !1
            }
            ,
            d.currentIndex = 0;
            var f = d.$watch("userGuideSlides", function() {
                b.forEach(d.userGuideSlides, function(a, b) {
                    a.active && (d.currentIndex = b)
                })
            }, !0);
            d.$on("$destroy", f)
        }
        ])
    }(),
    b.module("scene.edit.bg", ["services.scene", "services.history"]),
    b.module("scene.edit.bg").controller("editBgCtrl", ["$scope", "$rootScope", "sceneService", "historyService", function(a, b, c, d) {
        a.cropBg = function(e) {
            a.$broadcast("hide.editbg.panel");
            var f = {
                type: 3,
                properties: {
                    src: e.properties.imgSrc
                }
            };
            c.openCropModal(f, function(c) {
                b.$broadcast("scene.bg.replace", {
                    type: "imgSrc",
                    src: c.src
                }, e),
                e.properties.imgSrc = c.src,
                d.addPageHistory(e.pageId, a.tpl.obj.elements)
            }, function() {})
        }
        ,
        a.scaleUpBg = function(b) {
            b || (b = {}),
            a.$broadcast("hide.bgeffect.panel"),
            b.effect = {
                type: "scaleUp",
                duration: 1,
                blurSize: 5
            }
        }
        ,
        a.scaleDownBg = function(b) {
            b || (b = {}),
            a.$broadcast("hide.bgeffect.panel"),
            b.effect = {
                type: "scaleDown",
                duration: 1,
                blurSize: 5
            }
        }
        ,
        a.blurBg = function(b) {
            b || (b = {}),
            a.$broadcast("hide.bgeffect.panel"),
            b.effect = {
                type: "blur",
                duration: 1,
                blurSize: 5
            }
        }
        ,
        a.sharpBg = function(b) {
            b || (b = {}),
            a.$broadcast("hide.bgeffect.panel"),
            b.effect = {
                type: "sharp",
                duration: 1,
                sharpSize: 5
            }
        }
        ,
        a.removeBgEffect = function(b, c) {
            c.stopPropagation(),
            a.currentBgDef.effect = null 
        }
        ,
        a.showBgEffect = function() {
            a.$broadcast("show.bgeffect.panel")
        }
    }
    ]).directive("switchDisplay", function() {
        return {
            restrict: "EA",
            link: function(a, b, c) {
                var d = $(".manage-bg");
                a.$on("show.editbg.panel", function(a) {
                    d.show()
                }),
                a.$on("hide.editbg.panel", function(a) {
                    d.hide()
                }),
                a.$on("show.bgeffect.panel", function(a) {
                    $(".bg-effect").show()
                }),
                a.$on("hide.bgeffect.panel", function(a) {
                    $(".bg-effect").hide()
                });
                var e;
                $("#editBG").on("click", function() {
                    $(".content").mousemove(function(b) {
                        e = $(b.srcElement || b.target),
                        (b.pageX < d.offset().left - 100 || b.pageX > d.offset().left + d.width() + 100 || b.pageY < d.offset().top - 100 || b.pageY > d.offset().top + d.height() + 100) && !$(e).is(".bg-effect,.bg-effect *") && (a.$apply(),
                        d.hide(),
                        $(".bg-effect").hide(),
                        $(this).unbind("mousemove"))
                    })
                })
            }
        }
    }),
    function() {
        function a(a, b, c, d, e, f) {
            function g(d, f) {
                function g() {
                    h(j)
                }
                d.$on("element.delete", function() {
                    j = c.getElements();
                    for (var a = 0, b = j.length; b > a; a++) {
                        var d = $("#nr").find("#inside_" + j[a]).attr("ctype");
                        if ("5" == d.charAt(0) || "a" == d || "r" == d || "c" == d)
                            return void e.openConfirmDialog({
                                msg: "将删除已收集的数据!",
                                confirmName: "删除",
                                cancelName: "取消"
                            }, g)
                    }
                    h(j)
                }),
                d.$on("element.selectall", function() {
                    i()
                }),
                d.$on("scene.bg.replace", function(b, c, e) {
                    var f = $("#nr .edit_area").parent();
                    d.currentBgDef = e;
                    var g = $(".wrapper-background").get(0);
                    if (g || (g = document.createElement("div"),
                    $(g).prependTo(f).addClass("wrapper-background").css({
                        position: "absolute",
                        width: "100%",
                        height: "100%",
                        backgroundSize: "cover",
                        backgroundPosition: "50% 50%"
                    })),
                    "imgSrc" == c.type) {
                        var h = c.src;
                        g.style.backgroundImage = "url(" + PREFIX_FILE_HOST + h + ")",
                        e.properties.bgColor = null ,
                        e.properties.imgSrc = h,
                        a.$broadcast("show.edit.bg", h)
                    } else
                        "backgroundColor" == c.type && (g.style.backgroundImage = "none",
                        g.style.backgroundColor = c.color,
                        e.properties.imgSrc = null ,
                        e.properties.bgColor = c.color,
                        a.$broadcast("show.edit.bg"))
                }),
                d.$on("remove.scene.bg", function(a) {
                    $(".wrapper-background").css({
                        backgroundColor: "transparent",
                        backgroundImage: "none"
                    }),
                    d.controlView.showBgTag = !1
                }),
                d.$on("delete.random.elem", function(a, c) {
                    "n" == k[c].type && ($("#nr").find("#inside_" + c).remove(),
                    b.deleteElement(c))
                })
            }
            function h(e) {
                var g = b.getSceneObj()
                  
                
                , 
                h = b.getElementsMap();
                utilTrigger.getHandleType();
                d.addPageHistory(g.obj.id, g.obj.elements),
                $.each(e, function(a, c) {
                    f.resetTrigger(parseInt(c, 10)),
                    $("#nr").find("#inside_" + c).remove(),
                    b.deleteElement(c)
                }),
                $.each(h, function(a, b) {
                    f.clearTrigger(a);
                    var c = f.getTrigger(a);
                    c ? b.trigger = c : delete b.trigger
                }),
                d.addPageHistory(g.obj.id, g.obj.elements),
                c.clearElements(),
                a.$broadcast("hideStylePanel"),
                $("#popMenu").hide()
            }
            function i() {
                c.clearElements();
                var a = $("#nr").find("ul").find("li");
                a.children(".bar").show(),
                a.each(function(a, b) {
                    c.addElement($(b).attr("id").split("_")[1])
                })
            }
            var j, k = b.getElementsMap();
            return {
                restrict: "EA",
                link: g
            }
        }
        b.module("scene.edit.common", ["services.scene", "services.select", "services.history"]).directive("editCommon", ["$rootScope", "sceneService", "selectService", "historyService", "ModalService", "triggerService", a])
    }(),
    function() {
        function a(a, b, c, d) {
            function e(c, e, f, g) {
                var h = $(document);
                c.$on("$destroy", function() {
                    h.unbind("keydown")
                });
                var i, j = {
                    deltaX: 0,
                    deltaY: 0
                };
                h.unbind("keydown").keydown(function(e) {
                    if (8 == e.keyCode || 46 == e.keyCode) {
                        if ($(".modal-dialog").length || $("#pageList").find("input").is(":focus"))
                            return;
                        d.getElements().length && (e.preventDefault(),
                        a.$broadcast("element.delete"))
                    }
                    if ((37 == e.keyCode || 38 == e.keyCode || 39 == e.keyCode || 40 == e.keyCode) && (d.getElements().length && e.preventDefault(),
                    i || (i = !0,
                    g.compDragStart(j)),
                    37 == e.keyCode && (j.deltaX -= 1,
                    g.compDragMove(j)),
                    38 == e.keyCode && (j.deltaY -= 1,
                    g.compDragMove(j)),
                    39 == e.keyCode && (j.deltaX += 1,
                    g.compDragMove(j)),
                    40 == e.keyCode && (j.deltaY += 1,
                    g.compDragMove(j))),
                    (e.ctrlKey || e.metaKey) && 65 == e.keyCode) {
                        if ($(".modal-dialog").length)
                            return;
                        if (e.preventDefault(),
                        i)
                            return;
                        i = !0,
                        a.$broadcast("element.selectall")
                    }
                    if ((e.ctrlKey || e.metaKey) && 90 == e.keyCode && b.historyBack(),
                    (e.ctrlKey || e.metaKey) && 89 == e.keyCode && b.historyForward(),
                    (e.ctrlKey || e.metaKey) && 67 == e.keyCode) {
                        if ($(".modal-dialog").length)
                            return;
                        b.copyElement()
                    }
                    if ((e.ctrlKey || e.metaKey) && 86 == e.keyCode) {
                        if ($(".modal-dialog").length)
                            return;
                        b.getCopy() && b.pasteElement()
                    }
                    c.$apply()
                }).unbind("keyup").keyup(function(a) {
                    i = !1,
                    (j.deltaX || j.deltaY) && g.compDragEnd(j),
                    j.deltaX = 0,
                    j.deltaY = 0,
                    c.$apply()
                })
            }
            return {
                restrict: "A",
                link: e,
                require: "^multiCompDrag"
            }
        }
        b.module("scene.edit.keymap", ["services.scene", "services.history", "services.select"]).directive("editKeymap", ["$rootScope", "sceneService", "historyService", "selectService", a])
    }(),
    b.module("scene.edit.select", ["services.history", "services.scene"]).controller("selectCtrl", ["$scope", function(a) {
        a.pasteOpacity = .3,
        a.$on("select.more", function() {
            a.safeApply(function() {
                a.showSelectPanel = !0
            })
        }),
        a.$on("select.less", function() {
            a.safeApply(function() {
                a.showSelectPanel = !1
            })
        }),
        a.$on("copyState.update", function(b, c) {
            a.safeApply(function() {
                a.pasteOpacity = c ? 1 : .3
            })
        })
    }
    ]).directive("eqxAlignLeft", ["selectService", "sceneService", "historyService", function(a, b, c) {
        return {
            link: function(d, e) {
                var f = $(e);
                f.click(function() {
                    var e = 320
                      
                    
                    , 
                    f = []
                      
                    
                    , 
                    g = a.getElements();
                    $.each(g, function(a, b) {
                        var c = $("#nr").find("#inside_" + b)
                          
                        
                        , 
                        d = c.position();
                        f.push({
                            element: c,
                            position: d
                        });
                        var g = d.left;
                        e > g && (e = g)
                    }),
                    $.each(f, function(a, c) {
                        c.position.left = e,
                        c.element.css(c.position),
                        b.updateCompPosition("inside_" + g[a], c.position, !0)
                    });
                    var h = b.getSceneObj();
                    c.addPageHistory(h.obj.id, h.obj.elements),
                    d.$apply()
                })
            }
        }
    }
    ]).directive("eqxAlignHorizontalCenter", ["selectService", "sceneService", "historyService", function(a, b, c) {
        return {
            link: function(d, e) {
                var f = $(e);
                f.click(function() {
                    var e, f = 0, 
                    g = [], 
                    h = a.getElements();
                    $.each(h, function(a, b) {
                        var c = $("#nr").find("#inside_" + b)
                          
                        
                        , 
                        d = c.position();
                        g.push({
                            element: c,
                            position: d
                        });
                        var h = c.width();
                        h > f && (f = h,
                        e = d.left)
                    }),
                    $.each(g, function(a, c) {
                        c.position.left = e + f / 2 - c.element.width() / 2,
                        c.element.css(c.position),
                        b.updateCompPosition("inside_" + h[a], c.position, !0)
                    });
                    var i = b.getSceneObj();
                    c.addPageHistory(i.obj.id, i.obj.elements),
                    d.$apply()
                })
            }
        }
    }
    ]).directive("eqxAlignRight", ["selectService", "sceneService", "historyService", function(a, b, c) {
        return {
            link: function(d, e) {
                var f = $(e);
                f.click(function() {
                    var e = 320
                      
                    
                    , 
                    f = []
                      
                    
                    , 
                    g = a.getElements();
                    $.each(g, function(a, b) {
                        var c = $("#nr").find("#inside_" + b)
                          
                        
                        , 
                        d = c.position();
                        f.push({
                            element: c,
                            position: d
                        });
                        var g = 320 - (d.left + c.width());
                        e > g && (e = g)
                    }),
                    $.each(f, function(a, c) {
                        c.position.left = 320 - (c.element.width() + e),
                        c.element.css(c.position),
                        b.updateCompPosition("inside_" + g[a], c.position, !0)
                    });
                    var h = b.getSceneObj();
                    c.addPageHistory(h.obj.id, h.obj.elements),
                    d.$apply()
                })
            }
        }
    }
    ]).directive("eqxAlignTop", ["selectService", "sceneService", "historyService", function(a, b, c) {
        return {
            link: function(d, e) {
                var f = $(e);
                f.click(function() {
                    var e = 320
                      
                    
                    , 
                    f = []
                      
                    
                    , 
                    g = a.getElements();
                    $.each(g, function(a, b) {
                        var c = $("#nr").find("#inside_" + b)
                          
                        
                        , 
                        d = c.position();
                        f.push({
                            element: c,
                            position: d
                        });
                        var g = d.top;
                        e > g && (e = g)
                    }),
                    $.each(f, function(a, c) {
                        c.position.top = e,
                        c.element.css(c.position),
                        b.updateCompPosition("inside_" + g[a], c.position, !0)
                    });
                    var h = b.getSceneObj();
                    c.addPageHistory(h.obj.id, h.obj.elements),
                    d.$apply()
                })
            }
        }
    }
    ]).directive("eqxAlignVerticalCenter", ["selectService", "sceneService", "historyService", function(a, b, c) {
        return {
            link: function(d, e) {
                var f = $(e);
                f.click(function() {
                    var e, f = 0, 
                    g = [], 
                    h = a.getElements();
                    $.each(h, function(a, b) {
                        var c = $("#nr").find("#inside_" + b)
                          
                        
                        , 
                        d = c.position();
                        g.push({
                            element: c,
                            position: d
                        });
                        var h = c.height();
                        h > f && (f = h,
                        e = d.top)
                    }),
                    $.each(g, function(a, c) {
                        c.position.top = e + f / 2 - c.element.height() / 2,
                        c.element.css(c.position),
                        b.updateCompPosition("inside_" + h[a], c.position, !0)
                    });
                    var i = b.getSceneObj();
                    c.addPageHistory(i.obj.id, i.obj.elements),
                    d.$apply()
                })
            }
        }
    }
    ]).directive("eqxAlignBottom", ["selectService", "sceneService", "historyService", function(a, b, c) {
        return {
            link: function(d, e) {
                var f = $(e);
                f.click(function() {
                    var e = 320
                      
                    
                    , 
                    f = []
                      
                    
                    , 
                    g = a.getElements();
                    $.each(g, function(a, b) {
                        var c = $("#nr").find("#inside_" + b)
                          
                        
                        , 
                        d = c.position();
                        f.push({
                            element: c,
                            position: d
                        });
                        var g = 320 - (d.top + c.height());
                        e > g && (e = g)
                    }),
                    $.each(f, function(a, c) {
                        c.position.top = 320 - (c.element.height() + e),
                        c.element.css(c.position),
                        b.updateCompPosition("inside_" + g[a], c.position, !0)
                    });
                    var h = b.getSceneObj();
                    c.addPageHistory(h.obj.id, h.obj.elements),
                    d.$apply()
                })
            }
        }
    }
    ]).directive("eqxCopy", ["selectService", "sceneService", function(a, b) {
        return {
            link: function(a, c) {
                var d = $(c);
                d.click(function() {
                    b.copyElement()
                })
            }
        }
    }
    ]).directive("eqxPaste", ["sceneService", "historyService", function(a, b) {
        return {
            link: function(c, d) {
                var e = $(d);
                e.click(function() {
                    if (a.getCopy()) {
                        a.pasteElement();
                        var d = a.getSceneObj();
                        b.addPageHistory(d.obj.id, d.obj.elements),
                        c.$apply()
                    }
                })
            }
        }
    }
    ]).directive("eqxDeleteMore", ["$rootScope", function(a) {
        return {
            link: function(b, c) {
                var d = $(c);
                d.click(function() {
                    a.$broadcast("element.delete")
                })
            }
        }
    }
    ]),
    b.module("scene.edit.trigger", []).factory("triggerService", ["$rootScope", function(a) {
        function c(a, b, c, d, e) {
            var f = g(a, b, c, e).ids
              
            
            , 
            h = f.indexOf(d);
            h >= 0 || f.push(d)
        }
        function d(a, b, c, d, e) {
            var f = n[c];
            if (f && f.sends.length) {
                var h = g(a, b, c, e).ids
                  
                
                , 
                i = h.indexOf(d);
                0 > i || h.splice(i, 1)
            }
        }
        function e(b, c, d, e) {
            var f = j(b, d, e).ids
              
            
            , 
            g = f.indexOf(c);
            g >= 0 || (f.push(c),
            a.$broadcast("receive.element.update", b, c, d, e))
        }
        function f(b, c, d, e) {
            var f = j(b, d, e).ids
              
            
            , 
            g = f.indexOf(c);
            0 > g || (f.splice(g, 1),
            a.$broadcast("receive.element.update", b, c, d, e))
        }
        function g(a, b, c, d) {
            var e = h(a, c, d).handles
              
            
            , 
            f = k(e, b);
            if (f)
                return f;
            var g = {
                type: b,
                ids: []
            };
            return e.push(g),
            g
        }
        function h(a, b, c) {
            var d = i(b)
              
            
            , 
            e = d.sends
              
            
            , 
            f = l(e, c);
            if (f)
                return f;
            var g = {
                sendIndex: c,
                delay: 0,
                type: a,
                handles: []
            };
            return e.push(g),
            g
        }
        function i(a) {
            return n[a] || (n[a] = {
                sends: [],
                receives: []
            }),
            n[a]
        }
        function j(a, b, c) {
            var d = i(b)
              
            
            , 
            e = d.receives
              
            
            , 
            f = k(e, a);
            if (f)
                return f;
            var g = {
                type: a,
                ids: []
            };
            return e.push(g),
            g
        }
        function k(a, b) {
            for (var c = 0; c < a.length; c++)
                if (b == a[c].type)
                    return a[c];
            return null 
        }
        function l(a, b) {
            for (var c = 0; c < a.length; c++)
                if (b == a[c].sendIndex)
                    return a[c];
            return null 
        }
        var m = {}
          
        
        , 
        n = {};
        return m.getTrigger = function(a) {
            return n[a]
        }
        ,
        m.getReceiveIds = function(a, c, d) {
            if ("number" != typeof a || "number" != typeof c || "number" != typeof d)
                return [];
            var e = g(a, c, d).ids;
            return b.copy(e)
        }
        ,
        m.getSendIds = function(a, c) {
            if ("number" != typeof a || "number" != typeof c)
                return [];
            var d = j(a, c).ids;
            return b.copy(d)
        }
        ,
        m.setTrigger = function(a, b) {
            "number" == typeof a && "object" == typeof b && (n[a] = b)
        }
        ,
        m.addTrigger = function(a, b, d, f, g) {
            "number" == typeof a && "number" == typeof b && "number" == typeof d && "number" == typeof f && (c(a, b, d, f, g),
            e(b, d, f, g))
        }
        ,
        m.deleteTrigger = function(a, b, c, e, g) {
            "number" == typeof a && "number" == typeof b && "number" == typeof c && "number" == typeof e && (d(a, b, c, e, g),
            f(b, c, e, g))
        }
        ,
        m.clearTrigger = function(a) {
            var b = n[a];
            if (b) {
                for (var c = !1, d = !1, e = 0; e < b.sends.length; e++) {
                    if ("number" == typeof b.sends[e].sendIndex)
                        for (var f = 0; f < b.sends[e].handles.length; f++)
                            if (b.sends[e].handles[f].ids.length) {
                                c = !0;
                                break
                            }
                    if (c)
                        break
                }
                for (var g = 0; g < b.receives.length; g++)
                    if (b.receives[g].ids.length) {
                        d = !0;
                        break
                    }
                c || d || delete n[a]
            }
        }
        ,
        m.resetTrigger = function(a) {
            if ("number" == typeof a) {
                var b = utilTrigger.getSendType()
                  
                
                , 
                c = utilTrigger.getHandleType();
                for (var d in b)
                    for (var e in c) {
                        var f = b[d].value
                          
                        
                        , 
                        g = c[e].value
                          
                        
                        , 
                        h = j(g, a).ids;
                        h.length && $.each(h, function(b, c) {
                            for (var d = m.getTrigger(c).sends, e = 0; e < d.length; e++)
                                "undefined" == typeof d[e].sendIndex && d[e].hasOwnProperty("undefined") && (d.splice(e, 1),
                                e--);
                            var h = c;
                            $.each(d, function(b, c) {
                                var d = b;
                                $.each(c.handles, function(b, c) {
                                    c.value;
                                    if (c.ids.length) {
                                        var i = c.ids;
                                        for (e = 0; e < i.length; e++)
                                            i[e] == a && m.deleteTrigger(f, g, h, a, d)
                                    }
                                })
                            })
                        });
                        var i = m.getTrigger(a);
                        if (i && i.sends.length)
                            for (var k = 0; k < i.sends.length; k++)
                                "undefined" == typeof i.sends[k].sendIndex && triggerSends[k].hasOwnProperty("undefined") ? (i.sends.splice(k, 1),
                                k--) : (m.deleteTriggerBySendIndex(k, a),
                                i.sends.splice(k, 1),
                                k--)
                    }
            }
        }
        ,
        m.deleteTriggerBySendIndex = function(b, c) {
            var d = n[c];
            if (d && d.sends.length) {
                for (var e = 0; e < d.sends.length; e++)
                    "undefined" == typeof d.sends[e].sendIndex && triggerSends[e].hasOwnProperty("undefined") && (d.sends.splice(e, 1),
                    e--);
                var f = d.sends[b].type;
                $.each(d.sends[b].handles, function(d, e) {
                    var g = e.type;
                    e.ids.length && $.each(e.ids, function(d, e) {
                        m.deleteTrigger(f, g, c, e, b),
                        a.$broadcast("delete.random.elem", e)
                    })
                }),
                d.sends.splice(b, 1)
            }
        }
        ,
        m.getSend = h,
        m
    }
    ]),
    b.module("scene.pageeffect.fall", []),
    b.module("scene.pageeffect.fall").controller("fallEffectCtrl", ["$scope", function(a) {
        var c = a.properties;
        a.fallings = [{
            name: "福字",
            path: CLIENT_CDN + "assets/images/create/fallings/fuzi1.png",
            rotate: 180,
            vy: 3
        }, {
            name: "红包",
            path: CLIENT_CDN + "assets/images/create/fallings/hongbao2.png",
            rotate: 180,
            vy: 3
        }, {
            name: "绿枫叶",
            path: CLIENT_CDN + "assets/images/create/fallings/lvfengye.png",
            rotate: 180,
            vy: 3
        }, {
            name: "星星",
            path: CLIENT_CDN + "assets/images/create/fallings/xing.png",
            rotate: 180,
            vy: 3
        }, {
            name: "雪花",
            path: CLIENT_CDN + "assets/images/create/fallings/snow.png",
            rotate: 0,
            vy: 1
        }],
        c && c.fallingObject ? (a.controlView.effectType = "fallingObject",
        a.falling = c.fallingObject,
        b.forEach(a.fallings, function(b, c) {
            b.path == a.falling.src.path && (a.falling.src = b)
        })) : a.falling = {
            src: a.fallings[0],
            density: 2
        },
        a.$on("save.falling.effect", function() {
            c = {},
            c.fallingObject = a.falling,
            a.$close({
                properties: c,
                name: "落物"
            })
        })
    }
    ]),
    b.module("scene.pageeffect.finger", []),
    b.module("scene.pageeffect.finger").controller("fingerEffectCtrl", ["$scope", function(a) {
        var c = a.properties;
        a.fingerZws = [{
            name: "粉色指纹",
            path: CLIENT_CDN + "assets/images/create/fingers/zhiwen1.png"
        }, {
            name: "白色指纹",
            path: CLIENT_CDN + "assets/images/create/fingers/zhiwen2.png"
        }, {
            name: "蓝色指纹",
            path: CLIENT_CDN + "assets/images/create/fingers/zhiwen3.png"
        }],
        a.fingerBackgrounds = [{
            name: "粉红回忆",
            path: CLIENT_CDN + "assets/images/create/fingers/bg1.jpg"
        }, {
            name: "深蓝花纹",
            path: CLIENT_CDN + "assets/images/create/fingers/bg2.jpg"
        }, {
            name: "淡绿清新",
            path: CLIENT_CDN + "assets/images/create/fingers/bg3.jpg"
        }, {
            name: "深紫典雅",
            path: CLIENT_CDN + "assets/images/create/fingers/bg4.jpg"
        }, {
            name: "淡紫水滴",
            path: CLIENT_CDN + "assets/images/create/fingers/bg5.jpg"
        }, {
            name: "蓝白晶格",
            path: CLIENT_CDN + "assets/images/create/fingers/bg6.jpg"
        }, {
            name: "蓝色水滴",
            path: CLIENT_CDN + "assets/images/create/fingers/bg7.jpg"
        }, {
            name: "朦胧绿光",
            path: CLIENT_CDN + "assets/images/create/fingers/bg8.jpg"
        }, {
            name: "灰色金属",
            path: CLIENT_CDN + "assets/images/create/fingers/bg9.jpg"
        }],
        c && c.finger ? (a.controlView.effectType = "finger",
        a.finger = c.finger,
        b.forEach(a.fingerZws, function(b, c) {
            b.path == a.finger.zwImage.path && (a.finger.zwImage = b)
        }),
        b.forEach(a.fingerBackgrounds, function(b, c) {
            b.path == a.finger.bgImage.path && (a.finger.bgImage = b)
        })) : a.finger = {
            zwImage: a.fingerZws[0],
            bgImage: a.fingerBackgrounds[0]
        },
        a.$on("save.finger.effect", function() {
            c = {},
            c.finger = a.finger,
            a.$close({
                properties: c,
                name: "指纹"
            })
        })
    }
    ]),
    b.module("scene.pageeffect.fireworks", []),
    b.module("scene.pageeffect.fireworks").controller("fireWorksCtrl", ["$scope", function(a) {
        var b = a.properties;
        b && b.effect && "fireWorks" == b.effect.name && (a.controlView.effectType = "fireWorks",
        a.controlView.effectIndex = 5),
        a.$on("save.fireworks.effect", function() {
            b = {},
            b.effect = {
                name: "fireWorks"
            },
            a.$close({
                properties: b,
                name: "烟花"
            })
        })
    }
    ]),
    b.module("scene.pageeffect.money", []),
    b.module("scene.pageeffect.money").controller("moneyEffectCtrl", ["$scope", function(a) {
        var b = a.properties;
        b && b.effect && "money" == b.effect.name ? (a.controlView.effectType = "money",
        a.money = {
            tip: b.effect.tip
        }) : a.money = {
            tip: "握紧钱币，数到手抽筋吧！"
        },
        a.$on("save.money.effect", function() {
            b = {},
            b.effect = {
                name: "money",
                tip: a.money.tip
            },
            a.$close({
                properties: b,
                name: "数钱"
            })
        })
    }
    ]),
    b.module("scene.pageeffect.console", ["scene.pageeffect.scratch", "scene.pageeffect.finger", "scene.pageeffect.money", "scene.pageeffect.fall", "scene.pageeffect.snow", "scene.pageeffect.fireworks"]),
    b.module("scene.pageeffect.console").controller("pageEffectCtrl", ["$scope", "properties", function(a, b) {
        a.properties = b,
        a.controlView = {},
        a.effectList = [{
            type: "scratch",
            name: "涂抹",
            src: CLIENT_CDN + "assets/images/create/waterdrop.jpg"
        }, {
            type: "finger",
            name: "指纹",
            src: CLIENT_CDN + "assets/images/create/fingers/zhiwen1.png"
        }, {
            type: "money",
            name: "数钱",
            src: CLIENT_CDN + "assets/images/create/money_thumb1.jpg"
        }, {
            type: "fallingObject",
            name: "环境",
            src: CLIENT_CDN + "assets/images/create/falling.png"
        }, {
            type: "snowFly",
            name: "飘雪",
            src: CLIENT_CDN + "assets/images/create/snowfly.png"
        }, {
            type: "fireWorks",
            name: "烟花",
            src: CLIENT_CDN + "assets/images/create/fireworks.jpg"
        }],
        b || (b = {},
        a.controlView.effectType = "scratch",
        a.controlView.effectIndex = 0),
        a.selectEffect = function(b, c) {
            a.controlView.effectType = b.type,
            a.controlView.effectIndex = c
        }
        ,
        a.confirm = function() {
            "scratch" == a.controlView.effectType ? a.$broadcast("save.scratch.effect") : "finger" == a.controlView.effectType ? a.$broadcast("save.finger.effect") : "money" == a.controlView.effectType ? a.$broadcast("save.money.effect") : "fallingObject" == a.controlView.effectType ? a.$broadcast("save.falling.effect") : "snowFly" == a.controlView.effectType ? a.$broadcast("save.snow.effect") : "fireWorks" == a.controlView.effectType && a.$broadcast("save.fireworks.effect")
        }
        ,
        a.cancel = function() {
            a.$dismiss()
        }
    }
    ]),
    b.module("scene.pageeffect.scratch", []),
    b.module("scene.pageeffect.scratch").controller("scratchEffectCtrl", ["$scope", "$modal", "ModalService", function(a, c, d) {
        var e = a.properties;
        a.scratches = [{
            name: "水滴",
            path: CLIENT_CDN + "assets/images/create/waterdrop.jpg"
        }, {
            name: "细沙",
            path: CLIENT_CDN + "assets/images/create/sand.jpg"
        }, {
            name: "花瓣",
            path: CLIENT_CDN + "assets/images/create/flowers.jpg"
        }, {
            name: "金沙",
            path: CLIENT_CDN + "assets/images/create/goldsand.jpg"
        }, {
            name: "白雪",
            path: CLIENT_CDN + "assets/images/create/snowground.jpg"
        }, {
            name: "模糊",
            path: CLIENT_CDN + "assets/images/create/mohu.jpg"
        }, {
            name: "落叶",
            path: CLIENT_CDN + "assets/images/create/leaves.jpg"
        }, {
            name: "薄雾",
            path: CLIENT_CDN + "assets/images/create/smoke.png"
        }],
        a.percentages = [{
            id: 1,
            value: .15,
            name: "15%"
        }, {
            id: 2,
            value: .3,
            name: "30%"
        }, {
            id: 3,
            value: .6,
            name: "60%"
        }],
        e && (e.image || e.scratch) ? (a.controlView.effectType = "scratch",
        (e.image || e.scratch) && (e.scratch ? a.scratch = e.scratch : e.image && (a.scratch = {
            image: e.image,
            percentage: e.percentage
        },
        e.tip && (a.scratch.tip = e.tip)),
        b.forEach(a.scratches, function(b, c) {
            a.scratch.image.name == b.name && (a.scratch.image = b)
        }),
        b.forEach(a.percentages, function(b, c) {
            a.scratch.percentage.value == b.value && (a.scratch.percentage = b)
        }))) : a.scratch = {
            image: a.scratches[0],
            percentage: a.percentages[0]
        };
        var f = null ;
        a.openUploadModal = function() {
            f || (f = c.open({
                windowClass: "upload-console",
                templateUrl: "my/upload.tpl.html",
                controller: "UploadCtrl",
                resolve: {
                    category: function() {
                        return {
                            categoryId: "0",
                            fileType: "1",
                            scratch: "scratch"
                        }
                    }
                }
            }).result.then(function(b) {
                a.scratch.image.path = a.PREFIX_FILE_HOST + b,
                a.scratch.image.name = "",
                f = null 
            }, function() {
                f = null 
            }))
        }
        ,
        a.$on("save.scratch.effect", function() {
            e = {},
            e.scratch = a.scratch,
            a.$close({
                properties: e,
                name: "涂抹"
            })
        })
    }
    ]),
    b.module("scene.pageeffect.snow", []),
    b.module("scene.pageeffect.snow").controller("snowEffectCtrl", ["$scope", function(a) {
        var b = a.properties;
        b && b.effect && "snowFly" == b.effect.name && (a.controlView.effectType = "snowFly"),
        a.$on("save.snow.effect", function() {
            b = {},
            b.effect = {
                name: "snowFly"
            },
            a.$close({
                properties: b,
                name: "飘雪"
            })
        })
    }
    ]),
    b.module("scene", ["scene.create", "services.scene", "scene.create.new", "app.directives.addelement", "create.userGuide"]),
    b.module("scene").controller("SceneCtrl", ["$window", "$scope", "$rootScope", "$location", "sceneService", "$modal", "ModalService", "usercenterService", function(b, c, d, e, f, g, h, i) {
        c.PREFIX_FILE_HOST = PREFIX_FILE_HOST,
        c.PREFIX_CLIENT_HOST = PREFIX_HOST,
        c.isActive = "scene",
        c.scene = {
            type: null 
        },
        c.totalItems = 0,
        c.currentPage = 1,
        c.toPage = "",
        c.tabindex = 0,
        c.childcat = 0,
        c.order = "new";
        var j = 12
          
        
        , 
        k = 0;
        c.pageNoNum = 1,
        c.pageChanged = function(a) {
            return l.targetPage = a,
            c.pageNoNum = a,
            1 > a || a > c.totalItems / 11 + 1 ? void alert("此页超出范围") : void (1 == c.childcat ? c.getCompanyTpl(a, c.pageSizeList) : c.getPageTpls(1, l.sceneType, l.tagId, a, c.pageSizeList, c.order))
        }
        ,
        c.preview = function(b) {
            var c = PREFIX_HOST + "v-" + b;
            a.open(c, "_blank")
        }
        ,
        c.userXd = 0,
        i.getUserXd().then(function(a) {
            c.userXd = a.data.obj || 0
        }),
        c.createScene = function(a) {
            if (a && a.price) {
                var b = parseFloat(a.price) || 0;
                b && b > c.userXd ? h.openMsgDialog({
                    msg: '当前选择需要消耗秀点<font color="#ff6e6e">' + b + '</font>个<br/>秀点余额不足(<font color="#ff6e6e">' + (c.userXd || 0) + '</font>个)<span class="get-xd"><a href="?c=pay" target = "_blank">获取秀点</a></span>'
                }) : h.openConfirmDialog({
                    msg: '当前选择需要消耗秀点<font color="#ff6e6e">' + b + '</font>个<br/>秀点余额为<font color="#ff6e6e">' + (c.userXd || 0) + "</font>个"
                }, function() {
                    g.open({
                        windowClass: "login-container six-contain",
                        templateUrl: "scene/createNew.tpl.html",
                        controller: "SceneNewCtrl",
                        resolve: {
                            items: function() {
                                return a
                            }
                        }
                    })
                })
            } else
                g.open({
                    windowClass: "login-container six-contain",
                    templateUrl: "scene/createNew.tpl.html",
                    controller: "SceneNewCtrl",
                    resolve: {
                        items: function() {
                            return a
                        }
                    }
                })
        }
        ,
        d.tplId && i.getUserXd().then(function(a) {
            c.userXd = a.data.obj || 0
        }).then(function() {
            c.createScene(d.tplId)
        }).then(function() {
            d.tplId = null 
        }),
        c.getStyle = function(a) {
            return {
                "background-image": "url(" + PREFIX_FILE_HOST + a + ")"
            }
        }
        ,
        c.show = function(a) {
            console.log(a.target),
            $(a.target).children(".cc").css("display", "block")
        }
        ,
        c.getCompanyTpl = function(a, b) {
            c.childcat = 1;
            var d = 11;
            c.childCatrgoryList = [],
            f.getCompanyTpls(c.pageNoNum, d).then(function(a) {
                a.data.list && a.data.list.length > 0 ? (c.tpls = a.data.list,
                c.totalItems = a.data.map.count,
                c.currentPage = a.data.map.pageNo,
                c.allPageCount = a.data.map.count,
                c.toPage = "") : c.tpls = []
            })
        }
        ,
        f.getSceneType().then(function(a) {
            a.data.list && a.data.list.length > 0 ? c.pageTplTypes = a.data.list : c.pageTplTypes = []
        }).then(function() {}),
        c.tplnew = function(a) {
            c.order = a,
            l.orderby = a,
            l.tagId ? c.getPageTpls(null , l.sceneType, l.tagId, k, j, a) : c.getPageTpls(1)
        }
        ;
        var l = {
            sceneType: null ,
            tagId: "",
            orderby: "new",
            pageNo: "0",
            targetPage: ""
        }
          
        
        , 
        m = {};
        c.getPageTplsByType = function(a) {
            l.sceneType = a,
            c.childcat = a,
            c.categoryId = 0,
            m[a] ? (c.childCatrgoryList = m[a],
            c.childCatrgoryList.length && c.getPageTpls(1, l.sceneType, c.childCatrgoryList[0].id, k, j, c.order)) : f.getPageTplTypesTwo(a, a).then(function(b) {
                c.childCatrgoryList = m[a] = b.data.list,
                c.childCatrgoryList.length && c.getPageTpls(1, l.sceneType, c.childCatrgoryList[0].id, k, j, c.order)
            })
        }
        ,
        c.allpage = function(a) {
            l.sceneType = a,
            c.childcat = 0,
            c.getPageTpls(1),
            c.childCatrgoryList = []
        }
        ,
        c.freeTplChoice = "",
        c.freeTpl = function(a) {
            c.freeTplChoice = a,
            c.tplnew(c.order)
        }
        ,
        c.getPageTpls = function(a, b, d, e, g, h) {
            c.pageSizeList = 11,
            c.categoryId = d,
            l.tagId = d;
            var i = c.freeTplChoice ? c.freeTplChoice + "=1" : "";
            f.getPageTpls(a, b, d, e, c.pageSizeList, l.orderby, i).then(function(a) {
                a.data.list && a.data.list.length > 0 ? (c.tpls = a.data.list,
                c.totalItems = a.data.map.count,
                c.currentPage = a.data.map.pageNo,
                c.allPageCount = a.data.map.count,
                c.toPage = "") : c.tpls = []
            })
        }
        ,
        c.getPageTpls(1)
    }
    ]),
    function() {
        b.module("scene.userGuide", []).controller("SceneUserGuideCtrl", ["$rootScope", "$scope", function(b, c) {
            if (a.localStorage) {
                var d = JSON.parse(localStorage.getItem("sceneUserGuide"));
                d && d[b.user.id] ? c.firstLogin = !1 : (c.firstLogin = !0,
                d = d || {},
                d[b.user.id] = 1,
                localStorage.setItem("sceneUserGuide", JSON.stringify(d)))
            }
            c.currentGuideIndex = 0,
            c.guideLength = 5,
            c.showNextGuide = function() {
                c.currentGuideIndex += 1,
                c.guideLength == c.currentGuideIndex && (c.firstLogin = !1)
            }
        }
        ])
    }(),
    b.module("active1", ["services.show", "services.activity", "app.directives.addBanner"]),
    b.module("active1").controller("Active1Ctrl", ["$rootScope", "$http", "$scope", "showService", "activityService", "$location", "configSerService", function(a, b, c, d, e, f, g) {
        c.pageNo = 1,
        c.pageSize = 10,
        c.childCat = "active",
        c.join = function(a) {
            f.path("/show/active/" + a)
        }
        ,
        c.attend = function() {
            a.user ? f.path("/main") : c.openLogin()
        }
        ;
        var h = function(a) {
            e.getActiveList(1, null , a, c.pageSize),
            c.$on("activeList", function(a, b) {
                c.activeList = b.data.list,
                c.totalItems = b.data.map.count,
                c.currentPage = b.data.map.pageNo,
                c.allPageCount = b.data.map.count
            })
        }
        ;
        h(c.pageNo),
        c.pageChanged = function(a) {
            return 1 > a || a > c.totalItems / 10 + 1 ? void alert("此页超出范围") : void h(a)
        }
        ,
        c.pageCode = "active",
        g.getFriendLinks(c.pageCode).then(function(a) {
            c.friendLinks = a.data.list;
            //c.friendLinks.length > 16 && (c.friendLinks.length = 16)
        })
    }
    ]),
    b.module("activeXq", ["services.show", "services.activity", "app.directives.addBanner"]),
    b.module("activeXq").controller("ActiveXqCtrl", ["$rootScope", "$http", "$scope", "showService", "activityService", "$location", "$routeParams", "configSerService", function(a, b, c, d, e, f, g, h) {
        c.PREFIX_FILE_HOST = PREFIX_FILE_HOST,
        c.PREFIX_CLIENT_HOST = PREFIX_HOST,
        c.PREFIX_SERVER_HOST = PREFIX_URL,
        c.pageNo = 1,
        c.pageSize = 16,
        c.activeId = g.id,
        c.childCat = "active",
        c.join = function(a) {
            f.path("/show/active/" + a)
        }
        ,
        c.attend = function() {
            a.user ? f.path("/main") : c.openLogin()
        }
        ;
        var i = function() {
            e.activitySceneList(c.activeId, 1, c.pageNo, 4).then(function(a) {
                if (c.recSceneList = a.data.list,
                a.data.list)
                    for (var b = 0; b < c.recSceneList.length; b++)
                        c.recSceneList[b].headImg ? 0 === c.recSceneList[b].headImg.indexOf("http://") ? c.recSceneList[b].headImg = c.recSceneList[b].headImg : c.recSceneList[b].headImg = PREFIX_FILE_HOST + c.recSceneList[b].headImg : c.recSceneList[b].headImg = CLIENT_CDN + "assets/images/xiaotouxiang.png";
            })
        }
        ;
        i(c.activeId, 1, c.pageNo, 4);
        var j = function() {
            e.activitySceneList(c.activeId, null , c.pageNo, c.pageSize).then(function(a) {
                if (c.sceneList = a.data.list,
                a.data.list)
                    for (var b = 0; b < c.sceneList.length; b++)
                        c.sceneList[b].headImg ? 0 === c.sceneList[b].headImg.indexOf("http://") ? c.sceneList[b].headImg = c.sceneList[b].headImg : c.sceneList[b].headImg = PREFIX_FILE_HOST + c.sceneList[b].headImg : c.sceneList[b].headImg = CLIENT_CDN + "assets/images/xiaotouxiang.png"
            })
        }
        ;
        j(c.activeId, null , c.pageNo, c.pageSize),
        e.activityMes(c.activeId),
        c.$on("activeMes", function(a, b) {
            c.activeMes = b.data.obj
        }),
        c.pageChanged = function(a) {
            return 1 > a || a > c.totalItems / 16 + 1 ? void alert("此页超出范围") : void j(c.activeId, null , a, c.pageSize)
        }
        ,
        c.pageCode = "pro_" + c.activeId,
        h.getFriendLinks(c.pageCode).then(function(a) {
            c.friendLinks = a.data.list;
            //c.friendLinks.length > 16 && (c.friendLinks.length = 16)
        })
    }
    ]),
    b.module("category", ["services.show", "services.activity", "app.directives.addBanner"]),
    b.module("category").controller("CategoryCtrl", ["$rootScope", "$http", "$scope", "showService", "activityService", "$location", "$routeParams", function(a, b, c, d, e, f, g) {
        c.pageSize = 16,
        e.getActiveList(null , c.recommend, c.pageNo, 3),
        c.$on("activeList", function(a, b) {
            c.activeList = b.data.list
        });
        var h = g.id
          
        
        , 
        i = {};
        c.getCategoryTpl = function(a) {
            c.childCat = a,
            i[a] ? (c.childCatrgoryList = i[a],
            c.childCatrgoryList.length && (j.tagId = c.categoryId = c.childCatrgoryList[0].id,
            c.getPageTpls(null , c.childCatrgoryList[0].id))) : d.getPageTagLabel(a).then(function(b) {
                c.childCatrgoryList = i[a] = b.data.list,
                c.childCatrgoryList.length && (j.tagId = c.categoryId = c.childCatrgoryList[0].id,
                c.getPageTpls(null , c.childCatrgoryList[0].id))
            })
        }
        ,
        c.getCategoryTpl(h);
        var j = {
            sceneType: "",
            tagId: "",
            orderBy: null ,
            bizType: "",
            template: "",
            pageNo: "1",
            targetPage: ""
        };
        c.tplNew = function(a) {
            c.order = a,
            j.orderBy = a,
            c.getPageTpls(a, null , j.tagId, j.pageNo, c.pageSize)
        }
        ,
        c.getPageTpls = function(a, b) {
            b && (j.tagId = b),
            c.categoryId = j.tagId,
            d.getSceneList(j.orderBy, null , j.tagId, j.pageNo, c.pageSize),
            c.$on("sceneList", function(a, b) {
                c.tpls = b.list,
                c.totalItems = b.map.total,
                c.currentPage = b.map.pageNo,
                c.allPageCount = b.map.count;
                for (var d = 0; d < c.tpls.length; d++)
                    2 == c.tpls[d].isTemplate && (c.tpls[d].isTemplate = !0),
                    c.tpls[d].headImg ? 0 === c.tpls[d].headImg.indexOf("http://") ? c.tpls[d].headImg = c.tpls[d].headImg : c.tpls[d].headImg = PREFIX_FILE_HOST + c.tpls[d].headImg : c.tpls[d].headImg = CLIENT_CDN + "assets/images/xiaotouxiang.png"
            })
        }
        ,
        c.pageChanged = function(a) {
            return 1 > a || a > c.totalItems / 16 + 1 ? void alert("此页超出范围") : (j.pageNo = a,
            void c.getPageTpls(j.orderBy, null , j.tagId, a, c.pageSize))
        }
    }
    ]),
    b.module("nav", ["services.show"]),
    b.module("nav").controller("NavCtrl", ["$rootScope", "$http", "$scope", "showService", "$location", "$routeParams", function(c, d, e, f, g, h) {
        f.getSceneType().then(function(a) {
            a.data.list && a.data.list.length > 0 && (e.sceneType = a.data.list),
            b.forEach(e.sceneType, function(a) {
                a.value === h.id && (e.$parent.catName = a.name)
            })
        }),
        e.getCategoryPage = function(a, b) {
            g.path("show/category/" + a)
        }
        ;
        var i = null ;
        e.search = function(a) {
            i = a
        }
        ,
        e.submit = function() {
            g.path("show/search/" + i)
        }
        ,
        e.EnterPress = function(b, c) {
            var d = b || a.event;
            13 == d.keyCode && e.submit(c)
        }
    }
    ]),
    b.module("app.directives.addBanner", []).directive("slides2", ["configSerService", function(a) {
        return {
            restrict: "EA",
            link: function(b, c, d) {
                var e = $(c).find(".slides_container");
                a.getActivityBanner(d.id).then(function(a) {
                    for (var b = a.data.list, f = 0; f < b.length; f++) {
                        var g = $('<a href="' + b[f].url + '" style="display:block;" target="' + b[f].target + '"></a>');
                        g.append('<img src="' + b[f].path + '" width="' + d.width + '" height="' + d.height + '" alt="' + b[f].title + '">'),
                        e.append(g)
                    }
                    $(c).slides({
                        preload: !0,
                        play: 5e3,
                        pause: 2500,
                        hoverPause: !0
                    })
                })
            }
        }
    }
    ]),
    b.module("show", ["services.show", "services.activity", "app.directives.addBanner"]),
    b.module("show").controller("ShowCtrl", ["$rootScope", "$http", "$scope", "showService", "activityService", "$location", "configSerService", function(a, b, c, d, e, f, g) {
        c.PREFIX_FILE_HOST = PREFIX_FILE_HOST,
        c.PREFIX_CLIENT_HOST = PREFIX_HOST,
        c.PREFIX_SERVER_HOST = PREFIX_URL,
        c.pageNo = 1,
        c.pageSize = 16,
        c.recommend = 1,
        c.childCat = "index",
        e.getActiveList(null , c.recommend, c.pageNo, 3),
        c.$on("activeList", function(a, b) {
            c.activeList = b.data.list
        }),
        c.join = function(a) {
            f.path("/show/active/" + a)
        }
        ,
        d.getSceneList(null , c.recommend, null , c.pageNo, c.pageSize),
        c.$on("sceneList", function(a, b) {
            c.sceneList = b.list;
            for (var d = 0; d < c.sceneList.length; d++)
                2 === c.sceneList[d].isTemplate && (c.sceneList[d].isTemplate = !0),
                c.sceneList[d].headImg ? 0 === c.sceneList[d].headImg.indexOf("http://") ? c.sceneList[d].headImg = c.sceneList[d].headImg : c.sceneList[d].headImg = PREFIX_FILE_HOST + c.sceneList[d].headImg : c.sceneList[d].headImg = CLIENT_CDN + "assets/images/xiaotouxiang.png"
        }),
        c.userTpl = function(b) {
            f.path("/scene"),
            a.tplId = b
        }
        ,
        c.pageCode = "index",
        g.getFriendLinks(c.pageCode).then(function(a) {
            c.friendLinks = a.data.list;
            //c.friendLinks.length > 16 && (c.friendLinks.length = 16)
        })
    }
    ]),
    b.module("recommend", ["services.show"]),
    b.module("recommend").controller("RecommendCtrl", ["$rootScope", "$http", "$scope", "showService", function(a, b, c, d) {
        c.PREFIX_FILE_HOST = PREFIX_FILE_HOST,
        c.PREFIX_CLIENT_HOST = PREFIX_HOST,
        c.PREFIX_SERVER_HOST = PREFIX_URL,
        c.pageNo = 1,
        c.pageSize = 16,
        c.childCat = "recommend",
        c.order = null ;
        var e = function(a) {
            d.getSceneList(c.order, 1, null , a, c.pageSize),
            c.$on("sceneList", function(a, b) {
                c.recommendList = b.list,
                c.totalItems = b.map.total,
                c.currentPage = b.map.pageNo,
                c.allPageCount = b.map.total;
                for (var d = 0; d < c.recommendList.length; d++)
                    2 == c.recommendList[d].isTemplate && (c.recommendList[d].isTemplate = !0),
                    c.recommendList[d].headImg ? 0 === c.recommendList[d].headImg.indexOf("http://") ? c.recommendList[d].headImg = c.recommendList[d].headImg : c.recommendList[d].headImg = PREFIX_FILE_HOST + c.recommendList[d].headImg : c.recommendList[d].headImg = CLIENT_CDN + "assets/images/xiaotouxiang.png"
            })
        }
        ;
        e(c.pageNo),
        c.tplNew = function(a) {
            c.order = a,
            e(a, 1, null , c.pageNo, c.pageSize)
        }
        ,
        c.userTpl = function(b) {
            $location.path("/scene"),
            a.tplId = b
        }
        ,
        c.pageChanged = function(a) {
            return 1 > a || a > c.totalItems / 16 + 1 ? void alert("此页超出范围") : void e(a)
        }
    }
    ]),
    b.module("search", ["services.show", "services.activity", "app.directives.addBanner"]),
    b.module("search").controller("SearchCtrl", ["$rootScope", "$http", "$scope", "showService", "activityService", "$location", "$routeParams", function(b, c, d, e, f, g, h) {
        d.name = h.name,
        d.pageNo = 1,
        d.pageSize = 16,
        d.val = d.name,
        d.EnterPress = function(b, c) {
            var e = b || a.event;
            13 == e.keyCode && d.submit(c)
        }
        ,
        d.submit = function(a) {
            d.name = a,
            g.path("show/search/" + d.name)
        }
        ;
        var i = function(a, b, c) {
            e.search(a, b, c),
            d.$on("searchList", function(a, b) {
                d.searchList = b.list,
                d.totalItems = b.map.total,
                d.currentPage = b.map.pageNo;
                for (var c = 0; c < d.searchList.length; c++)
                    1 == d.searchList[c].isTemplate && (d.searchList[c].isTemplate = !0),
                    d.searchList[c].headImg ? 0 === d.searchList[c].headImg.indexOf("http://") ? d.searchList[c].headImg = d.searchList[c].headImg : d.searchList[c].headImg = PREFIX_FILE_HOST + d.searchList[c].headImg : d.searchList[c].headImg = CLIENT_CDN + "assets/images/xiaotouxiang.png"
            })
        }
        ;
        i(d.name, d.pageNo, d.pageSize),
        d.pageChanged = function(a) {
            return 1 > a || a > d.totalItems / 16 + 1 ? void alert("此页超出范围") : void i(d.name, a, d.pageSize)
        }
    }
    ]),
    b.module("services.activity", []).factory("activityService", ["$rootScope", "$http", function(a, b) {
        var c = {};
        return c.getActiveList = function(c, d, e, f) {
            var g = PREFIX_S1_URL + "/eqs/activity";
            return c && (g += /\?/.test(g) ? "&" : "?",
            g += "joinNum=" + c),
            d && (g += /\?/.test(g) ? "&" : "?",
            g += "recommend=" + d),
            e && (g += /\?/.test(g) ? "&" : "?",
            g += "pageNo=" + e),
            f && (g += /\?/.test(g) ? "&" : "?",
            g += "pageSize=" + f),
            b({
                withCredentials: !0,
                method: "GET",
                url: g
            }).then(function(b) {
                if (b.data.success) {
                    var c = b;
                    a.$broadcast("activeList", c)
                }
            })
        }
        ,
        c.activitySceneList = function(a, c, d, e) {
            var f = PREFIX_S1_URL + "/eqs/activity/scene?promId=" + a;
            return c && (f += /\?/.test(f) ? "&" : "?",
            f += "recommend=" + c),
            d && (f += /\?/.test(f) ? "&" : "?",
            f += "pageNo=" + d),
            e && (f += /\?/.test(f) ? "&" : "?",
            f += "pageSize=" + e),
            b({
                withCredentials: !0,
                method: "GET",
                url: f
            })
        }
        ,
        c.activityMes = function(c) {
            var d = PREFIX_S1_URL + "/eqs/activity/info?id=" + c;
            return b({
                withCredentials: !0,
                method: "GET",
                url: d
            }).then(function(b) {
                if (b.data.success) {
                    var c = b;
                    a.$broadcast("activeMes", c)
                }
            })
        }
        ,
        c
    }
    ]),
    b.module("services.configSer", []).factory("configSerService", ["$http", function(a) {
        var b = function(b) {
            var c = PREFIX_S2_URL + "eqs/friendlinks?pageCode=" + b;
            return a({
                withCredentials: !0,
                method: "GET",
                url: c
            })
        }
          
        
        , 
        c = function(b) {
            var c = PREFIX_S2_URL + "eqs/banners?pageCode=" + b;
            return a({
                withCredentials: !0,
                method: "GET",
                url: c
            })
        }
        ;
        return {
            getFriendLinks: b,
            getActivityBanner: c
        }
    }
    ]),
    b.module("services.show", []).factory("showService", ["$rootScope", "$http", function(a, b) {
        var c = {};
        return c.getSceneType = function() {
            var a = "?c=statics&a=typelist";
            return b({
                withCredentials: !0,
                method: "GET",
                url: JSON_URL + a
            })
        }
        ,
        c.getPageTagLabel = function(a) {
            var c = "/eqs/tag/sys/list?type=2";
            null  != a && (c += (/\?/.test(c) ? "&" : "?") + "bizType=" + a);
            var d = new Date;
            return c += (/\?/.test(c) ? "&" : "?") + "time=" + d.getTime(),
            b({
                withCredentials: !0,
                method: "GET",
                url: PREFIX_S1_URL + c
            })
        }
        ,
        c.getSceneList = function(c, d, e, f, g) {
            var h = PREFIX_S1_URL + "eqs/show/list";
            return c && (h += /\?/.test(h) ? "&" : "?",
            h += "template=" + c),
            d && (h += /\?/.test(h) ? "&" : "?",
            h += "recommend=" + d),
            e && (h += /\?/.test(h) ? "&" : "?",
            h += "tagId=" + e),
            f && (h += /\?/.test(h) ? "&" : "?",
            h += "pageNo=" + f),
            g && (h += /\?/.test(h) ? "&" : "?",
            h += "pageSize=" + g),
            b({
                withCredentials: !0,
                method: "GET",
                url: h
            }).then(function(b) {
                if (b.data.success) {
                    var c = b.data;
                    a.$broadcast("sceneList", c)
                }
            })
        }
        ,
        c.search = function(c, d, e) {
            var f = "eqs/show/search?name=" + c;
            return d && (f += /\?/.test(f) ? "&" : "?",
            f += "pageNo=" + d),
            e && (f += /\?/.test(f) ? "&" : "?",
            f += "pageSize=" + e),
            b({
                withCredentials: !0,
                method: "GET",
                url: PREFIX_S1_URL + f
            }).then(function(b) {
                if (b.data.success) {
                    var c = b.data;
                    a.$broadcast("searchList", c)
                }
            })
        }
        ,
        c
    }
    ]),
    b.module("services.visitor", []).factory("visitorService", ["$rootScope", "$http", function(a, b) {
        var c = {};
        return c.getRecommendVisitor = function() {
            var a = "showker/recommend";
            return b({
                withCredentials: !0,
                method: "GET",
                url: PREFIX_S2_URL + a
            })
        }
        ,
        c.getVisitorMsg = function(a) {
            var c = "showker/detail?userId=" + a;
            return b({
                withCredentials: !0,
                method: "GET",
                url: PREFIX_S2_URL + c
            })
        }
        ,
        c.getVisitorList = function(a, c, d) {
            var e = "showker/list";
            return a && (e += /\?/.test(e) ? "&" : "?",
            e += "tagList=" + a),
            c && (e += /\?/.test(e) ? "&" : "?",
            e += "pageNo=" + c),
            d && (e += /\?/.test(e) ? "&" : "?",
            e += "pageSize=" + d),
            b({
                withCredentials: !0,
                method: "GET",
                url: PREFIX_S2_URL + e
            })
        }
        ,
        c.getVisitorMesList = function(a, c, d) {
            var e = "showker/represent?userId=" + a;
            return c && (e += /\?/.test(e) ? "&" : "?",
            e += "pageNo=" + c),
            d && (e += /\?/.test(e) ? "&" : "?",
            e += "pageSize=" + d),
            b({
                withCredentials: !0,
                method: "GET",
                url: PREFIX_S2_URL + e
            })
        }
        ,
        c
    }
    ]),
    b.module("visitorXq", ["services.visitor"]),
    b.module("visitorXq").controller("VisitorXqCtrl", ["$rootScope", "$http", "$scope", "showService", "$location", "$routeParams", "visitorService", function(a, b, c, d, e, f, g) {
        c.childCat = "visitor",
        c.pageNo = 1,
        c.pageSize = 16,
        c.serverTag = [],
        c.cateTag = [],
        c.payTag = [],
        c.userId = f.id,
        c.getUserDetail = function() {
            g.getVisitorMsg(c.userId).then(function(a) {
                c.visitorMsg = a.data.obj;
                var b = a.data.obj.tagList;
                if (b)
                    for (var d = 0; d < b.length; d++)
                        "province" == b[d].type ? c.serverTag.push({
                            tagId: b[d].tagId,
                            name: b[d].name
                        }) : "company_industry" == b[d].type ? c.cateTag.push({
                            tagId: b[d].tagId,
                            name: b[d].name
                        }) : "payType" == b[d].type && c.payTag.push({
                            tagId: b[d].tagId,
                            name: b[d].name
                        });
                c.visitorMsg.headImg ? 0 === c.visitorMsg.headImg.indexOf("http://") ? c.visitorMsg.headImg = c.visitorMsg.headImg : c.visitorMsg.headImg = PREFIX_FILE_HOST + c.visitorMsg.headImg : c.visitorMsg.headImg = CLIENT_CDN + "assets/images/xiaotouxiang.png",
                null  === c.visitorMsg.tel && ($(".phone").addClass("hui"),
                c.visitorMsg.tel = "该秀客没有留下电话号码"),
                null  === c.visitorMsg.wechat && ($(".weixin").addClass("hui"),
                c.visitorMsg.wechat = "该秀客没有留下微信号")
            })
        }
        ,
        c.getUserDetail(),
        c.totalItems = 0,
        c.getUserWorks = function() {
            g.getVisitorMesList(c.userId, c.pageNo, c.pageSize).then(function(a) {
                c.visitorWorks = a.data.list,
                c.totalItems = a.data.map.count;
                for (var b = 0; b < c.visitorWorks.length; b++)
                    c.visitorWorks[b].headImg ? 0 === c.visitorWorks[b].headImg.indexOf("http://") ? c.visitorWorks[b].headImg = c.visitorWorks[b].headImg : c.visitorWorks[b].headImg = PREFIX_FILE_HOST + c.visitorWorks[b].headImg : c.visitorWorks[b].headImg = CLIENT_CDN + "assets/images/xiaotouxiang.png"
            })
        }
        ,
        c.getUserWorks(),
        c.pageChanged = function(a) {
            return c.pageNo = a,
            1 > a || a > c.totalItems / 16 + 1 ? void alert("此页超出范围") : void getUserWorks(c.userId, a, c.pageSize)
        }
    }
    ]),
    b.module("visitor", ["services.visitor"]),
    b.module("visitor").controller("VisitorCtrl", ["$rootScope", "$http", "$scope", "showService", "$location", "usercenterService", "visitorService", function(a, b, c, d, e, f, g) {
        c.childCat = "visitor",
        c.visitorId = "12",
        c.pageNo = 1,
        c.pageSize = 12,
        c.visitorXq = function(a) {
            e.path("/show/visitor/" + a)
        }
        ;
        var h = function(a) {
            f.getAPPlyMessage(a).then(function(b) {
                "province" === a ? c.serverLabel = b.data.list : "company_industry" === a ? c.cateLabel = b.data.list : "payType" === a && (c.payLabel = b.data.list)
            })
        }
        ;
        h("province"),
        h("company_industry"),
        h("payType"),
        c.getLimitedServeRegion = function(a) {
            return c.serverLabel.indexOf(a) < 9
        }
        ,
        c.getOtherServeRegion = function(a) {
            return c.serverLabel.indexOf(a) >= 9 && (c.moreArea = !0),
            c.serverLabel.indexOf(a) >= 11
        }
        ,
        c.getLimitedCateRegion = function(a) {
            return c.cateLabel.indexOf(a) < 11
        }
        ,
        c.getOtherCateRegion = function(a) {
            return c.cateLabel.indexOf(a) >= 11 && (c.moreLabel = !0),
            c.cateLabel.indexOf(a) >= 8
        }
        ;
        var i = []
          
        
        , 
        j = []
          
        
        , 
        k = [];
        g.getRecommendVisitor().then(function(a) {
            c.recommendVisitor = a.data.obj,
            c.recommendVisitor.represent1 && (i = c.recommendVisitor.represent1.split("_"),
            c.work1Code = i[0],
            c.work1Name = i[1]),
            c.recommendVisitor.represent2 && (j = c.recommendVisitor.represent2.split("_"),
            c.work2Code = j[0],
            c.work2Name = j[1]),
            c.recommendVisitor.represent3 && (k = c.recommendVisitor.represent3.split("_"),
            c.work3Code = k[0],
            c.work3Name = k[1]),
            c.recommendVisitor.headImg ? 0 === c.recommendVisitor.headImg.indexOf("http://") ? c.recommendVisitor.headImg = c.recommendVisitor.headImg : c.recommendVisitor.headImg = PREFIX_FILE_HOST + c.recommendVisitor.headImg : c.recommendVisitor.headImg = CLIENT_CDN + "assets/images/xiaotouxiang.png"
        });
        var l = {
            pay: null ,
            addr: null ,
            good: null 
        };
        c.serverAll = "all",
        c.cateAll = "all",
        c.payAll = "all",
        c.serverWu = function(a, b) {
            c[b] = "all",
            "province" == a ? (l.addr = null ,
            c.currentServer = null ) : "company_industry" == a ? (l.good = null ,
            c.currentCate = null ) : "payType" == a && (l.pay = null ,
            c.currentPay = null ),
            m(l, c.pageNo, c.pageSize)
        }
        ,
        c.subServer = function(a) {
            c.currentServer = a,
            c.serverAll = null ,
            l.addr = a.id,
            m(l, c.pageNo, c.pageSize)
        }
        ,
        c.subLabel = function(a) {
            c.currentCate = a,
            c.cateAll = null ,
            l.good = a.id,
            m(l, c.pageNo, c.pageSize)
        }
        ,
        c.subPay = function(a) {
            c.currentPay = a,
            c.payAll = null ,
            l.pay = a.id,
            m(l, c.pageNo, c.pageSize)
        }
        ,
        c.totalItems = 0;
        var m = function() {
            g.getVisitorList(l, c.pageNo, c.pageSize).then(function(a) {
                c.visitorList = a.data.list,
                c.totalItems = a.data.map.count,
                c.currentPage = a.data.map.pageNo;
                for (var b = 0; b < c.visitorList.length; b++) {
                    if (c.visitorList[b].represent1) {
                        var d = c.visitorList[b].represent1
                          
                        
                        , 
                        e = d.substring(0, d.indexOf("_"))
                          
                        
                        , 
                        f = d.substring(d.indexOf("_") + 1, d.length);
                        c.visitorList[b].represent1Code = e,
                        c.visitorList[b].represent1Name = f
                    }
                    if (c.visitorList[b].represent2) {
                        var g = c.visitorList[b].represent2
                          
                        
                        , 
                        h = g.substring(0, g.indexOf("_"))
                          
                        
                        , 
                        i = g.substring(g.indexOf("_") + 1, g.length);
                        c.visitorList[b].represent2Code = h,
                        c.visitorList[b].represent2Name = i
                    }
                    if (c.visitorList[b].represent3) {
                        var j = c.visitorList[b].represent3
                          
                        
                        , 
                        k = j.substring(0, j.indexOf("_"))
                          
                        
                        , 
                        l = j.substring(j.indexOf("_") + 1, j.length);
                        c.visitorList[b].represent3Code = k,
                        c.visitorList[b].represent3Name = l
                    }
                    c.visitorList[b].headImg ? 0 === c.visitorList[b].headImg.indexOf("http://") ? c.visitorList[b].headImg = c.visitorList[b].headImg : c.visitorList[b].headImg = PREFIX_FILE_HOST + c.visitorList[b].headImg : c.visitorList[b].headImg = CLIENT_CDN + "assets/images/xiaotouxiang.png"
                }
            })
        }
        ;
        m(),
        c.pageChanged = function(a) {
            return c.pageNo = a,
            1 > a || a > c.totalItems / 16 + 1 ? void alert("此页超出范围") : void m(l, a, c.pageSize)
        }
    }
    ]),
    b.module("usercenter.apply", ["services.usercenter", "services.i18nNotifications"]),
    b.module("usercenter.apply").controller("ApplyCtrl", ["$rootScope", "$scope", "usercenterService", "$modal", "ModalService", "i18nNotifications", "MineService", "userinfo", function(a, c, d, e, f, g, h, i) {
        c.actionerror = "";
        c.serverLabel = [],
        c.cateLabel = [],
        c.payLabel = [];
        var j = function(a) {
            d.getAPPlyMessage(a).then(function(b) {
                "province" === a ? c.serverLabel = b.data.list : "company_industry" === a ? c.cateLabel = b.data.list : "payType" === a && (c.payLabel = b.data.list)
            })
        }
        ;
        j("province"),
        j("company_industry"),
        j("payType"),
        c.getLimitedServeRegion = function(a) {
            return c.serverLabel.indexOf(a) < 6
        }
        ,
        c.getOtherServeRegion = function(a) {
            return c.serverLabel.indexOf(a) >= 6 && (c.moreArea = !0),
            c.serverLabel.indexOf(a) >= 6
        }
        ,
        c.getLimitedCateRegion = function(a) {
            return c.cateLabel.indexOf(a) < 8
        }
        ,
        c.getOtherCateRegion = function(a) {
            return c.cateLabel.indexOf(a) >= 8 && (c.moreLabel = !0),
            c.cateLabel.indexOf(a) >= 8
        }
        ,
        c.myShowSceneMsg = !1,
        d.getUserScene(i.id).then(function(a) {
            a.data.list.length > 0 ? c.myShowScene = a.data.list : c.myShowScene = null 
        }),
        c.cancel = function() {
            c.$dismiss()
        }
        ,
        c.applyInfo = {},
        c.submit = function(a) {
            var e = !0
              
            
            , 
            f = function(a, b, d) {
                e && !a && (c.actionerror = b,
                $("." + d).focus(),
                e = !1)
            }
            ;
            if (f(a.shortIntroduction, "请填写简短介绍", "shortIntroduction"),
            f(a.introduction, "请填写秀客介绍", "Introduction"),
            f(a.selfScene, "秀客介绍场景地址", "selfScene"),
            f(a.represent1, "请选择作品1", "represent1"),
            f(a.represent2, "请选择作品2", "represent2"),
            f(a.represent3, "请选择作品3", "represent3"),
            e) {
                var h, i = {
                    shortIntroduction: a.shortIntroduction,
                    introduction: a.introduction,
                    selfScene: a.selfScene,
                    represent1: a.represent1.code + "_" + a.represent1.name,
                    represent2: a.represent2.code + "_" + a.represent2.name,
                    represent3: a.represent3.code + "_" + a.represent3.name,
                    qq: a.qq,
                    wechat: a.wechat,
                    tel: a.tel,
                    email: a.email,
                    addr: a.addr || "",
                    pay: a.pay || "",
                    good: a.good || ""
                }, 
                j = !1;
                if (b.forEach(c.serverLabel, function(a) {
                    a.ischecked && (h = a.id,
                    j = !0,
                    i.addr += "," + h)
                }),
                i.addr = i.addr.replace(",", ""),
                !j)
                    return void (c.actionerror = "请选择服务地域");
                var k, l = !1;
                if (b.forEach(c.cateLabel, function(a) {
                    a.ischecked && (k = a.id,
                    i.good += "," + k,
                    l = !0)
                }),
                i.good = i.good.replace(",", ""),
                !l)
                    return void (c.actionerror = "请选择擅长领域");
                var m, n = !1;
                if (b.forEach(c.payLabel, function(a) {
                    a.ischecked && (m = a.id,
                    i.pay += "," + m,
                    n = !0)
                }),
                i.pay = i.pay.replace(",", ""),
                !n)
                    return void (c.actionerror = "请选择支付方式");
                var o = /^([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+@([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+\.[a-zA-Z]{2,3}$/;
                if (a.email && !o.test(a.email))
                    return c.actionerror = "邮箱格式不正确",
                    void $(".email").focus();
                var p = /^[0-9]*$/;
                return a.qq && !p.test(a.qq) ? ($(".qq").focus(),
                void (c.actionerror = "填写格式错误")) : a.wechat && !p.test(a.wechat) ? ($(".wechat").focus(),
                void (c.actionerror = "填写格式错误")) : a.tel && !p.test(a.tel) ? ($(".tel").focus(),
                void (c.actionerror = "填写格式错误")) : void d.saveApplyInfo(i).then(function(a) {
                    a.data.success ? (c.applyInfo = a.data.map.status,
                    g.pushForCurrentRoute("account.success", "notify.success"),
                    c.$close(c.applyInfo)) : c.authError = a.data.msg
                })
            }
        }
    }
    ]),
    b.module("usercenter.branch", ["services.usercenter", "services.i18nNotifications"]),
    b.module("usercenter.branch").controller("BranchCtrl", ["$rootScope", "$scope", "$window", "$routeParams", "usercenterService", "security", "$modal", "ModalService", "$location", "branch", "i18nNotifications", function(a, c, d, e, f, g, h, i, k, l, m) {
        c.originData = c.branch = b.copy(l),
        c.dept = {},
        l || (c.branch = {}),
        c.getDepts = function() {
            f.getDepts().then(function(a) {
                c.depts = a.data.list,
                (c.branch.deptName || c.branch.deptId) && b.forEach(c.depts, function(a, b) {
                    a.id == c.branch.deptId && (c.branch.dept = a)
                })
            }, function() {
                alert("服务器异常!")
            })
        }
        ,
        c.getDepts(),
        c.authError = "",
        c.addDept = function() {
            return c.dept.name ? j(c.dept.name) > 30 ? ($(".dept-name").addClass("error"),
            $(".dept-name").change(function() {
                $(this).removeClass("error")
            }),
            void (c.authError = "部门名称不能超过30个字符！")) : void f.addDept(c.dept).then(function(a) {
                a.data.success && (c.showAddSec = !1,
                c.depts.unshift({
                    id: a.data.obj,
                    name: c.dept.name
                }),
                m.pushForCurrentRoute("dept.create.success", "notify.success"),
                c.dept = {})
            }, function() {
                c.authError = "服务器异常!"
            }) : (c.authError = "请输入部门名称！",
            $(".dept-name").focus(),
            void (c.dept = {}))
        }
        ,
        c.confirm = function() {
            var a = {};
            return c.branch.loginName ? /^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/g.test(c.branch.loginName) ? c.branch.name ? j(c.branch.name) > 30 ? ($(".branch-name").addClass("error"),
            $("branch-name").change(function() {
                $(this).removeClass("error")
            }),
            void (c.authError = "用户名不能超过30个字符！")) : (c.branch.dept && (a.deptId = c.branch.dept.id,
            c.branch.deptId = c.branch.dept.id,
            c.branch.deptName = c.branch.dept.name),
            void (l ? ($.extend(a, {
                id: c.branch.id,
                name: c.branch.name
            }),
            f.updateBranch(a).then(function(a) {
                a.data.success && (c.$close(c.branch),
                m.pushForCurrentRoute("dept.update.success", "notify.success"))
            }, function(a) {
                c.authError = "服务器异常！"
            })) : ($.extend(a, {
                loginName: c.branch.loginName,
                name: c.branch.name
            }),
            f.createBranch(a).then(function(a) {
                a.data.success ? (c.branch.id = a.data.obj.id,
                m.pushForCurrentRoute("dept.create.success", "notify.success"),
                c.$close(c.branch)) : 1006 == a.data.code && ($(".login-name").focus(),
                c.authError = "你已经创建过该账号！")
            }, function(a) {
                c.authError = "服务器异常！"
            })))) : ($(".branch-name").focus(),
            void (c.authError = "用户名不能为空！")) : ($(".login-name").addClass("error"),
            $(".login-name").change(function() {
                $(this).removeClass("error")
            }),
            void (c.authError = "分账号格式不正确！")) : ($(".login-name").focus(),
            void (c.authError = "账号不能为空!"))
        }
        ,
        c.cancel = function() {
            c.$dismiss()
        }
    }
    ]),
    b.module("usercenter.relAccount", ["services.usercenter", "services.i18nNotifications"]),
    b.module("usercenter.relAccount").controller("RelAccountCtrl", ["$rootScope", "$scope", "$window", "$routeParams", "usercenterService", "security", "$modal", "ModalService", "$location", "userinfo", "i18nNotifications", function(a, c, d, e, f, g, h, i, j, k, l) {
        c.relAccount = function() {
            var a = /^([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+@([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+\.[a-zA-Z]{2,3}$/;
            return a.test(c.user.email) ? c.user.password.trim() ? void f.relAccount(k.id, c.user.email, c.user.password).then(function(a) {
                if (200 == a.data.code) {
                    l.pushForCurrentRoute("email.save.success", "notify.success"),
                    /qq/gi.test(c.user.loginName) && (c.relType = "qq"),
                    /weixin/gi.test(c.user.loginName) && (c.relType = "weixin"),
                    /weibo/gi.test(c.user.loginName) && (c.relType = "weibo");
                    var d = {
                        type: c.relType,
                        email: b.copy(c.user.email)
                    };
                    c.$close(d)
                } else
                    c.relErr = a.data.msg
            }, function(a) {
                c.$dismiss()
            }) : void (c.relErr = "密码不能为空！") : void (c.relErr = "请输入正确得邮箱格式")
        }
        ,
        c.checkUpperCase = function() {
            /[A-Z]/g.test(c.user.email) && (c.user.email = c.user.email.toLowerCase(),
            c.relErr = "请用小写字母邮箱注册，已将邮箱中的大写字母自动转换成小写")
        }
        ,
        c.cancel = function() {
            c.$dismiss()
        }
    }
    ]),
    b.module("usercenter.branch.reset", ["services.usercenter", "services.i18nNotifications"]),
    b.module("usercenter.branch.reset").controller("ResetBranchPassCtrl", ["$rootScope", "$scope", "$window", "$routeParams", "usercenterService", "security", "$modal", "ModalService", "$location", "branch", "i18nNotifications", function(a, b, c, d, e, f, g, h, i, j, k) {
        b.branch = j,
        b.reset = function() {
            e.resetBranchPass(j.id)
        }
        ,
        b.cancel = function() {
            b.$dismiss()
        }
        ,
        b.$on("reset.branch.success", function() {
            b.$close()
        })
    }
    ]),
    b.module("usercenter.upgrade", ["services.usercenter", "services.i18nNotifications"]),
    b.module("usercenter.upgrade").controller("UsercenterupgradeCtrl", ["$rootScope", "$scope", "$window", "usercenterService", "security", "$modal", "ModalService", "i18nNotifications", function(a, b, c, d, e, f, g, h) {
        b.companyInfo = {},
        b.upgradeCompanyMessage = function(c) {
            if (c) {
                var e = /^[0-9]*$/;
                if (c.mobile && !e.test(c.mobile))
                    return $(".mobile").addClass("error"),
                    $(".mobile").change(function() {
                        $(this).removeClass("error")
                    }),
                    void (b.authError = "电话格式不正确");
                var f = /^1\d{10}$/;
                if (c.tel && !f.test(c.tel))
                    return $(".tel").addClass("error"),
                    $(".tel").change(function() {
                        $(this).removeClass("error")
                    }),
                    void (b.authError = "手机格式不正确");
                var g = /^([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+@([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+\.[a-zA-Z]{2,3}$/;
                if (c.email && !g.test(c.email))
                    return b.authError = "邮箱格式不正确",
                    $(".email").addClass("error"),
                    void $(".email").change(function() {
                        $(this).removeClass("error")
                    });
                c.scale || (c.scale = {}),
                c.industry || (c.industry = {});
                var i = {
                    name: c.name,
                    website: c.website,
                    address: c.address,
                    contacts: c.contacts,
                    tel: c.tel,
                    mobile: c.mobile,
                    license: c.license,
                    email: c.email,
                    department: c.department,
                    scale: c.scale.value,
                    industry: c.industry.value
                }
                  
                
                , 
                j = !0
                  
                
                , 
                k = function(a, c, d) {
                    return j && !a ? (b.authError = c,
                    $("." + d).focus(),
                    void (j = !1)) : void 0
                }
                ;
                if (k(c.name, "请填写企业名称", "comname"),
                k(c.scale.value, "请企业规模", "scale"),
                k(c.industry.value, "请填写所属行业", "industry"),
                k(c.department, "请填写所属部门", "department"),
                k(c.email, "请填写企业邮箱", "email"),
                k(c.website, "请填写网址", "website"),
                k(c.address, "请填写联系地址", "address"),
                k(c.contacts, "请填写联系人", "comcontact"),
                k(c.tel, "请填写手机号", "tel"),
                k(c.mobile, "请填写电话号码", "mobile"),
                !j)
                    return;
                d.saveCompanyInfo(i).then(function(c) {
                    c.data.success ? (h.pushForCurrentRoute("account.success", "notify.success"),
                    b.$close(i),
                    a.$broadcast("companyState")) : b.authError = c.data.msg
                })
            } else
                b.authError = "请填写企业信息"
        }
        ,
        b.getCompanyInfo = function() {
            d.getCompanyInfo().then(function(a) {
                a.data.obj && (b.companyInfo = a.data.obj),
                b.getScale(),
                b.getCompanyIndustry()
            })
        }
        ,
        b.getCompanyInfo(),
        b.getScale = function() {
            d.getCompanyScale().then(function(a) {
                b.scales = a.data.list;
                for (var c = 0; c < b.scales.length; c++)
                    b.scales[c].value == b.companyInfo.scale && (b.companyInfo.scale = b.scales[c])
            })
        }
        ,
        b.getCompanyIndustry = function() {
            d.getCompanyIndustry().then(function(a) {
                b.industries = a.data.list;
                for (var c = 0; c < b.industries.length; c++)
                    b.industries[c].value == b.companyInfo.industry && (b.companyInfo.industry = b.industries[c])
            })
        }
        ,
        b.goUpload = function() {
            f.open({
                windowClass: "upload-console",
                templateUrl: "my/upload.tpl.html",
                controller: "UploadCtrl",
                resolve: {
                    category: function() {
                        return {
                            categoryId: 0,
                            fileType: 1,
                            companyImg: "companyImg"
                        }
                    }
                }
            }).result.then(function(a) {
                b.companyInfo || (b.companyInfo = {}),
                b.companyInfo.license = a
            }, function() {})
        }
        ,
        b.quXiao = function() {
            b.$dismiss()
        }
    }
    ]),
    b.module("usercenter.request", ["services.usercenter", "app.directives.qrcode"]),
    b.module("usercenter.request").controller("UsercenterrequestCtrl", ["$rootScope", "$scope", "$window", "$routeParams", "usercenterService", "security", "$modal", "ModalService", "$location", function(a, b, c, d, e, f, g, h, i) {
        b.PREFIX_CLIENT_HOST = PREFIX_HOST,
        b.currentUser = f.currentUser,
        b.cancel = function() {
            b.$dismiss()
        }
    }
    ]),
    b.module("usercenter.tab.server", ["services.usercenter", "services.i18nNotifications"]),
    b.module("usercenter.tab.server").controller("ServerTabCtrl", ["$scope", "$rootScope", "usercenterService", function(a, b, c) {
        a.showController = {},
        a.goStep = function(b) {
            a.step = b
        }
        ,
        a.bindDomain = function() {
            a.showController.agreeBind = !0
        }
        ,
        a.reApply = function() {
            a.isShowBindPanel = !0,
            a.showController.agreeBind = !1
        }
        ;
        var d = function() {
            c.getDomain().then(function(b) {
                if (b.data.success)
                    if (a.domainInfo = b.data.obj,
                    a.model.day = b.data.obj.typeList[0],
                    b.data.obj.id) {
                        a.isShowBindPanel = !1,
                        a.domainInfo.ipAddress = "202.173.11.90";
                        var c = a.status = b.data.obj.status;
                        1 === c ? (a.domainMes = "正常使用",
                        a.unbind = !1,
                        a.domainInfo.restTime = Math.floor((a.domainInfo.endDate - a.domainInfo.startDate) / 864e5)) : 2 === c ? (a.domainMes = "审核中",
                        a.unbind = !1) : 3 === c ? (a.domainMes = "审核失败",
                        a.unbind = !0) : 4 === c ? a.domainMes = "停用" : (new Date).getTime() > b.data.obj.endDate && (a.status = 5,
                        a.domainMes = "到期",
                        a.unbind = !0)
                    } else
                        a.isShowBindPanel = !0
            })
        }
        ;
        d(),
        a.model || (a.model = {});
        var e = a.model;
        a.submit = function() {
            if (a.cost = e.day.label,
            !e.url)
                return a.actionerror = "请填写您要绑定的域名",
                void $(".dns").focus();
            if (!e.day)
                return void (a.actionerror = "请选择有效期");
            if (e.appId && !e.secretId)
                return void (a.actionerror = "请填写您的APPSECRET");
            if (!e.appId && e.secretId)
                return void (a.actionerror = "请填写您的APPID");
            if (a.xdCounts >= parseInt(a.cost, 10)) {
                var b = {
                    url: e.url,
                    buyTime: e.day.value,
                    appId: e.appId,
                    secretId: e.secretId
                };
                c.bindDomain(b).then(function(b) {
                    b.data.success ? (alert("域名绑定申请已经提交"),
                    a.status = 2,
                    a.isShowBindPanel = !1,
                    a.domainInfo.ipAddress = "202.173.11.90",
                    a.domainInfo.url = e.url) : a.actionerror = b.data.msg
                }, function() {
                
                })
            } else
                a.xiudian = !0
        }
    }
    ]),
    b.module("usercenter.transfer", ["services.usercenter"]),
    b.module("usercenter.transfer").controller("UsercentertransferCtrl", ["$rootScope", "$scope", "$window", "$routeParams", "usercenterService", "security", "$modal", "ModalService", "$location", "username", function(a, b, c, d, e, f, g, h, i, j) {
        b.transfer = !0,
        b.userXd = {
            toUser: "",
            xdCount: ""
        },
        b.submit = !1,
        b.getUserXd = function() {
            e.getUserXd().then(function(a) {
                a.data.success && (b.xdCount = a.data.obj)
            })
        }
        ,
        b.getUserXd(),
        b.confirm = function() {
            b.submit = !0,
            b.getgiveXd()
        }
        ,
        b.getgiveXd = function() {
            return b.userXd.toUser ? b.userXd.toUser == j ? (b.authError = "不能把秀点转送给自己",
            $(".username").addClass("error"),
            void $(".username").change(function() {
                $(this).removeClass("error")
            })) : /^\+?[1-9][0-9]*$/.test(b.userXd.xdCount) ? (b.userXd.xdCount > b.xdCount && (b.authError = "秀点不足",
            $(".num").addClass("error"),
            $(".num").change(function() {
                $(this).removeClass("error")
            })),
            void e.getgiveXd(b.userXd).then(function(a) {
                200 == a.data.code ? b.$close() : 1003 == a.data.code ? ($(".username").addClass("error"),
                $(".username").change(function() {
                    $(this).removeClass("error")
                }),
                b.authError = a.data.msg) : 1010 == a.data.code && ($(".username").addClass("error"),
                $(".username").change(function() {
                    $(this).removeClass("error")
                }),
                b.authError = a.data.msg)
            })) : (b.authError = "正确填写秀点数目",
            $(".num").addClass("error"),
            void $(".num").change(function() {
                $(this).removeClass("error")
            })) : (b.authError = "账号不能为空",
            void $(".username").focus())
        }
        ,
        b.cancel = function() {
            b.$close()
        }
    }
    ]),
    b.module("usercenter", ["usercenter.transfer", "usercenter.upgrade", "usercenter.request", "services.usercenter", "services.localizedMessages", "security.service", "app.directives.addelement", "services.modal", "usercenter.relAccount", "usercenter.branch", "services.i18nNotifications", "security.thirdparty", "usercenter.branch.reset", "usercenter.tab.server", "usercenter.apply"]),
    b.module("usercenter").controller("UserCenterCtrl", ["$rootScope", "$scope", "$window", "$routeParams", "usercenterService", "security", "$modal", "ModalService", "$location", "$filter", "fixnumFilter", "i18nNotifications", "thirdpartyService", function(a, c, d, e, f, g, h, i, j, k, l, m, n) {
        c.PREFIX_FILE_HOST = PREFIX_FILE_HOST,
        c.PREFIX_SERVER_HOST = PREFIX_URL,
        c.PREFIX_CLIENT_HOST = PREFIX_HOST,
        c.isVendorUser = g.isVendorUser(),
        c.editInfo = {
            isEditable: !1
        },
        c.isDomainAccessable = g.isAllowToAccess(g.accessDef.ACCESS_DOMAIN_BIND),
        c.password = {},
        c.pageSize = 5,
        c.XdpageSize = 10,
        c.XdpageNo = 1,
        c.XdtoPage = "",
        c.pageNo = 1,
        c.toPage = c.XdcurrentPage = 1,
        c.branchToPage = 1,
        c.currentPage = {
            msgCurrentPage: 1,
            branchCurrentPage: 1
        };
        c.getUserInfo = function() {
            f.getUserInfo().then(function(a) {
                c.userinfo = a.data.obj,
                c.master = b.copy(c.userinfo),
                c.userinfo.headImg ? /^http.*/.test(c.userinfo.headImg) && (c.headImg = c.userinfo.headImg) : c.headImg = CLIENT_CDN + "assets/images/defaultuser.jpg";
                var d = /^([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+@([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+\.[a-zA-Z]{2,3}$/;
                "eqs" != c.userinfo.loginName.substr(0, 3) || d.test(c.userinfo.loginName) || (c.userinfo.noRel = "未绑定",
                c.showRelButton = !0),
                /qq/gi.test(c.userinfo.relType) && (c.qqRel = !0),
                /weixin/gi.test(c.userinfo.relType) && (c.wxRel = !0),
                /weibo/gi.test(c.userinfo.relType) && (c.wbRel = !0),
                j.search().bindemail && c.relAccount()
            })
        }
        ,
        c.getUserInfo(),
        c.emailAccount = !1,
        c.upgradeCompany = function() {
            "eqs" == c.userinfo.loginName.substr(0, 3) && null  == c.userinfo.email ? c.emailAccount = !0 : h.open({
                windowClass: "seven-contain",
                templateUrl: "usercenter/console/upgrade_company.tpl.html",
                controller: "UsercenterupgradeCtrl",
                resolve: {}
            }).result.then(function() {}, function() {})
        }
        ,
        c.getCompanyInfo = function() {
            f.getCompanyInfo().then(function(a) {
                c.companyInfo = a.data.obj
            })
        }
        ,
        c.getCompanyInfo(),
        c.companyMes = !0,
        c.$on("companyState", function() {
            c.companyInfo || (c.companyInfo = {}),
            c.companyMes = !1,
            c.companyInfo.status = 0
        }),
        c.saveCompanyInfo = function(a) {
            var b = /^[0-9]*$/;
            if (a.mobile && !b.test(a.mobile))
                return $("input.mobile").addClass("error"),
                $("input.mobile").change(function() {
                    $(this).removeClass("error")
                }),
                alert("电话号码格式错误"),
                void (a.mobile = "");
            var d = /^1\d{10}$/;
            if (a.tel && !d.test(a.tel))
                return $("input.tel").addClass("error"),
                $("input.tel").change(function() {
                    $(this).removeClass("error")
                }),
                alert("手机号码格式错误"),
                void (a.tel = "");
            var e = {
                name: a.name,
                website: a.website,
                address: a.address,
                contacts: a.contacts,
                tel: a.tel,
                mobile: a.mobile
            };
            f.saveCompanyInfo(e).then(function(a) {
                a.data.success && (c.editInfo.isEditable = !1,
                m.pushForCurrentRoute("save.success", "notify.success"))
            })
        }
        ,
        c.saveUserInfo = function(a) {
            var b = /^1\d{10}$/;
            if (a.phone && !b.test(a.phone))
                return $("input.usertel").addClass("error"),
                $("input.usertel").change(function() {
                    $(this).removeClass("error")
                }),
                alert("手机号码格式错误"),
                void (a.phone = "");
            var d = /(^[1-9]\d*$)/;
            if (a.qq && !d.test(a.qq))
                return $("input.userqq").addClass("error"),
                $("input.userqq").change(function() {
                    $(this).removeClass("error")
                }),
                alert("qq号码格式错误"),
                void (a.qq = "");
            var e = /^[0-9]*$/;
            if (a.tel && !e.test(a.tel))
                return $("input.usermobile").addClass("error"),
                $("input.usermobile").change(function() {
                    $(this).removeClass("error")
                }),
                alert("电话号码格式错误"),
                void (a.tel = "");
            var g = {
                id: a.id,
                name: a.name,
                sex: a.sex,
                phone: a.phone,
                tel: a.tel,
                qq: a.qq,
                headImg: a.headImg
            };
            f.saveUserInfo(g).then(function(a) {
                a.data.success && (c.editInfo.isEditable = !1,
                m.pushForCurrentRoute("save.success", "notify.success"))
            })
        }
        ,
        c.tabid = e.id,
        c.getUserXd = function() {
            f.getUserXd().then(function(a) {
                a.data.success && (c.xdCounts = a.data.obj)
            })
        }
        ,
        c.getUserXd(),
        c.getXdlog = function(a) {
            var b = a;
            f.getXdlog(b, c.XdpageSize).then(function(a) {
                a.data.success && (c.xdLogs = a.data.list,
                c.XdCount = a.data.map.count,
                c.XdcurrentPage = a.data.map.pageNo,
                c.XdNumPages = Math.ceil(c.XdCount / c.XdpageSize))
            })
        }
        ,
        c.getXdlog(c.XdpageNo),
        c.XdpageChanged = function(a) {
            c.XdcurrentPage = a,
            c.getXdlog(a)
        }
        ,
        c.getXdStatNum = function() {
            f.getXdStat().then(function(a) {
                c.getXdStat = a.data.map
            })
        }
        ,
        c.getXdStatNum(),
        c.reset = function() {
            return c.password.newPw != c.password.confirm ? ($(".resetpwd").addClass("error"),
            $(".resetpwd").change(function() {
                $(this).removeClass("error")
            }),
            c.authError = "新密码与重复密码不一致",
            void (c.password.confirm = "")) : b.equals(c.master, c.password) ? void (c.authError = "请不要重复提交！") : void g.resetPassword(c.password.old, c.password.newPw).then(function(a) {
                a.data.success ? (c.authError = "",
                m.pushForCurrentRoute("reset.psw.success", "notify.success"),
                c.master = b.copy(c.password),
                c.$close(c.master)) : c.authError = a.data.msg
            })
        }
        ,
        c.openXd = function() {
            h.open({
                windowClass: "six-contain",
                templateUrl: "usercenter/transfer.tpl.html",
                controller: "UsercentertransferCtrl",
                resolve: {
                    username: function() {
                        return c.userinfo.loginName
                    }
                }
            }).result.then(function() {
                c.getUserXd(),
                c.getXdlog(),
                c.getXdStatNum()
            }, function() {})
        }
        ,
        c.customerUpload = function() {
            h.open({
                windowClass: "img_console console",
                templateUrl: "scene/console/bg.tpl.html",
                controller: "BgConsoleCtrl",
                resolve: {
                    obj: function() {
                        return {
                            fileType: 1
                        }
                    }
                }
            }).result.then(function(b) {
                if (b.width / b.height === 1) {
                    c.userinfo.headImg = b.data;
                    var d = {
                        headImg: b.data,
                        id: c.userinfo.id
                    };
                    return void f.saveUserInfo(d).then(function(d) {
                        d.data.success && (c.editInfo.isEditable = !1,
                        a.$broadcast("headImg.change", b.data))
                    })
                }
                h.open({
                    windowClass: "console seven-contain",
                    templateUrl: "scene/console/imageCrop.tpl.html",
                    controller: "imageCropCtrl",
                    backdrop: "static",
                    resolve: {
                        obj: function() {
                            return {
                                type: "square",
                                properties: {
                                    src: b.data
                                }
                            }
                        }
                    }
                }).result.then(function(d) {
                    c.userinfo.headImg = d.src;
                    var e = {
                        headImg: d.src,
                        id: c.userinfo.id
                    };
                    f.saveUserInfo(e).then(function(d) {
                        d.data.success && (c.editInfo.isEditable = !1,
                        a.$broadcast("headImg.change", b.data))
                    })
                }, function(a) {})
            }, function(a) {})
        }
        ,
        c.cancel = function() {
            c.userinfo = b.copy(c.master),
            c.editInfo.isEditable = !1
        }
        ,
        c.getUserMsg = function(a) {
            var d = a;
            f.getNewMessage(d, c.pageSize).then(function(a) {
                b.forEach(a.data.list, function(a, b) {
                    1 == a.bizType ? a.type = "系统通知" : 2 == a.bizType ? a.type = "审核通知" : 3 == a.bizType && (a.type = "活动通知")
                }),
                c.newMsgs = a.data.list,
                c.msgCount = a.data.map.count,
                c.msgNumPages = Math.ceil(c.msgCount / c.pageSize)
            })
        }
        ,
        c.getUserMsg(c.pageNo),
        c.$watch("currentPage.msgCurrentPage", function(a, b) {
            a != b && (c.getUserMsg(a),
            c.toPage = a)
        }),
        c.pageChanged = function(a, b) {
            c.currentPage[b] = a
        }
        ,
        c.setRead = function(c) {
            var d = [];
            b.forEach(c, function(a, b) {
                1 == a.status && this.push(a.id)
            }, d);
            var e = d.join();
            f.setRead(e).then(function(e) {
                200 == e.data.code && (a.$broadcast("minusCount", d.length),
                b.forEach(c, function(a, b) {
                    a.status = 2
                }))
            })
        }
        ,
        c.goBaseInfo = function() {
            j.path("/usercenter/userinfo", !1),
            c.tabid = "userinfo"
        }
        ,
        c.goXd = function() {
            j.path("/usercenter/xd", !1),
            c.tabid = "xd"
        }
        ,
        c.quXiao = function() {
            c.$dismiss()
        }
        ,
        c.goReset = function() {
            h.open({
                windowClass: "six-contain",
                templateUrl: "usercenter/tab/reset.tpl.html",
                controller: "UserCenterCtrl",
                resolve: {
                    username: function() {
                        return c.userinfo.loginName
                    }
                }
            }).result.then(function() {}, function() {})
        }
        ,
        c.goMessage = function() {
            j.path("/usercenter/message", !1),
            c.tabid = "message"
        }
        ,
        c.goAccount = function() {
            j.path("/usercenter/account", !1),
            c.tabid = "account"
        }
        ,
        c.domainbind = !1,
        c.goServer = function() {
            j.path("/usercenter/server", !1),
            c.tabid = "server"
        }
        ,
        c.limiteTime = null ,
        c.success = !1,
        c.weibind = !1;
        var o = function() {
            f.getDomain().then(function(a) {
                a.data.success && (c.domainMess = a.data.obj,
                c.limiteTime = c.domainMess.typeList[0],
                a.data.obj.id && (c.domainbind = !0,
                1 === c.domainMess.status ? (c.domainMes = "正常使用",
                c.success = !0) : 2 === c.domainMess.status ? (c.domainMes = "审核中",
                c.weibind = !1) : 3 === c.domainMess.status ? (c.domainMes = "审核失败",
                c.weibind = !0) : 4 === c.domainMess.status ? c.domainMes = "停用" : 5 === c.domainMess.status && (c.domainMes = "到期",
                c.weibind = !0)))
            })
        }
        ;
        c.domain = function() {
            h.open({
                windowClass: "six-contain",
                templateUrl: "usercenter/tab/domain.tpl.html",
                controller: "UserCenterCtrl",
                resolve: {
                    param: function() {
                        return {
                            value: c.domainMess
                        }
                    }
                }
            }).result.then(function() {
                o()
            }, function() {})
        }
        ,
        c.applyShow = function() {
            h.open({
                windowClass: "console seven-contain",
                templateUrl: "usercenter/console/apply.tpl.html",
                controller: "ApplyCtrl",
                resolve: {
                    userinfo: function() {
                        return {
                            id: c.userinfo.id
                        }
                    }
                }
            }).result.then(function(a) {
                c.applyInfo = a
            }, function() {})
        }
        ,
        f.getUserStatus().then(function(a) {
            c.applyInfo = a.data.map.status,
            0 === c.applyInfo ? c.applyStatusOn = "申请秀客" : 1 == c.applyInfo ? c.applyStatus = "您已成为秀客" : 2 == c.applyInfo ? c.applyStatus = "秀客审核中" : 3 == c.applyInfo && (c.applyStatus = "申请秀客未通过")
        }),
        c.submit = function(a, b, d) {
            c.count = d,
            a ? b ? c.xdCounts >= parseInt(d, 10) ? f.bindDomain(a, b).then(function(a) {
                a.data.success && (alert("域名绑定申请已经提交"),
                c.$close())
            }, function() {
            
            }) : c.xiudian = !0 : c.actionerror = "请选择有效期" : (c.actionerror = "请填写您要绑定的域名",
            $(".dns").focus())
        }
        ,
        c.know = function() {
            c.xiudian = !1
        }
        ,
        c.relAccount = function() {
            c.emailAccount = !1,
            h.open({
                windowClass: "six-contain",
                templateUrl: "usercenter/console/relAccount.tpl.html",
                controller: "RelAccountCtrl",
                resolve: {
                    userinfo: function() {
                        return {
                            id: c.userinfo.id
                        }
                    }
                }
            }).result.then(function(a) {
                c.userinfo.noRel = null ,
                c.userinfo.loginName = a.email,
                /qq/gi.test(a.type) && (c.qqRel = !0),
                /weixin/gi.test(a.type) && (c.wxRel = !0),
                /weibo/gi.test(a.type) && (c.wbRel = !0),
                j.search("bindemail", null )
            }, function() {
                j.search("bindemail", null )
            })
        }
        ;
        c.bindThirdAccount = function(a) {
            return c.userinfo.noRel ? void (c.userinfo.loginName.indexOf(a) < 0 ? c.emailAccount = !0 : c.relAccount()) : void n.openThirtyPartyWindow(a)
        }
        ,
        c.unbindRelation = function(a) {
            n.unbindRelation(a)
        }
        ,
        c.$on("mail.unbind.success", function(a, b) {
            m.pushForCurrentRoute("mail.unbind.success", "notify.success"),
            "weixin" == b ? c.wxRel = !1 : "qq" == b && (c.qqRel = !1)
        });
        var p;
        d.setValue = function(a) {
            c.bindParam = a,
            c.$apply()
        }
        ,
        c.$watch("bindParam", function(a, b) {
            a && (a.state && /WECHAT_STATE/.test(a.state) ? (p = {
                code: a.code,
                type: "weixin"
            },
            n.bindAccountCommon(p)) : n.qqBindAccount(a))
        }, !0),
        c.$on("rel.success", function(a, b) {
            m.pushForCurrentRoute("mail.rel.success", "notify.success"),
            "weixin" == b ? c.wxRel = !0 : "qq" == b && (c.qqRel = !0)
        }),
        c.getBranches = function(a) {
            f.getBranches(c.XdpageSize, a).then(function(a) {
                c.branches = a.data.list,
                c.branchesCount = a.data.map.count,
                c.branchesNumPages = Math.ceil(c.branchesCount / c.XdpageSize)
            }, function() {})
        }
        ,
        c.getBranches(c.pageNo),
        c.$watch("currentPage.branchCurrentPage", function(a, b) {
            a != b && (c.getBranches(a),
            c.branchToPage = a)
        }),
        c.manageBranch = function(a) {
            var b = a;
            h.open({
                windowClass: "console six-contain",
                templateUrl: "usercenter/console/branch.tpl.html",
                controller: "BranchCtrl",
                resolve: {
                    branch: function() {
                        return a
                    }
                }
            }).result.then(function(d) {
                a || (a = {}),
                d.dept && (a.deptId = d.dept.id,
                a.deptName = d.dept.name),
                a.name = d.name,
                a.id = d.id,
                b || (a.loginName = d.loginName,
                a.status = 1,
                a.regTime = (new Date).getTime(),
                c.branches.unshift(a),
                c.branches.length > 10 && c.branches.splice(c.branches.length - 1, 1)),
                c.$emit("addBranch", a)
            }, function() {})
        }
        ,
        c.openBranch = function(a, b) {
            f.openBranch(a.id, b).then(function(c) {
                c.data.success && (b ? (a.status = 1,
                m.pushForCurrentRoute("branch.open.success", "notify.success")) : (a.status = 2,
                m.pushForCurrentRoute("branch.close.success", "notify.success")))
            }, function() {
            
            })
        }
        ,
        c.openResetModal = function(a) {
            h.open({
                windowClass: "console six-contain",
                templateUrl: "usercenter/console/resetbranchpass.tpl.html",
                controller: "ResetBranchPassCtrl",
                resolve: {
                    branch: function() {
                        return a
                    }
                }
            }).result.then(function() {
                m.pushForCurrentRoute("branch.reset.success", "notify.success")
            }, function() {})
        }
    }
    ]),
    b.module("app.directives.addelement", []).directive("addElement", ["$compile", function(a) {
        return {
            restrict: "EA",
            link: function(c, d, e) {
                var f = $("#emailAddress")
                  
                
                , 
                g = $("#emailAddress").size() + 1;
                d.bind("click", function() {
                    var d = b.element('<div><input type="text" id="p_scnt" style="width:100%; height: 30px; margin-top: 15px;" ng-model="attrs.addElement" name="p_scnt_' + g + '" placeholder="Input Value" /></div>');
                    f.append(d);
                    var h = d.find("input");
                    console.log(e.addElement),
                    a(h)(c),
                    g++
                })
            }
        }
    }
    ]).directive("showIcon", ["$compile", "$timeout", function(a, b) {
        return {
            restrict: "EA",
            require: "ngModel",
            scope: {
                check: "&callbackFn"
            },
            link: function(b, c, d, e) {
                var f, g, h = a('<a><span class = "glyphicon glyphicon-ok-circle" ng-show="enabled" style = "margin-top: 8px; color: #9ad64b; font-size: 15px;"></span></a>')(b);
                b.update = function() {
                    c[0].blur(),
                    b.check({
                        arg1: {
                            name: e.$name
                        }
                    })
                }
                ,
                c.bind("focus", function() {
                    f = e.$viewValue,
                    c.parent().after(h),
                    b.enabled = !0,
                    ("email" === d.name || "mobile" === d.name || "tel" === d.name) && (b.enabled = !1),
                    b.$apply()
                }).bind("blur", function() {
                    b.enabled = !1,
                    g = e.$viewValue;
                    var a = new RegExp(/(\d{11})|^((\d{7,8})|(\d{4}|\d{3})-(\d{7,8})|(\d{4}|\d{3})-(\d{7,8})-(\d{4}|\d{3}|\d{2}|\d{1})|(\d{7,8})-(\d{4}|\d{3}|\d{2}|\d{1}))$/g);
                    if ("mobile" === d.name && g && !a.test(c.val()))
                        return alert("手机号码格式错误"),
                        $('input[name="mobile"]').addClass("error"),
                        void $('input[name="mobile"]').change(function() {
                            $(this).removeClass("error")
                        });
                    if ("email" === d.name && g) {
                        var h = new RegExp(/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/g);
                        if (!h.test(c.val()))
                            return alert("邮箱格式错误"),
                            $('input[name="email"]').addClass("error"),
                            void $('input[name="email"]').change(function() {
                                $(this).removeClass("error")
                            })
                    }
                    (g || f) && f !== g && b.update(),
                    b.$apply()
                })
            }
        }
    }
    ]).directive("ngHover", function() {
        return {
            restrict: "EA",
            scope: {
                resource: "="
            },
            link: function(a, b, c) {
                b.hover(function() {
                    a.$apply(function() {
                        a.resource.show = !0
                    })
                }, function() {
                    a.$apply(function() {
                        a.resource.show = !1
                    })
                })
            }
        }
    }).directive("imgClick", function() {
        return {
            restrict: "EA",
            link: function(a, b, c) {
                $(b).bind("click", function() {
                    $(b).find("img").css("border", "4px solid #F60"),
                    $(b).siblings().find("img").css("border", 0)
                })
            }
        }
    }).directive("customFocus", function() {
        return {
            restrict: "EA",
            link: function(a, b, c) {
                $(b).siblings().bind("click", function() {
                    b[0].focus()
                })
            }
        }
    }).directive("blurChildren", function() {
        return {
            restrict: "EA",
            link: function(a, b, c) {
                $(b).on("click", function(a) {
                    (a.target == b[0] || $(a.target).hasClass("badge")) && $(".blurClass").find("input:visible").blur()
                })
            }
        }
    }).directive("forbiddenClose", function() {
        return {
            restrict: "EAC",
            link: function(a, b, c) {
                $(b).on("click", function(a) {
                    a.stopPropagation()
                })
            }
        }
    }).directive("customeImage", function() {
        return {
            restrict: "EA",
            link: function(a, b, c) {
                $(b).hover(function() {
                    $("<div><a></a></div>")
                }, function() {})
            }
        }
    }).directive("slides", ["configService", function(a) {
        return {
            restrict: "EA",
            link: function(b, c, d) {
                var e = $(c).find(".slides_container");
                a.getBanners().then(function(a) {
                    for (var b = a.data.split(","), d = 0; d < b.length; d++) {
                        var f = [];
                        f.push(b[d].split("|"));
                        for (var g = 0; g < f.length; g++)
                            e.append('<img src="' + f[g][0] + '" usemap="#active' + d + '" width="1000px" height="720px" alt="Slide 1">'),
                            f[g][1] && e.after('<map name="active' + d + '" id="active' + d + '"><area shape="rect" coords="0,0,1000,720" target="_blank" href ="' + f[g][1] + '" /></map>')
                    }
                    $(c).slides({
                        preload: !0,
                        play: 5e3,
                        pause: 2500,
                        hoverPause: !0
                    })
                }, function() {
                    e.append('<img src="' + CLIENT_CDN + 'assets/images/slide_03.png" width="1000px" height="720px" alt="Slide 1">'),
                    e.append('<img src="' + CLIENT_CDN + 'assets/images/slide2_03.png" width="1000px" height="720px" alt="Slide 1">'),
                    e.append('<img src="' + CLIENT_CDN + 'assets/images/slide3_03.png" width="1000px" height="720px" alt="Slide 1">'),
                    $(c).slides({
                        preload: !0,
                        play: 5e3,
                        pause: 2500,
                        hoverPause: !0
                    })
                })
            }
        }
    }
    ]).directive("addClass", function() {
        return {
            restrict: "EA",
            link: function(a, b, c) {
                $(b).closest(".textbox-wrap").find("[autofocus]").focus(),
                $(b).on("blur", function() {
                    $(b).closest(".textbox-wrap").removeClass("focused")
                }).on("focus", function() {
                    $(b).closest(".textbox-wrap").addClass("focused")
                })
            }
        }
    }).directive("loadScript", ["$http", "$timeout", "$rootScope", function(a, c, d) {
        return {
            link: function(c, d, e) {
                var f = function() {
                    c.captchaLoaded = !0
                }
                ;
                c.$watch(function() {
                    return d[0].getAttribute("src")
                }, function(b, c) {
                    b && a.jsonp(d[0].getAttribute("src")).success(f).error(f)
                }),
                c.$on("$destroy", function() {
                    b.element(".gt_widget").remove()
                })
            }
        }
    }
    ]),
    b.module("app.directives.autoclose", []).directive("autoClose", ["$compile", function(a) {
        return {
            restrict: "EA",
            link: function(a, b, c) {
                $(document).click(function(b) {
                    b.target.className;
                    return $(event.target).closest(".drop-area").length ? !1 : (a.showObj = {
                        showGroup: !1
                    },
                    void a.$apply())
                })
            }
        }
    }
    ]),
    b.module("colorpicker.module", []).factory("Helper", function() {
        return {
            closestSlider: function(a) {
                var b = a.matches || a.webkitMatchesSelector || a.mozMatchesSelector || a.msMatchesSelector;
                return b.bind(a)("I") ? a.parentNode : a
            },
            getOffset: function(a, b) {
                for (var c = 0, d = 0, e = 0, f = 0; a && !isNaN(a.offsetLeft) && !isNaN(a.offsetTop); )
                    c += a.offsetLeft,
                    d += a.offsetTop,
                    b || "BODY" !== a.tagName ? (e += a.scrollLeft,
                    f += a.scrollTop) : (e += document.documentElement.scrollLeft || a.scrollLeft,
                    f += document.documentElement.scrollTop || a.scrollTop),
                    a = a.offsetParent;
                return {
                    top: d,
                    left: c,
                    scrollX: e,
                    scrollY: f
                }
            },
            stringParsers: [{
                re: /rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,
                parse: function(a) {
                    return [a[1], a[2], a[3], a[4]]
                }
            }, {
                re: /rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,
                parse: function(a) {
                    return [2.55 * a[1], 2.55 * a[2], 2.55 * a[3], a[4]]
                }
            }, {
                re: /#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,
                parse: function(a) {
                    return [parseInt(a[1], 16), parseInt(a[2], 16), parseInt(a[3], 16)]
                }
            }, {
                re: /#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/,
                parse: function(a) {
                    return [parseInt(a[1] + a[1], 16), parseInt(a[2] + a[2], 16), parseInt(a[3] + a[3], 16)]
                }
            }]
        }
    }).factory("Color", ["Helper", function(a) {
        return {
            value: {
                h: 1,
                s: 1,
                b: 1,
                a: 1
            },
            rgb: function() {
                var a = this.toRGB();
                return "rgb(" + a.r + "," + a.g + "," + a.b + ")"
            },
            rgba: function() {
                var a = this.toRGB();
                return "rgba(" + a.r + "," + a.g + "," + a.b + "," + a.a + ")"
            },
            hex: function() {
                return this.toHex()
            },
            RGBtoHSB: function(a, b, c, d) {
                a /= 255,
                b /= 255,
                c /= 255;
                var e, f, g, h;
                return g = Math.max(a, b, c),
                h = g - Math.min(a, b, c),
                e = 0 === h ? null  : g === a ? (b - c) / h : g === b ? (c - a) / h + 2 : (a - b) / h + 4,
                e = (e + 360) % 6 * 60 / 360,
                f = 0 === h ? 0 : h / g,
                {
                    h: e || 1,
                    s: f,
                    b: g,
                    a: d || 1
                }
            },
            setColor: function(b) {
                b = b.toLowerCase();
                for (var c in a.stringParsers)
                    if (a.stringParsers.hasOwnProperty(c)) {
                        var d = a.stringParsers[c]
                          
                        
                        , 
                        e = d.re.exec(b)
                          
                        
                        , 
                        f = e && d.parse(e);
                        if (f)
                            return this.value = this.RGBtoHSB.apply(null , f),
                            !1
                    }
            },
            setHue: function(a) {
                this.value.h = 1 - a
            },
            setSaturation: function(a) {
                this.value.s = a
            },
            setLightness: function(a) {
                this.value.b = 1 - a
            },
            setAlpha: function(a) {
                this.value.a = parseInt(100 * (1 - a), 10) / 100
            },
            toRGB: function(a, b, c, d) {
                a || (a = this.value.h,
                b = this.value.s,
                c = this.value.b),
                a *= 360;
                var e, f, g, h, i;
                return a = a % 360 / 60,
                i = c * b,
                h = i * (1 - Math.abs(a % 2 - 1)),
                e = f = g = c - i,
                a = ~~a,
                e += [i, h, 0, 0, h, i][a],
                f += [h, i, i, h, 0, 0][a],
                g += [0, 0, h, i, i, h][a],
                {
                    r: Math.round(255 * e),
                    g: Math.round(255 * f),
                    b: Math.round(255 * g),
                    a: d || this.value.a
                }
            },
            toHex: function(a, b, c, d) {
                var e = this.toRGB(a, b, c, d);
                return "#" + (1 << 24 | parseInt(e.r, 10) << 16 | parseInt(e.g, 10) << 8 | parseInt(e.b, 10)).toString(16).substr(1)
            }
        }
    }
    ]).factory("Slider", ["Helper", function(b) {
        var c = {
            maxLeft: 0,
            maxTop: 0,
            callLeft: null ,
            callTop: null ,
            knob: {
                top: 0,
                left: 0
            }
        }
          
        
        , 
        d = {};
        return {
            getSlider: function() {
                return c
            },
            getLeftPosition: function(a) {
                return Math.max(0, Math.min(c.maxLeft, c.left + ((a.pageX || d.left) - d.left)))
            },
            getTopPosition: function(a) {
                return Math.max(0, Math.min(c.maxTop, c.top + ((a.pageY || d.top) - d.top)))
            },
            setSlider: function(e, f) {
                var g = b.closestSlider(e.target)
                  
                
                , 
                h = b.getOffset(g, f);
                c.knob = g.children[0].style,
                c.left = e.pageX - h.left - a.pageXOffset + h.scrollX,
                c.top = e.pageY - h.top - a.pageYOffset + h.scrollY,
                d = {
                    left: e.pageX,
                    top: e.pageY
                }
            },
            setSaturation: function(a, b) {
                c = {
                    maxLeft: 100,
                    maxTop: 100,
                    callLeft: "setSaturation",
                    callTop: "setLightness"
                },
                this.setSlider(a, b)
            },
            setHue: function(a, b) {
                c = {
                    maxLeft: 0,
                    maxTop: 100,
                    callLeft: !1,
                    callTop: "setHue"
                },
                this.setSlider(a, b)
            },
            setAlpha: function(a, b) {
                c = {
                    maxLeft: 0,
                    maxTop: 100,
                    callLeft: !1,
                    callTop: "setAlpha"
                },
                this.setSlider(a, b)
            },
            setKnob: function(a, b) {
                c.knob.top = a + "px",
                c.knob.left = b + "px"
            }
        }
    }
    ]).directive("colorpicker", ["$document", "$compile", "Color", "Slider", "Helper", function(a, c, d, e, f) {
        return {
            require: "?ngModel",
            restrict: "A",
            link: function(g, h, i, j) {
                var k, l = {
                    x: parseInt(i.x, 10) || 0,
                    y: parseInt(i.y, 10) || 0
                }, 
                m = i.colorpicker ? i.colorpicker : "hex", 
                n = b.isDefined(i.colorpickerPosition) ? i.colorpickerPosition : "bottom", 
                o = b.isDefined(i.colorpickerInline) ? i.colorpickerInline : !1, 
                p = b.isDefined(i.colorpickerFixedPosition) ? i.colorpickerFixedPosition : !1, 
                q = b.isDefined(i.colorpickerParent) ? h.parent() : b.element(document.body), 
                r = b.isDefined(i.colorpickerWithInput) ? i.colorpickerWithInput : !1, 
                s = r ? '<input type="text" name="colorpicker-input">' : "", 
                t = o ? "" : '<button type="button" class="close close-colorpicker">&times;</button>', 
                u = '<div class="colorpicker dropdown"><div class="dropdown-menu"><colorpicker-saturation><i></i></colorpicker-saturation><colorpicker-hue><i></i></colorpicker-hue><colorpicker-alpha><i></i></colorpicker-alpha><colorpicker-preview></colorpicker-preview>' + s + t + "</div></div>", 
                v = b.element(u), 
                w = d, 
                x = v.find("colorpicker-hue"), 
                y = v.find("colorpicker-saturation"), 
                z = v.find("colorpicker-preview"), 
                A = v.find("i");
                if (c(v)(g),
                r) {
                    var B = v.find("input");
                    B.on("mousedown", function(a) {
                        a.stopPropagation()
                    }).on("keyup", function(a) {
                        var b = this.value;
                        h.val(b),
                        j && g.$apply(j.$setViewValue(b)),
                        a.stopPropagation(),
                        a.preventDefault()
                    }),
                    h.on("keyup", function() {
                        B.val(h.val())
                    })
                }
                var C = function() {
                    a.on("mousemove", E),
                    a.on("mouseup", F)
                }
                ;
                "rgba" === m && (v.addClass("alpha"),
                k = v.find("colorpicker-alpha"),
                k.on("click", function(a) {
                    e.setAlpha(a, p),
                    E(a)
                }).on("mousedown", function(a) {
                    e.setAlpha(a, p),
                    C()
                })),
                x.on("click", function(a) {
                    e.setHue(a, p),
                    E(a)
                }).on("mousedown", function(a) {
                    e.setHue(a, p),
                    C()
                }),
                y.on("click", function(a) {
                    e.setSaturation(a, p),
                    E(a)
                }).on("mousedown", function(a) {
                    e.setSaturation(a, p),
                    C()
                }),
                p && v.addClass("colorpicker-fixed-position"),
                v.addClass("colorpicker-position-" + n),
                "true" === o && v.addClass("colorpicker-inline"),
                q.append(v),
                j && (j.$render = function() {
                    h.val(j.$viewValue)
                }
                ,
                g.$watch(i.ngModel, function() {
                    G()
                })),
                h.on("$destroy", function() {
                    v.remove()
                });
                var D = function() {
                    try {
                        z.css("backgroundColor", w[m]())
                    } catch (a) {
                        z.css("backgroundColor", w.toHex())
                    }
                    y.css("backgroundColor", w.toHex(w.value.h, 1, 1, 1)),
                    "rgba" === m && (k.css.backgroundColor = w.toHex())
                }
                  
                
                , 
                E = function(a) {
                    var b = e.getLeftPosition(a)
                      
                    
                    , 
                    c = e.getTopPosition(a)
                      
                    
                    , 
                    d = e.getSlider();
                    e.setKnob(c, b),
                    d.callLeft && w[d.callLeft].call(w, b / 100),
                    d.callTop && w[d.callTop].call(w, c / 100),
                    D();
                    var f = w[m]();
                    return h.val(f),
                    j && g.$apply(j.$setViewValue(f)),
                    r && B.val(f),
                    !1
                }
                  
                
                , 
                F = function() {
                    a.off("mousemove", E),
                    a.off("mouseup", F)
                }
                  
                
                , 
                G = function() {
                    w.setColor(h.val()),
                    A.eq(0).css({
                        left: 100 * w.value.s + "px",
                        top: 100 - 100 * w.value.b + "px"
                    }),
                    A.eq(1).css("top", 100 * (1 - w.value.h) + "px"),
                    A.eq(2).css("top", 100 * (1 - w.value.a) + "px"),
                    D()
                }
                  
                
                , 
                H = function() {
                    var a, c = f.getOffset(h[0]);
                    return b.isDefined(i.colorpickerParent) && (c.left = 0,
                    c.top = 0),
                    "top" === n ? a = {
                        top: c.top - 147 + l.y,
                        left: c.left + l.x
                    } : "right" === n ? a = {
                        top: c.top + l.y,
                        left: c.left + 126 + l.x
                    } : "bottom" === n ? a = {
                        top: c.top + h[0].offsetHeight + 2 + l.y,
                        left: c.left + l.x
                    } : "left" === n && (a = {
                        top: c.top + l.y,
                        left: c.left - 150 + l.x
                    }),
                    {
                        top: a.top + "px",
                        left: a.left + "px"
                    }
                }
                  
                
                , 
                I = function() {
                    K()
                }
                ;
                o === !1 ? h.on("click", function() {
                    G(),
                    v.addClass("colorpicker-visible").css(H()),
                    a.on("mousedown", I)
                }) : (G(),
                v.addClass("colorpicker-visible").css(H())),
                v.on("mousedown", function(a) {
                    a.stopPropagation(),
                    a.preventDefault()
                });
                var J = function(a) {
                    j && g.$emit(a, {
                        name: i.ngModel,
                        value: j.$modelValue
                    })
                }
                  
                
                , 
                K = function() {
                    v.hasClass("colorpicker-visible") && (v.removeClass("colorpicker-visible"),
                    J("colorpicker-closed"),
                    a.off("mousedown", I))
                }
                ;
                v.find("button").on("click", function() {
                    K()
                })
            }
        }
    }
    ]),
    b.module("app.directives.rightclick", []).directive("rightClick", ["$compile", function(a) {
        return {
            restrict: "EA",
            link: function(b, c, d) {
                var e;
                $(c).on("contextmenu", function(d) {
                    if (d.preventDefault(),
                    e && e[0] && e.remove(),
                    "0" == b.categoryId) {
                        e = $('<ul class="right-menu dropdown-menu"></ul>'),
                        e.appendTo($(c)),
                        e.css({
                            left: d.pageX - $(c).offset().left,
                            top: d.pageY - $(c).offset().top
                        }).show();
                        for (var f in b.myTags) {
                            var g = '<li class="tag_list" ng-class="{selected: dropTagIndex == ' + f + '}" ng-click="selectTag(' + b.myTags[f].id + "," + f + ')">' + b.myTags[f].name + "</li>"
                              
                            
                            , 
                            h = a(g)(b);
                            e.append(h)
                        }
                        var i = a('<li class="tag_list add_cate clearfix" style="border-top:1px solid #ccc;margin-bottom:0px;" ng-click="createCategory()"><em>+</em><span>创建分类</span></li>')(b);
                        e.append(i);
                        var j = a('<li class="btn-main" style="width:100%; padding:0px; border: 0;margin:0px;height:25px; line-height:25px;"><a style="height:25px;line-height:25px;text-indent:0;color:#FFF;padding:0px;text-align:center;" ng-click="setCategory(' + b.dropTagIndex + "," + b.img.id + ')">确定</a></li>')(b);
                        e.append(j),
                        $(j).on("click", function() {
                            e.hide()
                        }),
                        $(document).mousemove(function(a) {
                            (a.pageX < e.offset().left - 20 || a.pageX > e.offset().left + e.width() + 20 || a.pageY < e.offset().top - 20 || a.pageY > e.offset().top + e.height() + 20) && (e.hide(),
                            $(this).unbind("mousemove"))
                        })
                    }
                })
            }
        }
    }
    ]),
    b.module("app.directives.customer", []).directive("forbiddenListClose", function() {
        return {
            restrict: "A",
            link: function(a, b, c) {
                $(b).click(function(a) {
                    return !1
                })
            }
        }
    }),
    b.module("app.directives.dataDraggable", []).directive("itemDraggable", function() {
        return {
            restrict: "A",
            link: function(a, b, c) {
                $(b).draggable({
                    zIndex: 2700,
                    scroll: !1,
                    iframeFix: !1,
                    revert: !1,
                    helper: "clone"
                })
            }
        }
    }).directive("itemDroppable", function() {
        return {
            restrict: "A",
            link: function(a, b, c) {
                $(b).droppable({
                    hoverClass: "active",
                    out: function(a, b) {},
                    drop: function(b, c) {
                        a.$parent.associateData[$(b.target).attr("item-id")] = c.draggable.attr("item-id");
                        var d = $(b.target).find(".list_darggable");
                        d.length > 0 && (delete a.$parent.associateData[$(b.target).attr("item-id")],
                        $(".item_remove_droppable").append(d)),
                        c.draggable.css({
                            left: 0,
                            top: 0
                        }).prependTo(this)
                    }
                })
            }
        }
    }).directive("itemRemoveDroppable", function() {
        return {
            restrict: "A",
            link: function(a, b, c) {
                $(b).droppable({
                    hoverClass: "active",
                    drop: function(b, c) {
                        $(c.draggable).parents(".list_attribute").length > 0 && delete a.$parent.associateData[$(c.draggable).parents(".list_attribute").attr("item-id")],
                        c.draggable.css({
                            left: 0,
                            top: 0
                        }).appendTo(this)
                    }
                })
            }
        }
    }),
    b.module("common.directives.inputColor", []).controller("inputColorCtrl", ["$scope", "$attrs", function(a, b) {
        a.x = b.x || 151,
        a.y = b.y || -2,
        a.colorMode = b.colorMode || "rgba"
    }
    ]).directive("eqdInputColor", function() {
        return {
            restrict: "E",
            templateUrl: "directives/inputColor.tpl.html",
            replace: !0,
            controller: "inputColorCtrl",
            scope: {
                selectColor: "=",
                defaultColor: "="
            }
        }
    }),
    b.module("app.directives.keymap", ["services.scene", "services.history", "services.select"]).directive("eqxKeymap", ["sceneService", "historyService", "selectService", function(a, b, c) {
        return {
            restrict: "A",
            link: function(b) {
                var c = $(document);
                b.$on("$destroy", function() {
                    c.unbind("keydown")
                }),
                c.unbind("keydown").keydown(function(c) {
                    if ((c.ctrlKey || c.metaKey) && 90 == c.keyCode && a.historyBack(),
                    (c.ctrlKey || c.metaKey) && 89 == c.keyCode && a.historyForward(),
                    (c.ctrlKey || c.metaKey) && 86 == c.keyCode) {
                        if ($("#btn-toolbar").length || $(".modal-dialog").length)
                            return;
                        a.getCopy() && a.pasteElement()
                    }
                    if ((c.ctrlKey || c.metaKey) && 67 == c.keyCode) {
                        if ($("#btn-toolbar").length || $(".modal-dialog").length)
                            return;
                        a.copyElement()
                    }
                    b.$apply()
                })
            }
        }
    }
    ]),
    b.module("app.directives.limitInput", []).directive("limitInput", function() {
        return {
            require: "ngModel",
            link: function(a, b, c, d) {
                "transform" == c.cssItem && a.$on("updateTransform", function(a, b) {
                    d.$setViewValue(parseInt(b, 10)),
                    d.$render()
                }),
                "borderRadius" == c.cssItem && a.$on("updateMaxRadius", function(b, c) {
                    a.maxRadius = parseInt(Math.min($(c).outerWidth(), $(c).outerHeight()) / 2 + 10, 10),
                    a.maxRadius < a.model.borderRadius && (d.$setViewValue(a.maxRadius),
                    d.$render()),
                    a.$apply()
                }),
                a.$watch(function() {
                    return $(b).val()
                }, function(a) {
                    +a > c.max && (d.$setViewValue(c.max),
                    d.$render()),
                    +a < c.min && (d.$setViewValue(c.min),
                    d.$render())
                })
            }
        }
    }),
    b.module("app.directives.lineChart", []).directive("lineChart", ["$compile", function(a) {
        return {
            restrict: "EA",
            link: function(a, b, c) {
                var d, e;
                a.$watch(function() {
                    return c.data
                }, function() {
                    c.data && (d = JSON.parse(c.data)),
                    e ? (e.destroy(),
                    e = new Chart(b[0].getContext("2d")).Line(d, {
                        scaleFontColor: "#fff"
                    })) : e = new Chart(b[0].getContext("2d")).Line(d, {
                        scaleFontColor: "#fff"
                    })
                })
            }
        }
    }
    ]),
    b.module("app.directives.loading", []).directive("loginLoading", function() {
        return {
            restrict: "EA",
            link: function(a, b, c) {
                a.$on("loginLoading", function(a, c) {
                    var d = $('<div class="homeMask" style="position: absolute;width: 100%;top:0;bottom:0;background-color:#ccc;opacity:0.8;">正在跳转，请稍后...</div>');
                    d.appendTo($(b))
                })
            }
        }
    }),
    b.module("app.directives.comp.editor", []).directive("mapEditor", function() {
        return {
            restrict: "AE",
            templateUrl: "directives/mapeditor.tpl.html",
            link: function(a, b, c) {
                var d = new BMap.Map("l-map");
                d.centerAndZoom(new BMap.Point(116.404,39.915), 15);
                var e = {
                    onSearchComplete: function(a) {
                        if (f.getStatus() == BMAP_STATUS_SUCCESS) {
                            for (var b = [], c = 0; c < a.getCurrentNumPois(); c++)
                                b.push(a.getPoi(c).title + ", " + a.getPoi(c).address);
                            document.getElementById("r-result").innerHTML = b.join("<br/>")
                        }
                    }
                }
                  
                
                , 
                f = new BMap.LocalSearch(d,e);
                a.searchAddress = function() {
                    f.search(a.address)
                }
            }
        }
    }),
    b.module("app.directives.notification", []).directive("notificationFadeout", ["i18nNotifications", function(a) {
        return {
            restrict: "EA",
            link: function(b, c, d) {
                var e = $(c);
                e.fadeOut(4e3, function() {
                    a.remove(b.notification)
                })
            }
        }
    }
    ]),
    b.module("app.directives.pageTplTypes", []).directive("pageTplTypes", ["pageTplService", function(a) {
        return {
            restrict: "EA",
            replace: !0,
            templateUrl: "directives/page-tpl-types.tpl.html",
            link: function(b, c, d) {
                a.getPageTplTypes().then(function(a) {
                    a.data.list && a.data.list.length > 0 ? b.pageTplTypes = a.data.list : b.pageTplTypes = []
                })
            }
        }
    }
    ]),
    b.module("app.directives.pieChart", []).directive("pieChart", ["$compile", function(a) {
        return {
            restrict: "EA",
            link: function(a, b, c) {
                var d, e;
                a.$watch(function() {
                    return c.data
                }, function() {
                    c.data && (e = JSON.parse(c.data)),
                    d ? (d.destroy(),
                    d = new Chart(b[0].getContext("2d")).Pie(e)) : d = new Chart(b[0].getContext("2d")).Pie(e)
                })
            }
        }
    }
    ]),
    b.module("app.directives.qrcode", []).directive("qrCode", function() {
        return {
            restrict: "A",
            scope: {
                qrUrl: "@"
            },
            link: function(a, b, c) {
                a.$watch("qrUrl", function(a, c) {
                    $("canvas", b).length > 0 && $("canvas", b).remove(),
                    a && (a = a.replace(PREFIX_HOST, PREFIX_HOST_ARRAY[parseInt(10 * Math.random(), 10) % 4]),
                    $(b).qrcode({
                        render: "canvas",
                        width: 200,
                        height: 200,
                        text: a + (/\?/.test(a) ? "&" : "?") + "eqrcode=1"
                    }))
                })
            }
        }
    }).directive("qrCodeSize", function() {
        return {
            restrict: "A",
            scope: {
                qrUrl: "@"
            },
            link: function(a, b, c) {
                var d = parseInt(c.qrCodeSize, 10);
                a.$watch("qrUrl", function(a, c) {
                    $("canvas", b).length > 0 && $("canvas", b).remove(),
                    a && (a = a.replace(PREFIX_HOST, PREFIX_HOST_ARRAY[parseInt(10 * Math.random(), 10) % 4]),
                    $(b).qrcode({
                        render: "canvas",
                        width: d,
                        height: d,
                        text: a + (/\?/.test(a) ? "&" : "?") + "eqrcode=1"
                    }))
                })
            }
        }
    }).directive("downloadCanvas", function() {
        return {
            restrict: "EA",
            link: function(a, b, c) {
                $(b).click(function(b) {
                    var c = $(this).parent().find("canvas").get(0)
                      
                    
                    , 
                    d = c.toDataURL("image/png");
                    this.href = d;
                    var e = a.selectedUrl.substring(a.selectedUrl.lastIndexOf("/") + 1);
                    this.download = e + ".png"
                })
            }
        }
    }),
    b.module("app.directives.register", []).directive("qqButton", function() {
        return {
            restrict: "EA",
            scope: {
                someCtrlFn: "&callbackFn",
                openid: "=",
                accesstoken: "="
            },
            link: function(a, b, c) {
                QC.Login({
                    btnId: c.id,
                    scope: "all"
                }, function(b, c) {
                    var d = b;
                    QC.Login.check() && QC.Login.getMe(function(b, c) {
                        a.openid = b,
                        a.accesstoken = c,
                        a.someCtrlFn({
                            arg1: {
                                openId: b,
                                accessToken: c,
                                type: "qq",
                                userInfo: d
                            }
                        })
                    })
                }, function(a) {
                    alert("QQ登录 注销成功")
                }),
                $("#qqLoginBtn a").removeAttr("onclick").click(function() {
                    alert("第三方注册功能即将开放")
                })
            }
        }
    }).directive("wbButton", function() {
        return {
            restrict: "EA",
            link: function(a, b, c) {
                WB2.anyWhere(function(a) {
                    a.widget.connectButton({
                        id: "wb_connect_btn",
                        type: "3,2",
                        callback: {
                            login: function(a) {},
                            logout: function() {}
                        }
                    })
                }),
                $("#wb_connect_btn").removeAttr("onclick").click(function(a) {
                    return a.stopPropagation(),
                    a.preventDefault(),
                    alert("新浪微博注册功能即将开放"),
                    !1
                })
            }
        }
    }),
    b.module("app.directives.responsiveImage", []).directive("responsiveImage", ["$compile", function(a) {
        return {
            restrict: "EA",
            scope: {
                file: "="
            },
            link: function(a, b, c) {
                "0" != a.fileType && (b.find("img").length ? $element = b.find("img") : "IMG" == b.get(0).nodeName.toUpperCase() && ($element = b),
                $element.bind("load", function() {
                    $(this).removeAttr("style");
                    var b = $(this).parent("li").width()
                      
                    
                    , 
                    c = $(this).parent("li").height();
                    a.file && (a.file.shape = {
                        width: $(this).width(),
                        height: $(this).height()
                    }),
                    this.width <= b && this.height <= c ? (this.style.top = "50%",
                    this.style.marginTop = "-" + this.height / 2 + "px",
                    this.style.left = "50%",
                    this.style.marginLeft = "-" + this.width / 2 + "px") : this.width > this.height ? (this.style.width = b + "px",
                    this.style.height = this.height * b / this.width + "px",
                    this.style.top = "50%",
                    this.style.marginTop = "-" + this.height / 2 + "px") : (this.style.height = c + "px",
                    this.style.width = this.width * c / this.height + "px",
                    this.style.left = "50%",
                    this.style.marginLeft = "-" + this.width / 2 + "px")
                }))
            }
        }
    }
    ]),
    b.module("app.directives.numChangeAnim", []).directive("numChangeAnim", ["$filter", function(a) {
        return {
            restrict: "A",
            scope: {
                content: "@"
            },
            link: function(b, c, d) {
                function e(a, b) {
                    return Math.floor(a + Math.random() * (b - a))
                }
                function f(a, b) {
                    a = a > 0 ? a : 1;
                    for (var c = Math.floor(Math.log10(a)), d = Math.floor(a / Math.pow(10, c)), f = 0, g = 10, h = function(h) {
                        setTimeout(function() {
                            if (10 > g)
                                f = h;
                            else {
                                var i = c > h ? h : c
                                  
                                
                                , 
                                j = Math.pow(10, i) * d;
                                j = j.toString().length == a.toString().length ? a : j,
                                f = e(f, j)
                            }
                            b(f, 9 == h)
                        }, (h * h + h + 2) / 2 * 30)
                    }
                    , i = 0; g > i; i++)
                        h(i)
                }
                function g(b, c) {
                    $(b).children("span").text(a("number")(c))
                }
                b.$watch("content", function(a) {
                    if (a) {
                        var b = parseInt(a, 10);
                        f(b, function(a, d) {
                            g(c, a),
                            d && (g(c, b),
                            $(c).addClass("heartbeat").css({
                                "animation-duration": "1s"
                            }))
                        })
                    }
                })
            }
        }
    }
    ]),
    b.module("app.directives.style", []).directive("panelDraggable", function() {
        return {
            restrict: "A",
            link: function(a, b, c) {
                a.$on("$destroy", function() {
                    $(b).draggable(),
                    $(b).draggable("destroy"),
                    b = null 
                }),
                b.on("$destroy", function() {
                    $(b).draggable(),
                    $(b).draggable("destroy"),
                    b = null 
                }),
                $(b).draggable()
            }
        }
    }),
    b.module("app.directives.component", ["services.scene", "services.select", "scene.create.console.pictures", "scene.edit.trigger"]).directive("compDraggable", function() {
        return {
            restrict: "A",
            link: function(a, b, c) {
                a.$on("$destroy", function() {
                    $(b).draggable(),
                    $(b).draggable("destroy"),
                    b = null 
                }),
                b.on("$destroy", function() {
                    $(b).draggable(),
                    $(b).draggable("destroy"),
                    b = null 
                }),
                $(b).draggable({
                    revert: !1,
                    stack: ".comp-draggable",
                    helper: "panel" == c.compDraggable || "page" == c.compDraggable ? "clone" : "",
                    appendTo: "parent",
                    containment: "panel" == c.compDraggable || "page" == c.compDraggable ? "" : "parent",
                    zIndex: 1049,
                    opacity: .35,
                    stop: function(a, b) {
                        $(a.toElement).one("click", function(a) {
                            a.stopImmediatePropagation()
                        })
                    }
                })
            }
        }
    }).directive("compDroppable", function() {
        return {
            restrict: "A",
            link: function(a, b, c) {
                a.$on("$destroy", function() {
                    $(b).droppable(),
                    $(b).droppable("destroy"),
                    b = null 
                }),
                b.on("$destroy", function() {
                    $(b).droppable(),
                    $(b).droppable("destroy"),
                    b = null 
                }),
                $(b).droppable({
                    accept: ".comp-draggable",
                    hoverClass: "drop-hover",
                    drop: function(b, c) {
                        if (3 != c.draggable.attr("ctype")) {
                            var d = {
                                left: c.offset.left - $(this).offset().left + "px",
                                top: c.offset.top - $(this).offset().top + "px"
                            };
                            "panel" == c.draggable.attr("comp-draggable") ? a.createComp(c.draggable.attr("ctype"), d) : a.updateCompPosition(c.draggable.attr("id"), d)
                        } else
                            a.createComp(3)
                    }
                })
            }
        }
    }).directive("compSortable", function() {
        return {
            restrict: "A",
            link: function(a, b, c) {
                $(b).sortable({
                    axis: "y",
                    update: function(a, b) {}
                })
            }
        }
    }).directive("compResizable", function() {
        return {
            restrict: "A",
            link: function(a, b, c) {
                $(b).resizable({
                    autoHide: !1,
                    containment: "parent",
                    stop: function(b, c) {
                        if ("4" == $(c.element).attr("ctype").charAt(0) || "n" == $(c.element).attr("ctype").charAt(0)) {
                            var d = {
                                width: c.size.width,
                                height: c.size.height,
                                imgStyle: {
                                    width: c.element.find("img").width(),
                                    height: c.element.find("img").height(),
                                    marginTop: c.element.find("img").css("marginTop"),
                                    marginLeft: c.element.find("img").css("marginLeft")
                                }
                            };
                            a.updateCompSize(c.element.attr("id"), d)
                        } else
                            a.updateCompSize(c.element.attr("id"), c.size);
                        $(b.toElement).one("click", function(a) {
                            a.stopImmediatePropagation()
                        })
                    },
                    resize: function(a, c) {
                        var d = $(b).find("img").width() / $(b).find("img").height();
                        if ("4" == $(c.element).attr("ctype").charAt(0) || "n" == $(c.element).attr("ctype").charAt(0)) {
                            var e = c.size.width / c.size.height
                              
                            
                            , 
                            f = c.element.find("img");
                            d >= e ? (f.outerHeight(c.size.height),
                            f.outerWidth(c.size.height * d),
                            f.css("marginLeft", -(f.outerWidth() - c.size.width) / 2),
                            f.css("marginTop", 0)) : (f.outerWidth(c.size.width),
                            f.outerHeight(c.size.width / d),
                            f.css("marginTop", -(f.outerHeight() - c.size.height) / 2),
                            f.css("marginLeft", 0))
                        } else
                            c.element.find(".element").outerWidth(c.size.width),
                            c.element.find(".element").outerHeight(c.size.height)
                    }
                })
            }
        }
    }).directive("photoDraggable", function() {
        return {
            restrict: "A",
            link: function(a, b, c) {
                a.$on("$destroy", function() {
                    $(b).draggable(),
                    $(b).draggable("destroy"),
                    b = null 
                }),
                b.on("$destroy", function() {
                    $(b).draggable(),
                    $(b).draggable("destroy"),
                    b = null 
                }),
                $(b).draggable({
                    revert: !1,
                    helper: "clone",
                    appendTo: ".img_list",
                    zIndex: 1049,
                    opacity: .35,
                    stop: function(a, b) {
                        $(a.toElement).one("click", function(a) {
                            a.stopImmediatePropagation()
                        })
                    }
                })
            }
        }
    }).directive("cropDroppable", function() {
        return {
            restrict: "A",
            link: function(a, b, c) {
                a.$on("$destroy", function() {
                    $(b).droppable(),
                    $(b).droppable("destroy"),
                    b = null 
                }),
                b.on("$destroy", function() {
                    $(b).droppable(),
                    $(b).droppable("destroy"),
                    b = null 
                }),
                $(b).droppable({
                    accept: "li",
                    hoverClass: "drop-hover",
                    drop: function(b, c) {
                        a.preSelectImage(c.draggable.attr("photo-draggable"))
                    }
                })
            }
        }
    }).service("Point", function() {
        function a(a, b) {
            this.x = a,
            this.y = b
        }
        return a.prototype.add = function(b, c) {
            return new a(this.x + b,this.y + c)
        }
        ,
        a.prototype.middle = function(b) {
            return new a((this.x + b.x) / 2,(this.y + b.y) / 2)
        }
        ,
        a.prototype.detectionPointA = function(a) {
            this.x = a.x < this.x ? a.x : this.x,
            this.y = a.y < this.y ? a.y : this.y
        }
        ,
        a.prototype.detectionPointB = function(a) {
            this.x = a.x > this.x ? a.x : this.x,
            this.y = a.y > this.y ? a.y : this.y
        }
        ,
        a
    }).factory("DetectionBox", ["Point", function(a) {
        function b(a) {
            this.element = a,
            this.init()
        }
        return b.prototype.init = function() {
            var b = this.element.position();
            this.startPointA = new a(b.left,b.top);
            var c = this.element.get(0);
            this.startPosition = {
                top: parseInt(c.style.top, 10) || 0,
                left: parseInt(c.style.left, 10) || 0
            };
            var d = /[0-9]*[.]*[0-9]*deg/.exec(c.style.transform || c.style.webkitTransform || c.style.mozTransform || c.style.msTransform || c.style.oTransform || "")
              
            
            , 
            e = d && d.length ? d[0] : "0";
            this.angle = parseInt(e, 10),
            this.radian = 2 * this.angle * Math.PI / 360;
            var f = this.element.width()
              
            
            , 
            g = this.element.height();
            this.elementWidth = f,
            this.elementHeight = g,
            this.left = parseInt(this.element.css("left"), 10),
            this.top = parseInt(this.element.css("top"), 10),
            this.ratio = f / g,
            this.width = Math.abs(f * Math.cos(this.radian)) + Math.abs(g * Math.sin(this.radian)),
            this.height = Math.abs(f * Math.sin(this.radian)) + Math.abs(g * Math.cos(this.radian)),
            this.startPointB = this.startPointA.add(this.width, this.height),
            this.startPointO = this.startPointA.middle(this.startPointB)
        }
        ,
        b.prototype.getID = function() {
            return this.element.attr("id")
        }
        ,
        b.prototype.measure = function() {
            return {
                x: this.startPointA.x,
                y: this.startPointA.y,
                width: this.width,
                height: this.height
            }
        }
        ,
        b
    }
    ]).service("panStateTracker", function() {
        var a = {}
          
        
        , 
        c = {};
        return a.clear = function() {
            c = {}
        }
        ,
        a.register = function(a) {
            c[a.attr("id")] = a
        }
        ,
        a.isElementHasBeenRegisted = function(a) {
            return !!c[a.attr("id")]
        }
        ,
        a.remove = function(a) {
            delete c[a.attr("id")]
        }
        ,
        a.forEach = function(a) {
            b.forEach(c, a)
        }
        ,
        a
    }).controller("MouseCompSelectController", ["$scope", "$element", "Point", "DetectionBox", "panStateTracker", "selectService", function(c, d, e, f, g, h) {
        function i(c, f, g, h, i) {
            d.get(0).style.position = "relative",
            this.startPositionX = c,
            this.startPositionY = f,
            this.width = g,
            this.height = h,
            this.selectAreaPointA = new e(c,f),
            this.selectAreaPointB = new e(c + g,f + h),
            this.startFlag = i,
            this.selectAreaTemplate = d.find(".edit-area-select-container"),
            this.selectAreaTemplate.length || (this.selectAreaTemplate = $('<div class="edit-area-select-container"></div>'),
            d.append(this.selectAreaTemplate));
            var j = d.offset()
              
            
            , 
            k = $("#nr").offset();
            this.offset = j,
            this.containerOffset = k,
            $(a).resize(function() {
                b.extend(j, d.offset()),
                b.extend(k, $("#nr").offset())
            })
        }
        var j = this;
        j.allComponents = [],
        j.selectedComponents = [],
        i.prototype.selectStart = function(a, c) {
            b.extend(this.offset, d.offset()),
            b.extend(this.containerOffset, $("#nr").offset()),
            j.allComponents = [],
            g.forEach(function(a) {
                j.allComponents.push(a)
            }),
            this.startPositionX = a,
            this.startPositionY = c,
            this.startFlag = !0,
            this.updateSelectedElements()
        }
        ,
        i.prototype.isSelectStarted = function() {
            return this.startFlag
        }
        ,
        i.prototype.selectMove = function(a) {
            this.width = a.clientX - this.startPositionX,
            this.height = a.clientY - this.startPositionY,
            this.updateCurrentPosition(),
            this.width > 4 && this.height > 4 && (this.updateSelectArea(),
            this.updateSelectedElements())
        }
        ,
        i.prototype.selectEnd = function() {
            this.startPositionX = this.startPositionY = this.width = this.height = 0,
            this.startFlag = !1,
            this.updateCurrentPosition(),
            this.updateSelectArea()
        }
        ,
        i.prototype.getLocalPoint = function(a) {
            return new e(a.x - this.offset.left,a.y - this.offset.top)
        }
        ,
        i.prototype.updateSelectArea = function() {
            var a = this.getLocalPoint(this.selectAreaPointA);
            this.selectAreaTemplate.css("left", a.x),
            this.selectAreaTemplate.css("top", a.y),
            this.selectAreaTemplate.height(this.height),
            this.selectAreaTemplate.width(this.width)
        }
        ,
        i.prototype.updateCurrentPosition = function() {
            this.selectAreaPointA.x = this.width > 0 ? this.startPositionX : this.width + this.startPositionX,
            this.selectAreaPointA.y = this.height > 0 ? this.startPositionY : this.height + this.startPositionY,
            this.width = Math.abs(this.width),
            this.height = Math.abs(this.height),
            this.selectAreaPointB.x = this.selectAreaPointA.x + this.width,
            this.selectAreaPointB.y = this.selectAreaPointA.y + this.height
        }
        ,
        i.prototype.updateSelectedElements = function() {
            j.selectedComponents = [];
            var a = this;
            h.clearElements(),
            b.forEach(j.allComponents, function(b) {
                return a.contains(b) ? (b.children(".bar").show(),
                void h.addElement(b.attr("id").split("_")[1])) : void b.children(".bar").hide()
            })
        }
        ,
        i.prototype.contains = function(a) {
            var b = new f(a)
              
            
            , 
            c = new e(this.containerOffset.left + b.startPointO.x,this.containerOffset.top + b.startPointO.y);
            return c.x >= this.selectAreaPointA.x && c.x <= this.selectAreaPointB.x && c.y >= this.selectAreaPointA.y && c.y <= this.selectAreaPointB.y
        }
        ;
        var k = new i(0,0,0,0,!1);
        d.bind("mousedown", function(a) {
            var b = $(a.target);
            b.hasClass("comp-resize") || b.parents("li.comp-resize").length || b.hasClass("ui-draggable") || b.parents(".ui-draggable").length || b.parents("#containment").length || b.parents(".create_left").length || ($("body").css({
                "user-select": "none",
                cursor: "default"
            }),
            k.selectStart(a.clientX, a.clientY))
        }),
        d.bind("mousemove", function(a) {
            k.isSelectStarted() && k.selectMove(a)
        }),
        d.bind("mouseup", function() {
            k.isSelectStarted() && ($("body").css({
                "user-select": "initial",
                cursor: "default"
            }),
            k.selectEnd())
        })
    }
    ]).directive("mouseCompSelect", [function() {
        return {
            restrict: "A",
            controller: "MouseCompSelectController"
        }
    }
    ]).factory("editAreaBorderCollisionDetector", ["DetectionBox", "Point", function(a, c) {
        function d() {
            this.editAreaWidth = 320,
            this.editAreaHeight = 486,
            this.detectionBoxs = []
        }
        function e() {
            this.editArea = new d
        }
        return d.prototype.initDetectBoxWithElements = function(c) {
            this.detectionBoxs = [];
            var d = this;
            b.forEach(c, function(b) {
                d.detectionBoxs.push(new a(b))
            })
        }
        ,
        e.prototype.initWithElements = function(a) {
            this.editArea.initDetectBoxWithElements(a),
            this.initBigDetectionBoxPoints()
        }
        ,
        e.prototype.initBigDetectionBoxPoints = function() {
            this.bigDetectionBoxPointA = new c(this.editArea.editAreaWidth,this.editArea.editAreaHeight),
            this.bigDetectionBoxPointB = new c(0,0),
            this.minimumWidth = this.editArea.editAreaWidth,
            this.minimumHeight = this.editArea.editAreaHeight;
            var a = this;
            b.forEach(this.editArea.detectionBoxs, function(b) {
                a.bigDetectionBoxPointA.detectionPointA(b.startPointA),
                a.bigDetectionBoxPointB.detectionPointB(b.startPointB),
                a.minimumWidth > b.elementWidth && (a.minimumWidth = b.elementWidth),
                a.minimumHeight > b.elementHeight && (a.minimumHeight = b.elementHeight)
            })
        }
        ,
        e.prototype.refreshBoxInfo = function() {
            b.forEach(this.editArea.detectionBoxs, function(a) {
                a.init()
            }),
            this.initBigDetectionBoxPoints()
        }
        ,
        e.prototype.translateIntoProperMoveDelta = function(a) {
            var b = {
                x: a.deltaX,
                y: a.deltaY
            };
            return this.bigDetectionBoxPointA.x + a.deltaX < 0 && (b.x = -Math.ceil(this.bigDetectionBoxPointA.x)),
            this.bigDetectionBoxPointA.y + a.deltaY < 0 && (b.y = -Math.ceil(this.bigDetectionBoxPointA.y)),
            this.bigDetectionBoxPointB.x + a.deltaX > this.editArea.editAreaWidth && (b.x = Math.ceil(this.editArea.editAreaWidth - this.bigDetectionBoxPointB.x)),
            this.bigDetectionBoxPointB.y + a.deltaY > this.editArea.editAreaHeight && (b.y = Math.ceil(this.editArea.editAreaHeight - this.bigDetectionBoxPointB.y)),
            b
        }
        ,
        e.prototype.compDragMoveDelta = function(a) {
            return this.translateIntoProperMoveDelta(a)
        }
        ,
        new e
    }
    ]).controller("MultiCompDragController", ["selectService", "$scope", "$element", "editAreaBorderCollisionDetector", "panStateTracker", "gridGuide", function(a, c, d, e, f, g) {
        f.clear();
        var h = this;
        h.selectedComponents = [],
        h.initCollisionDetectorWithElements = function() {
            h.selectedComponents = [];
            var c = $("#nr");
            b.forEach(a.getElements(), function(a) {
                h.selectedComponents.push(c.find("#inside_" + a))
            }),
            e.initWithElements(h.selectedComponents)
        }
        ,
        h.isKeyboard = !1,
        h.compDragStart = function(c) {
            a.getElements().length && (h.initCollisionDetectorWithElements(),
            g.guide.start({
                action: "move"
            }),
            h.isKeyboard = !!c,
            h.isKeyboard || b.forEach(h.selectedComponents, function(a) {
                a.css("opacity", .35)
            }))
        }
        ,
        h.compDragMove = function(c) {
            if (a.getElements().length) {
                var d = e.compDragMoveDelta({
                    deltaX: c.deltaX,
                    deltaY: c.deltaY
                });
                !h.isKeyboard && g.guide.options.snap && g.guide.enforceGuides(d),
                b.forEach(e.editArea.detectionBoxs, function(a) {
                    var b = "translate3d(" + d.x + "px, " + d.y + "px, 0) rotateZ(" + a.angle + "deg)";
                    a.element.css("transform", b)
                }),
                g.guide.sync(d)
            }
        }
        ,
        h.compDragEnd = function(d) {
            if (a.getElements().length) {
                b.forEach(h.selectedComponents, function(a) {
                    a.css("opacity", 1)
                });
                var f = e.compDragMoveDelta({
                    deltaX: d.deltaX,
                    deltaY: d.deltaY
                });
                !h.isKeyboard && g.guide.options.snap && g.guide.enforceGuides(f);
                var i = e.editArea.detectionBoxs.length;
                b.forEach(e.editArea.detectionBoxs, function(a, b) {
                    var d = "translate3d(0, 0, 0) rotateZ(" + a.angle + "deg)";
                    a.element.css("transform", d);
                    var e = {
                        top: a.startPosition.top + f.y,
                        left: a.startPosition.left + f.x
                    };
                    a.element.css("top", e.top),
                    a.element.css("left", e.left),
                    c.updateCompPosition(a.element.attr("id"), e, i - 1 > b)
                }),
                g.guide.stop()
            }
        }
        ,
        g.grid.init(d),
        g.guide.init(d)
    }
    ]).directive("multiCompDrag", function() {
        return {
            restrict: "A",
            controller: "MultiCompDragController"
        }
    }).directive("compDrag", ["panStateTracker", function(a) {
        return {
            require: "^multiCompDrag",
            restrict: "A",
            link: function(b, c, d, e) {
                if (!a.isElementHasBeenRegisted(c)) {
                    if (a.register(c),
                    c.on("$destroy", function() {
                        a.remove(c)
                    }),
                    c.find("img").length) {
                        var f = $('<div class="dragTemplate" style="position: absolute;left: 0;top: 0;right: 0;bottom: 0;background-color: #fff;opacity: 0;"></div>');
                        f.bind("dblclick", function() {
                            f.siblings(".element").trigger("dblclick")
                        }),
                        c.find(".element-box-contents").append(f)
                    }
                    var g = new Hammer(c.find(".element-box-contents").get(0));
                    g.get("pan").set({
                        threshold: 0
                    }),
                    g.on("panstart", function(a) {
                        return $(".edit_area").find(".switch").length ? !1 : c.hasClass("inside-active") ? !1 : (a.preventDefault(),
                        a.srcEvent.preventDefault(),
                        $("body").css({
                            "user-select": "none",
                            cursor: "default"
                        }),
                        void e.compDragStart())
                    }),
                    g.on("panmove", function(a) {
                        return a.preventDefault(),
                        $(".edit_area").find(".switch").length ? !1 : c.hasClass("inside-active") ? !1 : void e.compDragMove(a)
                    }),
                    g.on("panend", function(a) {
                        return $(".edit_area").find(".switch").length ? !1 : c.hasClass("inside-active") ? !1 : (e.compDragEnd(a),
                        $("body").css({
                            "user-select": "initial",
                            cursor: "default"
                        }),
                        void $(a.srcEvent.target).one("click", function(a) {
                            return a.stopImmediatePropagation(),
                            a.stopPropagation(),
                            a.preventDefault(),
                            !1
                        }))
                    })
                }
            }
        }
    }
    ]).directive("compRotate", function() {
        return {
            restrict: "A",
            link: function(a, b, c) {
                var d = $(b)
                  
                
                , 
                e = $('<div class="bar bar-rotate bar-radius">');
                d.append(e).append('<div class="bar bar-line">');
                var f, g = {}, 
                h = new Hammer(e.get(0));
                h.get("pan").set({
                    threshold: 0
                }),
                h.on("panstart", function(a) {
                    $("body").css({
                        "user-select": "none",
                        cursor: 'url("/assets/images/mouserotate.ico"), default'
                    });
                    var b = d.parent();
                    g = {
                        x: parseFloat(d.css("left")) + b.offset().left + d.width() / 2,
                        y: parseFloat(d.css("top")) + b.offset().top + d.height() / 2
                    }
                }),
                h.on("panmove", function(a) {
                    var b = a.center
                      
                    
                    , 
                    c = b.x - g.x
                      
                    
                    , 
                    e = b.y - g.y
                      
                    
                    , 
                    h = Math.abs(c / e);
                    f = Math.atan(h) / (2 * Math.PI) * 360,
                    c > 0 && 0 > e ? f = 360 + f : c > 0 && e > 0 ? f = 180 - f : 0 > c && e > 0 ? f = 180 + f : 0 > c && 0 > e && (f = 360 - f),
                    f > 360 && (f -= 360),
                    d.css({
                        transform: "rotateZ(" + f + "deg)"
                    })
                }),
                h.on("panend", function(b) {
                    $("body").css({
                        "user-select": "initial",
                        cursor: "default"
                    }),
                    a.updateCompAngle(d.attr("id"), f),
                    a.$broadcast("updateTransform", f)
                })
            }
        }
    }).directive("compResize", ["selectService", "picturesService", "triggerService", "panStateTracker", "multiCompResize", "Cursor", "gridGuide", function(a, b, c, d, e, f, g) {
        function h(a, b, c, d) {
            c.css("cursor", d);
            var f = new Hammer(c.get(0));
            f.get("pan").set({
                threshold: 0,
                direction: Hammer.DIRECTION_ALL
            }),
            f.on("panstart", function() {
                $("body").css({
                    "user-select": "none",
                    cursor: "default"
                }),
                e.resizeStart(b),
                g.guide.start({
                    action: "resize"
                })
            }),
            f.on("panmove", function(a) {
                var c = e.resizeMove(b, d, a);
                g.guide.sync(c)
            }),
            f.on("panend", function() {
                $("body").css({
                    "user-select": "initial",
                    cursor: "default"
                }),
                e.resizeEnd(a, b),
                g.guide.stop()
            })
        }
        return {
            restrict: "A",
            link: function(b, c) {
                var d = $('<div class="bar bar-n"><div class="bar-radius"></div></div>')
                  
                
                , 
                e = $('<div class="bar bar-s"><div class="bar-radius"></div></div>')
                  
                
                , 
                g = $('<div class="bar bar-e"><div class="bar-radius"></div></div>')
                  
                
                , 
                i = $('<div class="bar bar-w"><div class="bar-radius"></div></div>')
                  
                
                , 
                j = $('<div class="bar bar-ne bar-radius">')
                  
                
                , 
                k = $('<div class="bar bar-nw bar-radius">')
                  
                
                , 
                l = $('<div class="bar bar-se bar-radius">')
                  
                
                , 
                m = $('<div class="bar bar-sw bar-radius">');
                c.append(d).append(e).append(g).append(i).append(j).append(k).append(l).append(m).unbind("mousedown").mousedown(function(c) {
                    var d = !!$("#nr").find(".mask-trigger").length;
                    if (!d) {
                        var e = $(this).attr("id").split("_")[1];
                        if (c.ctrlKey || c.shiftKey)
                            "none" != $(this).children(".bar").first().css("display") ? ($(this).children(".bar").hide(),
                            a.deleteElement(e)) : ($(this).children(".bar").show(),
                            a.addElement(e));
                        else {
                            if ("none" != $(this).children(".bar").first().css("display"))
                                return;
                            $(this).children(".bar").show().end().siblings().children(".bar").hide(),
                            a.clearElements(),
                            a.addElement(e)
                        }
                        b.safeApply(function() {})
                    }
                }),
                c.find(".element-box").unbind("click").bind("click", function(a) {
                    (a.ctrlKey || a.shiftKey) && a.stopPropagation()
                }),
                c.parent().unbind("mousedown").mousedown(function(c) {
                    $(c.target).closest("li").length || ($(this).children("li").children(".bar").hide(),
                    b.$emit("hideStylePanel"),
                    a.clearElements(),
                    b.safeApply(function() {}))
                }),
                h(b, c, g, f.RESIZE_E),
                h(b, c, i, f.RESIZE_W),
                h(b, c, d, f.RESIZE_N),
                h(b, c, e, f.RESIZE_S),
                h(b, c, j, f.RESIZE_NE),
                h(b, c, k, f.RESIZE_NW),
                h(b, c, l, f.RESIZE_SE),
                h(b, c, m, f.RESIZE_SW)
            }
        }
    }
    ]).service("Cursor", function() {
        var a = {
            RESIZE_W: "w-resize",
            RESIZE_E: "e-resize",
            RESIZE_N: "n-resize",
            RESIZE_S: "s-resize",
            RESIZE_SE: "se-resize",
            RESIZE_SW: "sw-resize",
            RESIZE_NE: "ne-resize",
            RESIZE_NW: "nw-resize"
        };
        return a
    }).factory("multiCompResize", ["selectService", "picturesService", "Cursor", "editAreaBorderCollisionDetector", function(a, c, d, e) {
        var f, g, h = 24, 
        i = 24, 
        j = e.editArea.editAreaWidth, 
        k = e.editArea.editAreaHeight, 
        l = null , 
        m = null , 
        n = {};
        return n.selectedComponents = [],
        n.initCollisionDetectorWithElements = function() {
            n.selectedComponents = [];
            var c = $("#nr");
            b.forEach(a.getElements(), function(a) {
                n.selectedComponents.push(c.find("#inside_" + a))
            }),
            e.initWithElements(n.selectedComponents)
        }
        ,
        n.resizeStart = function() {
            n.initCollisionDetectorWithElements(),
            l = e.bigDetectionBoxPointA,
            m = e.bigDetectionBoxPointB,
            f = e.minimumWidth,
            g = e.minimumHeight
        }
        ,
        n.checkTopBorder = function(a, b) {
            return b.y + a.deltaY < 0 && (a.deltaY = -Math.floor(b.y)),
            this
        }
        ,
        n.checkRightBorder = function(a, b) {
            return b.x + a.deltaX > j && (a.deltaX = Math.floor(j - b.x)),
            this
        }
        ,
        n.checkLeftBorder = function(a, b) {
            return b.x + a.deltaX < 0 && (a.deltaX = -Math.floor(b.x)),
            this
        }
        ,
        n.checkBottomBorder = function(a, b) {
            return b.y + a.deltaY > k && (a.deltaY = Math.floor(k - b.y)),
            this
        }
        ,
        n.checkMinHeight = function(a, b, c, d) {
            var e = Math.floor(c - d);
            return a.deltaY * b > e && (a.deltaY = e * b),
            this
        }
        ,
        n.checkMinWidth = function(a, b, c, d) {
            var e = Math.floor(c - d);
            return a.deltaX * b > e && (a.deltaX = e * b),
            this
        }
        ,
        n.compResizeWithRatio = function(a, c) {
            switch (c) {
            case d.RESIZE_SE:
                b.forEach(e.editArea.detectionBoxs, function(b) {
                    var c = parseInt(a.deltaY * b.ratio, 10)
                      
                    
                    , 
                    d = a.deltaY
                      
                    
                    , 
                    e = {
                        deltaX: c,
                        deltaY: d
                    };
                    n.checkRightBorder(e, b.startPointB).checkBottomBorder(e, b.startPointB).checkMinHeight(e, -1, b.elementHeight, i).checkMinWidth(e, -1, b.elementWidth, h),
                    c !== e.deltaX && (d = e.deltaX / b.ratio,
                    e.deltaY = Math.abs(d) < Math.abs(e.deltaY) ? d : e.deltaY),
                    a.deltaY = e.deltaY,
                    a.deltaX = e.deltaX
                });
                break;
            case d.RESIZE_SW:
                b.forEach(e.editArea.detectionBoxs, function(b) {
                    var c = parseInt(-a.deltaY * b.ratio, 10)
                      
                    
                    , 
                    d = a.deltaY
                      
                    
                    , 
                    e = {
                        deltaX: c,
                        deltaY: d
                    };
                    n.checkLeftBorder(e, b.startPointA).checkBottomBorder(e, b.startPointB).checkMinHeight(e, -1, b.elementHeight, i).checkMinWidth(e, 1, b.elementWidth, h),
                    c !== e.deltaX && (d = -e.deltaX / b.ratio,
                    e.deltaY = Math.abs(d) < Math.abs(e.deltaY) ? d : e.deltaY),
                    a.deltaY = e.deltaY,
                    a.deltaX = e.deltaX
                });
                break;
            case d.RESIZE_NE:
                b.forEach(e.editArea.detectionBoxs, function(b) {
                    var c = parseInt(-a.deltaY * b.ratio, 10)
                      
                    
                    , 
                    d = a.deltaY
                      
                    
                    , 
                    e = {
                        deltaX: c,
                        deltaY: d
                    };
                    n.checkTopBorder(e, b.startPointA).checkRightBorder(e, b.startPointB).checkMinHeight(e, 1, b.elementHeight, i).checkMinWidth(e, -1, b.elementWidth, h),
                    c !== e.deltaX && (d = -e.deltaX / b.ratio,
                    e.deltaY = Math.abs(d) < Math.abs(e.deltaY) ? d : e.deltaY),
                    a.deltaY = e.deltaY,
                    a.deltaX = e.deltaX
                });
                break;
            case d.RESIZE_NW:
                b.forEach(e.editArea.detectionBoxs, function(b) {
                    var c = parseInt(a.deltaY * b.ratio, 10)
                      
                    
                    , 
                    d = a.deltaY
                      
                    
                    , 
                    e = {
                        deltaX: c,
                        deltaY: d
                    };
                    n.checkLeftBorder(e, b.startPointA).checkTopBorder(e, b.startPointA).checkMinHeight(e, 1, b.elementHeight, i).checkMinWidth(e, 1, b.elementWidth, h),
                    c !== e.deltaX && (d = e.deltaX / b.ratio,
                    e.deltaY = Math.abs(d) < Math.abs(e.deltaY) ? d : e.deltaY),
                    a.deltaY = e.deltaY,
                    a.deltaX = e.deltaX
                })
            }
            return this
        }
        ,
        n.resizeMove = function(a, c, j) {
            var k = {
                deltaX: j.deltaX,
                deltaY: j.deltaY
            }
              
            
            , 
            o = null ;
            switch (c) {
            case d.RESIZE_W:
                n.checkLeftBorder(k, l).checkMinWidth(k, 1, f, h),
                o = {
                    x: k.deltaX,
                    y: 0,
                    width: -k.deltaX,
                    height: 0
                },
                b.forEach(e.editArea.detectionBoxs, function(a) {
                    a.element.css({
                        left: a.left + k.deltaX,
                        width: a.elementWidth - k.deltaX
                    })
                });
                break;
            case d.RESIZE_E:
                n.checkRightBorder(k, m).checkMinWidth(k, -1, f, h),
                o = {
                    x: 0,
                    y: 0,
                    width: k.deltaX,
                    height: 0
                },
                b.forEach(e.editArea.detectionBoxs, function(a) {
                    a.element.css("width", a.elementWidth + k.deltaX)
                });
                break;
            case d.RESIZE_N:
                n.checkTopBorder(k, l).checkMinHeight(k, 1, g, i),
                o = {
                    x: 0,
                    y: k.deltaY,
                    width: 0,
                    height: -k.deltaY
                },
                b.forEach(e.editArea.detectionBoxs, function(a) {
                    a.element.css({
                        top: a.top + k.deltaY,
                        height: a.elementHeight - k.deltaY
                    })
                });
                break;
            case d.RESIZE_S:
                n.checkBottomBorder(k, m).checkMinHeight(k, -1, g, i),
                o = {
                    x: 0,
                    y: 0,
                    width: 0,
                    height: k.deltaY
                },
                b.forEach(e.editArea.detectionBoxs, function(a) {
                    a.element.css("height", a.elementHeight + k.deltaY)
                });
                break;
            case d.RESIZE_SE:
                n.compResizeWithRatio(k, c),
                o = {
                    x: 0,
                    y: 0,
                    width: k.deltaX,
                    height: k.deltaY
                },
                b.forEach(e.editArea.detectionBoxs, function(a) {
                    var b = a.elementHeight + k.deltaY
                      
                    
                    , 
                    c = b * a.ratio;
                    a.element.css({
                        height: b,
                        width: c
                    })
                });
                break;
            case d.RESIZE_SW:
                n.compResizeWithRatio(k, c),
                o = {
                    x: k.deltaX,
                    y: 0,
                    width: -k.deltaX,
                    height: k.deltaY
                },
                b.forEach(e.editArea.detectionBoxs, function(a) {
                    var b = a.elementHeight + k.deltaY
                      
                    
                    , 
                    c = b * a.ratio;
                    a.element.css({
                        left: a.left - (c - a.elementWidth),
                        height: b,
                        width: c
                    })
                });
                break;
            case d.RESIZE_NE:
                n.compResizeWithRatio(k, c),
                o = {
                    x: 0,
                    y: k.deltaY,
                    width: k.deltaX,
                    height: -k.deltaY
                },
                b.forEach(e.editArea.detectionBoxs, function(a) {
                    var b = a.elementHeight - k.deltaY
                      
                    
                    , 
                    c = b * a.ratio;
                    a.element.css({
                        top: a.top + k.deltaY,
                        height: b,
                        width: c
                    })
                });
                break;
            case d.RESIZE_NW:
                n.compResizeWithRatio(k, c),
                o = {
                    x: k.deltaX,
                    y: k.deltaY,
                    width: -k.deltaX,
                    height: -k.deltaY
                },
                b.forEach(e.editArea.detectionBoxs, function(a) {
                    var b = a.elementHeight - k.deltaY
                      
                    
                    , 
                    c = b * a.ratio;
                    a.element.css({
                        top: a.top + k.deltaY,
                        left: a.left - (c - a.elementWidth),
                        height: b,
                        width: c
                    })
                })
            }
            return b.forEach(n.selectedComponents, function(a) {
                n.setChildrenSizeMove(a)
            }),
            o
        }
        ,
        n.setChildrenSizeMove = function(a) {
            var b = a.children(".element-box")
              
            
            , 
            c = {
                width: b.width(),
                height: b.height()
            };
            if ("4" == a.attr("ctype").charAt(0) || "n" == a.attr("ctype").charAt(0)) {
                var d = a.find("img")
                  
                
                , 
                e = d.width() / d.height()
                  
                
                , 
                f = c.width / c.height;
                e >= f ? (d.outerHeight(c.height),
                d.outerWidth(c.height * e),
                d.css("marginLeft", -(d.outerWidth() - c.width) / 2),
                d.css("marginTop", 0)) : (d.outerWidth(c.width),
                d.outerHeight(c.width / e),
                d.css("marginTop", -(d.outerHeight() - c.height) / 2),
                d.css("marginLeft", 0))
            } else
                "p" == a.attr("ctype").charAt(0) ? a.find(".fluxslider, .images, .image1, .image2").css({
                    width: c.width,
                    height: c.height
                }) : (a.find(".element").css({
                    width: c.width,
                    height: c.height
                }),
                "i" == a.attr("ctype") && a.find(".comp_counter").css({
                    "line-height": c.height + "px"
                }))
        }
        ,
        n.resizeEnd = function(a) {
            b.forEach(n.selectedComponents, function(b, c) {
                n.setChildrenSizeEnd(a, b, c < n.selectedComponents.length - 1),
                a.$broadcast("updateMaxRadius", b)
            })
        }
        ,
        n.setChildrenSizeEnd = function(a, b, d) {
            var e = b.position()
              
            
            , 
            f = {
                width: b.width(),
                height: b.height(),
                left: e.left,
                top: e.top
            };
            if ("i" == b.attr("ctype") && (f.lineHeight = f.height + "px"),
            "4" == b.attr("ctype").charAt(0) || "n" == b.attr("ctype").charAt(0)) {
                var g = b.find("img")
                  
                
                , 
                h = {
                    width: f.width,
                    height: f.height,
                    left: f.left,
                    top: f.top,
                    imgStyle: {
                        width: g.width(),
                        height: g.height(),
                        marginTop: g.css("marginTop"),
                        marginLeft: g.css("marginLeft")
                    }
                };
                a.updateCompSize(b.attr("id"), h, d)
            } else if ("p" == b.attr("ctype").charAt(0)) {
                var i = c.getProperties();
                if (!i || !i.children)
                    return;
                var j = b.find(".slider")
                  
                
                , 
                k = j.attr("id");
                j.empty();
                for (var l = 0; l < i.children.length; l++)
                    j.append('<img src="' + PREFIX_FILE_HOST + i.children[l].src + '">');
                utilPictures.deleteInterval(k),
                new flux.slider("#nr #" + k,{
                    autoplay: i.autoPlay,
                    delay: i.interval,
                    pagination: !1,
                    transitions: [utilPictures.getPicStyle(i.picStyle).name],
                    width: f.width,
                    height: f.height,
                    bgColor: i.bgColor,
                    onStartEnd: function(a) {
                        utilPictures.addInterval(k, a)
                    }
                }),
                a.updateCompSize(b.attr("id"), f, d)
            } else
                a.updateCompSize(b.attr("id"), f, d)
        }
        ,
        n
    }
    ]).factory("gridGuide", ["panStateTracker", "DetectionBox", "selectService", "editAreaBorderCollisionDetector", function(a, c, d, e) {
        var f = {
            init: function(a) {
                this.color = "rgba(150, 150, 150, 0.2)",
                this.$container = a,
                this.render(),
                setTimeout(function() {
                    f.show()
                }, 1)
            },
            render: function() {
                this.domElement = $('<div class="eq-block-grid">'),
                this.canvasElement = $('<canvas class="eq-block-grid-inner">').appendTo(this.domElement)
            },
            show: function() {
                this.domElement.appendTo(this.$container),
                this.paint(),
                this.enabled = !0
            },
            hide: function() {
                this.domElement.remove(),
                this.enabled = !1
            },
            paint: function() {
                var a = 320
                  
                
                , 
                b = 486
                  
                
                , 
                c = this.getRows()
                  
                
                , 
                d = this.getCols()
                  
                
                , 
                e = Math.round(a / d)
                  
                
                , 
                f = Math.round(b / c)
                  
                
                , 
                g = (b - f * c) / 2;
                this.canvasElement.css({
                    left: 0,
                    top: 0
                }),
                this.canvasElement.attr({
                    width: a,
                    height: b
                });
                var h = this.canvasElement.get(0).getContext("2d");
                h.clearRect(0, 0, a, b);
                for (var i = 1; d > i; i++)
                    h.fillStyle = this.color,
                    h.fillRect(Math.floor(i * e), 0, 1, b);
                for (var j = 1; c > j; j++)
                    h.fillStyle = this.color,
                    h.fillRect(0, Math.floor(j * f) + g, a, 1)
            },
            getRows: function() {
                return 16
            },
            getCols: function() {
                return 10
            }
        }
          
        
        , 
        g = {
            snap: !0,
            action: "move",
            threshold: 1,
            enabled: !0
        }
          
        
        , 
        h = {
            init: function(a) {
                this.guides = {
                    h: [],
                    v: []
                },
                this.slideBounds = {
                    width: 320,
                    height: 486,
                    x: 0,
                    y: 0
                },
                this.render(),
                a.append(this.domElement),
                this.options = g
            },
            render: function() {
                this.domElement = $('<div class="eq-block-guides">')
            },
            start: function(e) {
                if (this.options.enabled) {
                    this.allBlocks = [],
                    a.forEach(function(a, b) {
                        h.allBlocks.push(new c(a))
                    }),
                    this.targetBlocks = [],
                    b.forEach(d.getElements(), function(a) {
                        h.allBlocks.forEach(function(b) {
                            b.element.attr("id") == "inside_" + a && h.targetBlocks.push(b)
                        })
                    }),
                    this.gridLines = [];
                    var i = f.getCols()
                      
                    
                    , 
                    j = f.getRows()
                      
                    
                    , 
                    k = Math.round(this.slideBounds.width / i)
                      
                    
                    , 
                    l = Math.round(this.slideBounds.height / j)
                      
                    
                    , 
                    m = (this.slideBounds.height - l * j) / 2;
                    if (f.enabled) {
                        for (var n = 1; i > n; n++)
                            this.gridLines.push(this.getCenterEdge({
                                x: n * k,
                                y: 0,
                                width: 0,
                                height: this.slideBounds.height
                            }, "grid-col-" + n, "horizontal"));
                        for (var o = 1; j > o; o++)
                            this.gridLines.push(this.getCenterEdge({
                                x: 0,
                                y: o * l + m,
                                width: this.slideBounds.width,
                                height: 0
                            }, "grid-row-" + o, "vertical"))
                    }
                    this.gridLines.push(this.getCenterEdge({
                        x: this.slideBounds.width / 2,
                        y: 0,
                        width: 0,
                        height: this.slideBounds.height
                    }, "grid-col-center", "horizontal")),
                    this.gridLines.push(this.getCenterEdge({
                        x: 0,
                        y: this.slideBounds.height / 2,
                        width: this.slideBounds.width,
                        height: 0
                    }, "grid-row-center", "vertical")),
                    this.options = $.extend(g, e)
                }
            },
            stop: function() {
                this.clearGuideElements()
            },
            sync: function(a) {
                this.options.enabled && (this.findGuides(a),
                this.renderGuides())
            },
            findGuides: function(a) {
                a = b.extend({
                    x: 0,
                    y: 0,
                    width: 0,
                    height: 0
                }, a),
                this.guides.h.length = 0,
                this.guides.v.length = 0;
                var c = {
                    x: e.bigDetectionBoxPointA.x + a.x,
                    y: e.bigDetectionBoxPointA.y + a.y,
                    width: e.bigDetectionBoxPointB.x - e.bigDetectionBoxPointA.x + a.width,
                    height: e.bigDetectionBoxPointB.y - e.bigDetectionBoxPointA.y + a.height
                }
                  
                
                , 
                d = this.getEdges(c, "target-bounds", "resize" === this.options.action);
                this.combinedBounds = c,
                this.allBlocks.forEach(function(a) {
                    -1 === h.targetBlocks.indexOf(a) && h.compageEdges(d, h.getEdges(a.measure(), a.getID()), h.options.threshold)
                }),
                this.gridLines.forEach(function(a) {
                    h.compageEdges(d, a, h.options.threshold)
                }),
                this.guides.h.sort(function(a, b) {
                    return a.distance - b.distance
                }),
                this.guides.v.sort(function(a, b) {
                    return a.distance - b.distance
                })
            },
            enforceGuides: function(a) {
                if (this.options.enabled) {
                    var b = this.options.threshold;
                    this.options.threshold = 3,
                    this.findGuides(a),
                    this.options.threshold = b;
                    var c, d = 0, 
                    e = 0;
                    this.guides.h.length && (c = this.guides.h[0],
                    d = c.compareEdge.x - c.targetEdge.x),
                    this.guides.v.length && (c = this.guides.v[0],
                    e = c.compareEdge.y - c.targetEdge.y),
                    a.x += d,
                    a.y += e
                }
            },
            compageEdges: function(a, b, c) {
                var d;
                a.h.forEach(function(a) {
                    b.h.forEach(function(b) {
                        d = Math.abs(a.x - b.x),
                        c > d && h.guides.h.push({
                            distance: d,
                            targetEdge: a,
                            compareEdge: b
                        })
                    })
                }),
                a.v.forEach(function(a) {
                    b.v.forEach(function(b) {
                        d = Math.abs(a.y - b.y),
                        c > d && h.guides.v.push({
                            distance: d,
                            targetEdge: a,
                            compareEdge: b
                        })
                    })
                })
            },
            renderGuides: function() {
                var a = [];
                this.guides.h.forEach(function(b) {
                    a.push(h.renderGuide(b))
                }),
                this.guides.v.forEach(function(b) {
                    a.push(h.renderGuide(b))
                }),
                this.clearGuideElements(a)
            },
            renderGuide: function(a) {
                var b = a.targetEdge
                  
                
                , 
                c = a.compareEdge
                  
                
                , 
                d = $('[data-guide-id="' + c.id + '"]');
                0 === d.length && (d = $('<div data-guide-id="' + c.id + '">').appendTo(this.domElement),
                setTimeout(function() {
                    d.addClass("show")
                }, 1));
                var e = {
                    top: Math.min(c.bounds.y, this.combinedBounds.y),
                    right: Math.max(c.bounds.x + c.bounds.width, this.combinedBounds.x + this.combinedBounds.width),
                    bottom: Math.max(c.bounds.y + c.bounds.height, this.combinedBounds.y + this.combinedBounds.height),
                    left: Math.min(c.bounds.x, this.combinedBounds.x)
                };
                if ("number" == typeof c.y) {
                    var f = "s" === b.direction ? -1 : 0;
                    d.addClass("guide-h"),
                    d.css({
                        top: Math.floor(c.y + f),
                        left: e.left,
                        width: e.right - e.left
                    })
                } else {
                    var g = "e" === b.direction ? -1 : 0;
                    d.addClass("guide-v"),
                    d.css({
                        left: Math.floor(c.x + g),
                        top: e.top,
                        height: e.bottom - e.top
                    })
                }
                return c.id
            },
            getEdges: function(a, b, c) {
                var d = {
                    h: [{
                        id: b + "-h1",
                        bounds: a,
                        x: a.x,
                        offset: 0,
                        direction: "w"
                    }, {
                        id: b + "-h2",
                        bounds: a,
                        x: a.x + a.width / 2,
                        offset: -a.width / 2,
                        direction: "hc"
                    }, {
                        id: b + "-h3",
                        bounds: a,
                        x: a.x + a.width,
                        offset: -a.width,
                        direction: "e"
                    }],
                    v: [{
                        id: b + "-v1",
                        bounds: a,
                        y: a.y,
                        offset: 0,
                        direction: "n"
                    }, {
                        id: b + "-v2",
                        bounds: a,
                        y: a.y + a.height / 2,
                        offset: -a.height / 2,
                        direction: "vc"
                    }, {
                        id: b + "-v3",
                        bounds: a,
                        y: a.y + a.height,
                        offset: -a.height,
                        direction: "s"
                    }]
                };
                return c && (d.h.splice(1, 1),
                d.v.splice(1, 1)),
                d
            },
            getCenterEdge: function(a, b, c) {
                var d = {
                    h: [],
                    v: []
                };
                return "vertical" === c ? d.v.push({
                    id: b + "-v2",
                    bounds: a,
                    y: a.y + a.height / 2,
                    offset: -a.height / 2,
                    direction: b
                }) : d.h.push({
                    id: b + "-h2",
                    bounds: a,
                    x: a.x + a.width / 2,
                    offset: -a.width / 2,
                    direction: b
                }),
                d
            },
            clearGuideElements: function(a) {
                var b = this.domElement.find(".guide-v, .guide-h");
                a && a.length && (b = b.filter(function(b, c) {
                    return -1 === a.indexOf(c.getAttribute("data-guide-id"))
                })),
                b.remove()
            }
        };
        return {
            grid: f,
            guide: h
        }
    }
    ]).directive("pasteElement", ["sceneService", function(a) {
        function b() {
            var b = $('<ul id="pasteMenu" class="dropdown-menu" style="min-width: 100px; display: block;" role="menu" aria-labelledby="dropdownMenu1"><li class="paste" style="text-align:center;" role="presentation"><a role="menuitem" tabindex="-1"><div class="fa fa-paste"></div>&nbsp;&nbsp;粘贴</a></li></ul>').css({
                position: "absolute",
                "user-select": "none"
            });
            return b.find(".paste").on("click", function() {
                a.pasteElement(),
                b.hide()
            }),
            b
        }
        return {
            restrict: "EA",
            link: function(c, d, e) {
                var f = $(d);
                f.on("contextmenu", function(c) {
                    if (a.getCopy()) {
                        var d = b()
                          
                        
                        , 
                        e = $("#eq_main")
                          
                        
                        , 
                        f = $("#pasteMenu");
                        f.length > 0 && f.remove(),
                        e.append(d),
                        d.css({
                            left: c.pageX + e.scrollLeft() + 15,
                            top: c.pageY + e.scrollTop()
                        }).show(),
                        e.mousemove(function(a) {
                            var b = $("#pasteMenu");
                            (a.pageX < b.offset().left - 20 || a.pageX > b.offset().left + b.width() + 20 || a.pageY < b.offset().top - 20 || a.pageY > b.offset().top + b.height() + 20) && (b.hide(),
                            $(this).unbind("mousemove"))
                        })
                    }
                    return !1
                })
            }
        }
    }
    ]).directive("eqxEditDestroy", ["selectService", function(a) {
        return {
            link: function(b, c) {
                c.on("$destroy", function() {
                    a.clearElements(),
                    utilPictures.clearInterval()
                })
            }
        }
    }
    ]).directive("elementAnim", ["selectService", function(a) {
        function b(a, c, d, e) {
            if (c.length && e < c.length) {
                var f = a.get(0);
                a.css("animation", ""),
                f.offsetWidth = f.offsetWidth,
                a.css("animation", d[e] + " " + c[e].duration + "s ease 0s").css("animation-fill-mode", "backwards"),
                a.one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend", function() {
                    e++,
                    b(a, c, d, e)
                })
            }
        }
        return {
            restrict: "EA",
            link: function(a, c) {
                var d;
                a.$on("previewCurrentChange", function(a, b) {
                    d = d = $("#inside_" + b.elemId + " .element-box");
                    var c = d.get(0);
                    c.offsetWidth = c.offsetWidth,
                    d.css("animation", b.animClasses[b.count] + " " + b.anim.duration + "s ease 0s").css("animation-fill-mode", "backwards")
                }),
                a.$on("previewAllChanges", function(a, c) {
                    d = d = $("#inside_" + c.elemId + " .element-box"),
                    b(d, c.animations, c.animClasses, c.count)
                })
            }
        }
    }
    ]),
    b.module("app.directives.editor", []).directive("toolbar", ["$compile", "sceneService", function(c, d) {
        return {
            restrict: "EA",
            replace: !0,
            templateUrl: "directives/toolbar.tpl.html",
            link: function(e, f, g) {
                f.bind("keydown", function(a) {
                    a.stopPropagation()
                }),
                e.internalLinks = b.copy(e.pages),
                e.internalLink || e.externalLink || (e.internalLink = e.internalLinks[0],
                e.externalLink = "http://");
                console.log('e.internalLinks ', e.internalLinks);
                console.log('e.externalLink ', e.externalLink);
                
                var h = ["#000000", "#7e2412", "#ff5400", "#225801", "#0c529e", "#333333", "#b61b52", "#f4711f", "#3bbc1e", "#23a3d3", "#888888", "#d34141", "#f7951e", "#29b16a", "#97daf3", "#cccccc", "#ec7c7c", "#fdea02", "#79c450", "#563679", "#ffffff", "#ffcccc", "#d9ef7f", "#c3f649"]
                  
                
                , 
                i = $(".color-menu")
                  
                
                , 
                j = $(".bgcolor-menu");
                $.each(h, function(a, b) {
                    i.append($('<li><a dropdown-toggle class="btn" data-edit="foreColor ' + b + '" style="background-color: ' + b + '"></a></li>'))
                }),
                c(i.append($('<li><a dropdown-toggle class="btn glyphicon glyphicon-remove" data-edit="foreColor transparent" style="background-color: transparent"></a></li>')))(e);
                var k = function(a) {
                    var b = /^#?([a-f\d])([a-f\d])([a-f\d])$/i;
                    a = a.replace(b, function(a, b, c, d) {
                        return b + b + c + c + d + d
                    });
                    var c = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(a);
                    return c ? {
                        r: parseInt(c[1], 16),
                        g: parseInt(c[2], 16),
                        b: parseInt(c[3], 16)
                    } : null 
                }
                ;
                $.each(h, function(a, b) {
                    var c = k(b);
                    j.append($('<li><a dropdown-toggle class="btn" data-edit="backColor rgba(' + c.r + "," + c.g + "," + c.b + ', 0.3)" style="background-color: rgba(' + c.r + "," + c.g + "," + c.b + ', 0.3)"></a></li>'))
                }),
                c(j.append($('<li><a dropdown-toggle class="btn glyphicon glyphicon-remove" data-edit="backColor transparent" style="background-color: transparent"></a></li>')))(e),
                d.currentElemDef.css.lineHeight = (parseFloat(d.currentElemDef.css.lineHeight) || 1).toFixed(1),
                e.increaseLineHeight = function() {
                    var b = a.getSelection()
                      
                    
                    , 
                    c = b.focusNode
                      
                    
                    , 
                    e = $(c).parents(".element-box");
                    d.currentElemDef.css.lineHeight = (parseFloat(d.currentElemDef.css.lineHeight) + .1).toFixed(1),
                    e.css("line-height", d.currentElemDef.css.lineHeight),
                    $(c.parentNode).focus()
                }
                ,
                e.decreaseLineHeight = function() {
                    var b = a.getSelection()
                      
                    
                    , 
                    c = b.focusNode
                      
                    
                    , 
                    e = $(c).parents(".element-box");
                    d.currentElemDef.css.lineHeight > .1 && (d.currentElemDef.css.lineHeight = (parseFloat(d.currentElemDef.css.lineHeight) - .1).toFixed(1),
                    e.css("line-height", d.currentElemDef.css.lineHeight)),
                    $(c.parentNode).focus()
                }
            }
        }
    }
    ]),
    b.module("app.directives.uislider", []).value("uiSliderConfig", {}).directive("uiSlider", ["uiSliderConfig", "$timeout", function(a, d) {
        return a = a || {},
        {
            require: "ngModel",
            compile: function() {
                return function(e, f, g, h) {
                    function i(a, b) {
                        return b ? parseFloat(a) : parseInt(a, 10)
                    }
                    function j() {
                        f.slider("destroy")
                    }
                    var k = b.extend(e.$eval(g.uiSlider) || {}, a)
                      
                    
                    , 
                    l = {
                        min: null ,
                        max: null 
                    }
                      
                    
                    , 
                    m = ["min", "max", "step"]
                      
                    
                    , 
                    n = b.isUndefined(g.useDecimals) ? !1 : !0
                      
                    
                    , 
                    o = function() {
                        b.isArray(h.$viewValue) && k.range !== !0 && (console.warn("Change your range option of ui-slider. When assigning ngModel an array of values then the range option should be set to true."),
                        k.range = !0),
                        b.forEach(m, function(a) {
                            b.isDefined(g[a]) && (k[a] = i(g[a], n))
                        }),
                        f.slider(k),
                        o = b.noop
                    }
                    ;
                    b.forEach(m, function(a) {
                        g.$observe(a, function(b) {
                            b && (o(),
                            k[a] = i(b, n),
                            f.slider("option", a, i(b, n)),
                            h.$render())
                        })
                    }),
                    g.$observe("disabled", function(a) {
                        o(),
                        f.slider("option", "disabled", !!a)
                    }),
                    e.$watch(g.uiSlider, function(a) {
                        o(),
                        a !== c && f.slider("option", a)
                    }, !0),
                    d(o, 0, !0),
                    f.bind("slide", function(a, b) {
                        h.$setViewValue(b.values || b.value),
                        e.$apply()
                    }),
                    h.$render = function() {
                        o();
                        var a = k.range === !0 ? "values" : "value";
                        k.range || !isNaN(h.$viewValue) || h.$viewValue instanceof Array ? k.range && !b.isDefined(h.$viewValue) && (h.$viewValue = [0, 0]) : h.$viewValue = 0,
                        k.range === !0 && (b.isDefined(k.min) && k.min > h.$viewValue[0] && (h.$viewValue[0] = k.min),
                        b.isDefined(k.max) && k.max < h.$viewValue[1] && (h.$viewValue[1] = k.max),
                        h.$viewValue[0] > h.$viewValue[1] && (l.min >= h.$viewValue[1] && (h.$viewValue[0] = l.min),
                        l.max <= h.$viewValue[0] && (h.$viewValue[1] = l.max)),
                        l.min = h.$viewValue[0],
                        l.max = h.$viewValue[1]),
                        f.slider(a, h.$viewValue)
                    }
                    ,
                    e.$watch(g.ngModel, function() {
                        k.range === !0 && h.$render()
                    }, !0),
                    f.bind("$destroy", j);
                    var p = $('<div class="ui-slider-progress-bar"></div>');
                    f.append(p);
                    var q = e.$watch(g.ngModel, function() {
                        setTimeout(function() {
                            p.css("width", $(".ui-slider-handle", f).css("left"))
                        })
                    }, !0);
                    f.bind("$destroy", function() {
                        q()
                    })
                }
            }
        }
    }
    ]),
    b.module("security.authority", []).factory("authority", [function() {
        var a = {
            GROUP_CUSTOMER: 1,
            SCENE_HIDE_LASTPAGE_SETTING: 2,
            TRANSFER_SCENE: 4,
            SCENE_EDIT_TRIGGER: 8,
            EXPAND_WEBSITE: 16,
            SCENE_EDIT_SOUND: 32,
            ACCESS_NEW_PAGEFLIP: 64,
            COMP_ANIMATION: 128,
            RADIO_CHECKBOX_RATING: 256,
            INTERACTION: 512,
            ACCESS_DOMAIN_BIND: 1024,
            LOADING_LOGO: 2048,
            TEMPLATE_PAYMENT: 4096,
            INTERACTION_COUNTER: 8192,
            SCENE_PASSWORD: 16384
        }
          
        
        , 
        b = {
            1: {
                code: 8509,
                name: "普通账号"
            },
            2: {
                code: 28671,
                name: "企业账号"
            },
            21: {
                code: 27103,
                name: "企业子账号"
            },
            3: {
                code: 29695,
                name: "高级用户"
            },
            4: {
                code: 30207,
                name: "服务商用户"
            },
            99: {
                code: 29695,
                name: "超级用户"
            }
        };
        return {
            accessDef: a,
            userRoleDef: b
        }
    }
    ]),
    b.module("security.authorization", ["security.service"]).provider("securityAuthorization", {
        requireAdminUser: ["securityAuthorization", function(a) {
            return a.requireAdminUser()
        }
        ],
        requireAuthenticatedUser: ["securityAuthorization", function(a) {
            return a.requireAuthenticatedUser()
        }
        ],
        $get: ["security", "securityRetryQueue", function(a, b) {
            var c = {
                requireAuthenticatedUser: function() {
                    var d = a.requestCurrentUser().then(function(d) {
                        return a.isAuthenticated() ? void 0 : b.pushRetryFn("unauthenticated-client", c.requireAuthenticatedUser)
                    });
                    return d
                },
                requireAdminUser: function() {
                    var d = a.requestCurrentUser().then(function(d) {
                        return a.isAdmin() ? void 0 : b.pushRetryFn("unauthorized-client", c.requireAdminUser)
                    });
                    return d
                }
            };
            return c
        }
        ]
    }),
    b.module("security", ["security.service", "security.interceptor", "security.login", "security.authorization"]),
    b.module("security.interceptor", ["security.retryQueue"]).factory("securityInterceptor", ["$injector", "$location", "securityRetryQueue", function(a, b, c) {
        return function(d) {
            return d.then(null , function(e) {
                return 401 === e.status && (d = c.pushRetryFn("unauthorized-server", function() {
                    return a.get("$http")(e.config)
                })),
                403 === e.status && (alert("对不起，您没有查看此内容的权限"),
                b.path("/home")),
                d
            })
        }
    }
    ]).config(["$httpProvider", function(a) {
        a.responseInterceptors.push("securityInterceptor");
        var b = [JSON_URL + "?c=user&a=login", JSON_URL + "?c=scene&a=createpage&id=", JSON_URL + "?c=scene&a=pagelist", JSON_URL + "?c=upfile&a=upload", PREFIX_URL + "m/c/group/create"];
        a.interceptors.push(["$q", function(a) {
            return {
                request: function(c) {
                    var d = c.url;
                    for (p = 0; p < b.length; p++)
                        0 === d.indexOf(b[p]) && $("#loading").show();
                    return c || a.when(c)
                },
                response: function(b) {
                    return $("#loading").hide(),
                    b || a.when(b)
                }
            }
        }
        ])
    }
    ]),
    b.module("security.login.form", ["services.localizedMessages", "app.directives.addelement", "security.thirdparty"]).controller("LoginFormController", ["$scope", "$timeout", "$window", "security", "localizedMessages", "$location", "$sce", "thirdpartyService", function(a, b, c, d, e, f, g, h) {
        a.user = {},
        a.retrieve = {},
        a.showLogin = !0,
        a.sendPassword = !1,
        a.unExist = !1,
        a.authError = null ,
        a.isValidateCodeLogin = d.isValidateCodeLogin,
        a.validateCodeSrc = PREFIX_URL + "servlet/validateCodeServlet",
        a.authReason = null ,
        d.getLoginReason() && (a.authReason = d.isAuthenticated() ? e.get("login.reason.notAuthorized") : e.get("login.reason.notAuthenticated")),
        a.rotate = function(c) {
            $(".modal-content").addClass("flip"),
            $(".login-form-section").fadeOut(600),
            b(function() {
                a.showLogin = !c,
                $(".login-form-section").fadeIn(0),
                $(".modal-content").removeClass("flip")
            }, 600)
        }
        ,
        a.login = function() {
            a.authError = null ;
            var b = {
                username: a.user.email,
                password: a.user.password,
                rememberMe: a.user.rememberMe
            };
            return !a.isValidateCodeLogin || (b.geetest_challenge = challenge,
            b.geetest_validate = validate,
            b.geetest_seccode = seccode,
            challenge && validate && seccode) ? a.user.email ? a.user.password ? void d.login($.param(b)).then(function(b) {
                challenge = null ,
                validate = null ,
                seccode = null ,
                b ? (selectorA && selectorA(".gt_refresh_button").click(),
                1005 === b.code,
                a.isValidateCodeLogin = b.map.isValidateCodeLogin,
                a.authReason = "",
                a.authError = b.msg) : (a.authError = e.get("login.error.invalidCredentials"),
                submit = !1)
            }, function(b) {
                a.authError = e.get("login.error.serverError", {
                    exception: b
                })
            }) : (a.authReason = "",
            void (a.authError = "密码不能为空")) : (a.authReason = "",
            void (a.authError = "邮箱不能为空")) : (a.authReason = "",
            void (a.authError = "验证码不能为空"))
        }
        ,
        a.openRegister = function() {
            f.path("/home/register", !1)
        }
        ,
        a.clearForm = function() {
            a.user = {}
        }
        ,
        a.cancelLogin = function() {
            d.cancelLogin()
        }
        ,
        a.reset = function() {
            a.user = {},
            a.retrieve = {}
        }
        ;
        var i = "http://api.geetest.com/get.php?gt=1ebc844c9e3a8c23e2ea4b567a8afd2d&time=" + (new Date).getTime();
        a.validateCodeUrl = g.trustAsResourceUrl(i),
        b(function() {
            $('input[name="userEmail"]').focus()
        }, 300),
        a.retrievePassword = function() {
            return a.retrieve.email ? submit ? challenge && validate && seccode ? void d.retrievePassword(a.retrieve.email, challenge, validate, seccode).then(function(b) {
                challenge = "",
                validate = "",
                seccode = "",
                200 == b.data.code ? (a.sendPassword = !0,
                submit = !1) : (selectorA && selectorA(".gt_refresh_button").click(),
                1003 == b.data.code ? a.retrieveError = "账号不存在" : 1005 == b.data.code && (a.retrieveError = "验证码错误"))
            }) : void (a.retrieveError = "验证码不能为空") : void (a.retrieveError = "验证码匹配错误") : void (a.retrieveError = "邮箱不能为空")
        }
        ,
        a.openThirdPatyWindow = function(a) {
            d.cancelLogin(),
            h.openThirtyPartyWindow(a)
        }
    }
    ]),
    b.module("security.login.reset", ["services.localizedMessages"]).controller("ResetFormController", ["$scope", "security", "localizedMessages", "$location", "resetKey", function(a, b, c, d, e) {
        a.password = {},
        a.reset = function() {
            return a.password.newPw != a.password.confirm ? (a.authError = c.get("login.reset.notmatch"),
            a.password.newPw = "",
            a.password.confirm = "",
            void $('input[name="newPassword"]').focus()) : void b.resetPassByKey(a.password.newPw, e).then(function(b) {
                200 == b.data.code ? (alert("修改成功"),
                a.$close(),
                d.path("/main").search({})) : 1011 == b.data.code && (a.authError = b.data.msg)
            })
        }
        ,
        a.cancel = function() {
            a.$dismiss()
        }
    }
    ]).directive("equals", function() {
        return {
            restrict: "A",
            require: "?ngModel",
            link: function(a, b, c, d) {
                if (d) {
                    a.$watch(c.ngModel, function() {
                        e()
                    }),
                    c.$observe("equals", function(a) {
                        e()
                    });
                    var e = function() {
                        var a = d.$viewValue
                          
                        
                        , 
                        b = c.equals;
                        d.$setValidity("equals", a === b)
                    }
                }
            }
        }
    }),
    b.module("security.login", ["security.login.form", "security.login.reset", "security.login.toolbar"]),
    b.module("security.login.toolbar", ["services.usercenter"]).directive("loginToolbar", ["security", "$rootScope", "usercenterService", function(a, b, c) {
        var d = {
            templateUrl: "security/login/toolbar.tpl.html",
            restrict: "E",
            replace: !0,
            scope: !0,
            link: function(d, e, f, g) {
                d.PREFIX_FILE_HOST = PREFIX_FILE_HOST,
                d.isAuthenticated = a.isAuthenticated,
                d.login = a.showLogin,
                d.logout = a.logout,
                d.requestResetPassword = a.requestResetPassword,
                d.isAdvancedUser = b.isAdvancedUser,
                d.isEditor = b.isEditor,
                d.isVendorUser = b.isVendorUser,
                d.$watch(function() {
                    return a.currentUser
                }, function(a) {
                    d.currentUser = a,
                    d.currentUser.headImg ? /^http.*/.test(a.headImg) && (d.headImg = a.headImg) : d.headImg = CLIENT_CDN + "assets/images/defaultuser.jpg"
                }),
                d.$on("headImg.change", function(a, b) {
                    d.currentUser.headImg = b
                }),
                d.$on("minusCount", function(a, b) {
                    d.count -= b,
                    d.newMsgCount = d.count > 9 ? "9+" : d.count
                }),
                d.getNewMessage = function(a, b, e) {
                    c.getNewMessage(a, b, e).then(function(a) {
                        d.newMsgs = a.data.list,
                        d.count = a.data.map.count,
                        d.newMsgCount = a.data.map.count > 9 ? "9+" : a.data.map.count
                    })
                }
                ,
                d.getNewMessage(1, 4, !0),
                d.openMsgPanel = function() {
                    $(".mes_con").hasClass("open") || d.getNewMessage(1, 4, !0)
                }
            }
        };
        return d
    }
    ]),
    b.module("security.otherregister.form", ["services.localizedMessages", "app.directives.register"]),
    b.module("security.otherregister.form").controller("OtherRegisterFormController", ["$scope", "$timeout", "security", "localizedMessages", "$location", "$http", "$window", "otherRegisterInfo", function(a, b, c, d, e, f, g, h) {
        a.user = {},
        a.user.agreement = !0,
        a.getUserDetail = function() {
            var b = {
                type: "qq",
                openId: h.openId,
                accessToken: h.accessToken
            };
            c.getUserDetail(b.type, b.openId, b.accessToken).then(function(b) {
                a.otherUserInfo = b.data.obj
            })
        }
        ,
        a.getUserDetail()
    }
    ]),
    b.module("security.register.form", ["services.localizedMessages", "app.directives.register", "security.thirdparty"]),
    b.module("security.register.form").controller("RegisterFormController", ["$scope", "$timeout", "security", "localizedMessages", "$location", "$http", "$window", "thirdpartyService", function(a, b, c, d, e, f, g, h) {
        a.user = {},
        a.user.agreement = !0;
        var i = !1;
        a.openWeibo = function() {
            alert("新浪微博注册功能即将开放!")
        }
        ,
        a.register = function() {
            var b = {
                email: a.user.email,
                password: a.user.password
            }
              
            
            , 
            e = /^([a-zA-Z0-9]+[_|\_|\.|\-]?)*[a-zA-Z0-9]+@([a-zA-Z0-9]+[_|\_|\.|\-]?)*[a-zA-Z0-9]+\.[a-zA-Z]{2,3}$/;
            if (!e.test(a.user.email))
                return void (a.regErr = "请输入正确的邮箱格式");
            if (a.user.password === a.user.repeatPassword && a.user.agreement) {
                if (i)
                    return;
                i = !0,
                c.register($.param(b)).then(function(b) {
                    i = !1,
                    b && (a.regErr = b.msg)
                }, function(b) {
                    i = !1,
                    a.regErr = d.get("register.error.serverError", {
                        exception: b
                    })
                })
            } else
                a.user.password != a.user.repeatPassword ? a.regErr = d.get("register.error.match") : a.regErr = d.get("register.error.agreement")
        }
        ,
        a.checkUpperCase = function() {
            /[A-Z]/g.test(a.user.email) && (a.user.email = a.user.email.toLowerCase(),
            alert("请用小写字母邮箱注册，已将邮箱中的大写字母自动转换成小写"))
        }
        ,
        a.openLogin = function() {
            e.path("/home/login", !1)
        }
        ,
        a.reset = function() {
            a.user = {}
        }
        ,
        a.openThirdPatyWindow = function(a) {
            debugger ;
            
            c.cancelRegister();
            
            h.openThirtyPartyWindow(a)
        }
    }
    ]).controller("BindingController", ["$rootScope", "$scope", "$timeout", "security", "localizedMessages", "$location", "$http", "$window", function(a, b, c, d, e, f, g, h) {
        b.qq_url = "https://graph.qq.com/oauth2.0/authorize?response_type=token&client_id=" + client_id + "&redirect_uri=" + redirect_uri + "&display=pc",
        b.weibo_url = "https://api.weibo.com/oauth2/authorize?client_id=3508809852&response_type=token&redirect_uri=" + PREFIX_HOST
    }
    ]),
    b.module("security.register", ["security.register.form", "security.otherregister.form"]),
    b.module("security.retryQueue", []).factory("securityRetryQueue", ["$q", "$log", function(a, d) {
        var e = []
          
        
        , 
        f = {
            onItemAddedCallbacks: [],
            hasMore: function() {
                return e.length > 0
            },
            push: function(a) {
                e.push(a),
                b.forEach(f.onItemAddedCallbacks, function(b) {
                    try {
                        b(a)
                    } catch (c) {
                        d.error("securityRetryQueue.push(retryItem): callback threw an error" + c)
                    }
                })
            },
            pushRetryFn: function(b, d) {
                1 === arguments.length && (d = b,
                b = c);
                var e = a.defer()
                  
                
                , 
                g = {
                    reason: b,
                    retry: function() {
                        a.when(d()).then(function(a) {
                            e.resolve(a)
                        }, function(a) {
                            e.reject(a)
                        })
                    },
                    cancel: function() {
                        e.reject()
                    }
                };
                return f.push(g),
                e.promise
            },
            retryReason: function() {
                return f.hasMore() && e[0].reason
            },
            cancelAll: function() {
                for (; f.hasMore(); )
                    e.shift().cancel()
            },
            retryAll: function() {
                for (; f.hasMore(); )
                    e.shift().retry()
            }
        };
        return f
    }
    ]),
    b.module("security.service", ["security.retryQueue", "security.login", "security.register", "security.authority", "ui.bootstrap.modal"]).factory("security", ["$rootScope", "$http", "$q", "$location", "securityRetryQueue", "$modal", "ModalService", "authority", function(b, c, d, e, f, g, h, i) {
        function j(b) {
            b = b || "/",
            a.location.href = b
        }
        function k() {
            if (u && (l(u, !1),
            u = null ),
            s)
                throw new Error("Trying to open a dialog that is already open!");
            s = g.open({
                windowClass: "login-container",
                keyboard: !1,
                templateUrl: "security/login/form.tpl.html",
                controller: "LoginFormController"
            }),
            s.result.then(m, m)
        }
        function l(a, b) {
            a.close(b)
        }
        function m(a) {
            s = null ,
            a ? ("/home/login" == e.path() && e.path("/home", !1),
            f.retryAll()) : (f.cancelAll(),
            j())
        }
        function n(a) {
            if (t)
                throw new Error("Trying to open a dialog that is already open!");
            t = g.open({
                windowClass: "login-container",
                keyboard: !1,
                templateUrl: "security/login/reset.tpl.html",
                controller: "ResetFormController",
                resolve: {
                    resetKey: function() {
                        return a
                    }
                }
            }),
            t.result.then(function() {
                t = null 
            }, function() {
                x.currentUser || e.path("/home", !1).search({}),
                t = null 
            })
        }
        function o() {
            if (s && (l(s, !0),
            s = null ),
            u)
                throw new Error("Trying to open a dialog that is already open!");
            u = g.open({
                windowClass: "login-container",
                keyboard: !1,
                templateUrl: "security/register/register.tpl.html",
                controller: "RegisterFormController"
            }),
            u.result.then(function() {
                u = null 
            }, function() {
                "/home/register" == e.path() && e.path("/home", !1),
                u = null 
            })
        }
        function p(a) {
            if (v)
                throw new Error("Trying to open a dialog that is already open!");
            v = g.open({
                windowClass: "login-container",
                keyboard: !1,
                templateUrl: "security/register/otherregister.tpl.html",
                controller: "OtherRegisterFormController",
                resolve: {
                    otherRegisterInfo: function() {
                        return a
                    }
                }
            })
        }
        function q(a) {
            w = a
        }
        function r() {
            return w
        }
        var s = null 
          
        
        , 
        t = null 
          
        
        , 
        u = null 
          
        
        , 
        v = null ;
        f.onItemAddedCallbacks.push(function(a) {
            f.hasMore() && x.showLogin()
        });
        var w = {}
          
        
        , 
        x = {
            getLoginReason: function() {
                return f.retryReason()
            },
            showLogin: function() {
                k()
            },
            showRegister: function() {
                o()
            },
            showOtherRegister: function() {
                p()
            },
            getUserDetail: function(a, b, d) {
                var e = PREFIX_URL + "base/relUserInfo?type=" + a + "&openId=" + b + "&accessToken=" + d
                  
                
                , 
                f = new Date;
                return e += "&date=" + f.getTime(),
                c({
                    method: "GET",
                    url: e,
                    withCredentials: !0
                })
            },
            addRegisterInfo: q,
            getRegisterInfo: r,
            login: function(a) {
                var b = this
                  
                
                , 
                d = c.post(JSON_URL + "?c=user&a=login", a, {
                    withCredentials: !0,
                    headers: {
                        "Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
                    }
                });
                return d.then(function(a) {
                    return b.isValidateCodeLogin = !1,
                    a.data.success === !0 ? (l(s, !0),
                    x.requestCurrentUser().then(function() {
                        ("/home" == e.path() || "/home/login" == e.path()) && e.path("main")
                    }),
                    !0) : x.isAuthenticated()
                }, function(a) {
                    x.isAuthenticated()
                })
            },
            register: function(a) {
                var b = c.post(JSON_URL + "?c=user&a=register", a, {
                    withCredentials: !0,
                    headers: {
                        "Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
                    }
                });
                return b.then(function(a) {
                    if (200 === a.status) {
                        if (a.data.success !== !0)
                            return a.data;
                        ("/home" == e.path() || "/home/register" == e.path()) && e.path("main"),
                        x.requestCurrentUser(),
                        l(u, !0)
                    } else
                        x.isAuthenticated()
                }, function(a) {
                    x.isAuthenticated()
                })
            },
            qqLogin: function(a, b) {
                x.getThirdPartyInfo(a).then(function(c) {
                    console.log('getThirdPartyInfo return :', c);
                    var d = c.openid
                      
                    
                    , 
                    e = (c.client_id,
                    {
                        email: "",
                        password: "",
                        openId: d,
                        accessToken: a,
                        type: "qq",
                        expires: b
                    });
                    x.thirdPartLogin(e)
                })
            },
            thirdPartLogin: function(a) {
                var b = c.post(PREFIX_URL + "eqs/relAccount", $.param(qqRegisterInfo), {
                    withCredentials: !0,
                    headers: {
                        "Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
                    }
                });
                return b.then(function(a) {
                    if (200 === a.status) {
                        if (a.data.success !== !0)
                            return a.data;
                        ("/home" == e.path() || "/home/login" == e.path()) && e.path("main"),
                        x.setLoginSuccess(!0),
                        x.requestCurrentUser(),
                        l(v, !0)
                    } else
                        x.isAuthenticated()
                }, function(a) {
                    x.isAuthenticated()
                })
            },
            getThirdPartyInfo: function(a) {
                var b = "https://graph.qq.com/oauth2.0/me?access_token=" + a;
                return $.ajax({
                    type: "get",
                    url: b,
                    dataType: "jsonp",
                    jsonp: "jsoncallback",
                    jsonpCallback: "callback",
                    xhrFields: {
                        withCredentials: !0
                    }
                })
            },
            weiChatLogin: function(a) {
                return c.post(PREFIX_URL + "eqs/relWechatAccount?code=" + a + "&isMobile=1&time=" + (new Date).getTime(), {}, {
                    withCredentials: !0,
                    headers: {
                        "Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
                    }
                })
            },
            cancelRegister: function() {
                u = null ,
                e.path("/home", !1)
            },
            hasRel: function(a) {
                u && l(u, !1);
                var b = new Date
                  
                
                , 
                d = PREFIX_URL + "base/user/hasRel?type=" + a.type + "&openId=" + a.openId + "&time=" + b.getTime()
                  
                
                , 
                f = c.get(d, {
                    withCredentials: !0
                });
                f.then(function(b) {
                    200 === b.status ? b.data.success === !0 ? (("/home" == e.path() || "/home/login" == e.path()) && e.path("main"),
                    x.requestCurrentUser()) : "未关联账号" == b.data.msg && p(a) : x.isAuthenticated()
                }, function(a) {
                    x.isAuthenticated()
                })
            },
            cancelLogin: function() {
                s = null ,
                e.path("/home", !1)
            },
            logout: function(a) {
                c({
                    withCredentials: !0,
                    method: "GET",
                    url: JSON_URL + "?c=user&a=logout"
                }).then(function(b) {
                    x.currentUser = null ,
                    j(a)
                }, function() {
                    x.currentUser = null ,
                    j(a)
                })
            },
            userPromise: null ,
            requestCurrentUser: function() {
                if (x.isAuthenticated())
                    return d.when(x.currentUser);
                var a = new Date;
                return x.userPromise ? x.userPromise : (x.userPromise = c.get(JSON_URL + "?c=user&a=check&time=" + a.getTime(), {
                    withCredentials: !0
                }).then(function(a) {
                    
                    if (a.data.code == 1001) {
                        
                        document.getElementById('eq_main').style.backgroundColor = "transparent"
                    }
                    return x.userPromise = null ,
                    a.data.success && (x.currentUser = a.data.obj,
                    (!x.currentUser.roleIdList || x.currentUser.roleIdList.length <= 0) && (x.currentUser.roleIdList = [2])),
                    x.currentUser
                }, function() {
                    x.userPromise = null 
                }),
                x.userPromise)
            },
            resetPassByKey: function(a, b) {
                var d = {
                    key: b,
                    newPwd: a
                };
                return c.post(JSON_URL + "?c=user&a=reset", $.param(d), {
                    withCredentials: !0,
                    headers: {
                        "Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
                    }
                })
            },
            currentUser: null ,
            isAuthenticated: function() {
                return !!x.currentUser
            },
            isLoginSuccess: !1,
            setLoginSuccess: function(a) {
                x.isLoginSuccess = a
            },
            thirdPartyUrl: {
                weiChatUrl: "https://open.weixin.qq.com/connect/qrconnect?appid=wxc5f1bbae4bb93ced&redirect_uri=http%3A%2F%2Feqxiu.com&response_type=code&scope=snsapi_login&state=WECHAT_STATE#wechat_redirect",
                qqUrl: "https://graph.qq.com/oauth2.0/authorize?response_type=token&client_id=" + client_id + "&redirect_uri=" + redirect_uri,
                weiboUrl: "https://api.weibo.com/oauth2/authorize?client_id=3508809852&response_type=token&redirect_uri=http://eqxiu.com"
            },
            isAllowToAccess: function(a) {
                if (!x.currentUser)
                    return !1;
                var b = i.userRoleDef[x.currentUser.type];
                return b && (b.code & a) > 0 ? !0 : !1
            },
            accessDef: i.accessDef,
            isEditor: function() {
                if (!x.currentUser)
                    return !1;
                var a = x.currentUser.roleIdList;
                if (!a)
                    return !1;
                for (var b = 0; b < a.length; b++)
                    if ("4" == a[b])
                        return !0;
                return !1
            },
            isAdvancedUser: function() {
                return x.currentUser && "3" == x.currentUser.type ? !0 : !1
            },
            isVendorUser: function() {
                return x.currentUser && "4" == x.currentUser.type ? !0 : !1
            },
            requestResetPassword: function(a) {
                n(a)
            },
            validateToken: function(a) {
                var b = "changepw?token=" + a;
                return c.get(PREFIX_URL + b, {
                    withCredentials: !0
                })
            },
            resetPassword: function(a, b) {
                var d = PREFIX_URL + "m/base/user/changePwd"
                  
                
                , 
                e = {
                    oldPwd: a,
                    newPwd: b
                };
                return c.post(d, $.param(e), {
                    withCredentials: !0,
                    headers: {
                        "Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
                    }
                })
            },
            retrievePassword: function(a, b, d, e) {
                var f = JSON_URL + "?c=user&a=retrieve"
                  
                
                , 
                g = {
                    email: a,
                    geetest_challenge: b,
                    geetest_validate: d,
                    geetest_seccode: e
                };
                return c.post(f, $.param(g), {
                    withCredentials: !0,
                    headers: {
                        "Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
                    }
                })
            }
        };
        return x
    }
    ]),
    b.module("security.thirdparty", ["security.service"]).factory("thirdpartyService", ["$rootScope", "$http", "$location", "$window", "security", function(a, b, c, d, e) {
        function f(a) {
            
            console.log('redirect_uri ', a);
            var b = "https://graph.qq.com/oauth2.0/authorize?"
              
            
            , 
            c = client_id
              
            
            , 
            d = ["client_id=" + c, "redirect_uri=" + a, "scope=get_user_info", "response_type=token"]
              
            
            , 
            e = d.join("&");
            return h = b + e
        }
        function g(a) {
            var b = "https://open.weixin.qq.com/connect/qrconnect?"
              
            
            , 
            c = "wxc5f1bbae4bb93ced"
              
            
            , 
            d = ["appid=" + c, "redirect_uri=" + a, "scope=snsapi_login", "response_type=code", "state=WECHAT_STATE#wechat_redirect"]
              
            
            , 
            e = d.join("&");
            return i = b + e
        }
        var h, i, j = {
            qqUrl: f,
            wxUrl: g,
            qqLogin: function(a, b) {
                j.getThirdPartyInfo(a).then(function(c) {
                    console.log('j.getThirdPartyInfo(a):', c);
                    var d = c.openid
                      
                    
                    , 
                    e = (c.client_id,
                    {
                        email: "",
                        password: "",
                        openId: d,
                        accessToken: a,
                        type: "qq",
                        expires: b
                    });
                    j.thirdPartLogin(e)
                })
            },
            thirdPartLogin: function(a) {
                var d = b.post(PREFIX_URL + "?c=otherlogin", $.param(a), {
                    withCredentials: !0,
                    headers: {
                        "Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
                    }
                });
                return d.then(function(a) {
                    console.log('thirdPartLogin return:', a);
                    if (200 === a.status) {
                        if (a.data.success !== true)
                            return a.data;
                        ("/home" == c.path() || "/home/login" == c.path()) && c.path("main"),
                        e.setLoginSuccess(!0),
                        e.requestCurrentUser()
                    } else
                        e.isAuthenticated()
                }, function(a) {
                    e.isAuthenticated()
                })
            },
            getThirdPartyInfo: function(a) {
                var b = "https://graph.qq.com/oauth2.0/me?access_token=" + a;
                return $.ajax({
                    type: "get",
                    url: b,
                    dataType: "jsonp",
                    jsonp: "jsoncallback",
                    jsonpCallback: "callback",
                    xhrFields: {
                        withCredentials: !0
                    }
                })
            },
            weiChatLogin: function(a) {
                return b.post(PREFIX_URL + "eqs/relWechatAccount?code=" + a + "&isMobile=1&time=" + (new Date).getTime(), {}, {
                    withCredentials: !0,
                    headers: {
                        "Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
                    }
                })
            },
            unbindRelation: function(c) {
                var d = {
                    type: c
                }
                  
                
                , 
                e = "m/u/unRelation";
                b({
                    withCredentials: !0,
                    method: "POST",
                    url: JSON_URL + e,
                    data: $.param(d),
                    headers: {
                        "Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
                    }
                }).then(function(b) {
                    b.data.success && a.$broadcast("mail.unbind.success", c)
                })
            },
            wxBindAccount: function(a) {
                j.bindAccountCommon(a)
            },
            qqBindAccount: function(a) {
                j.getThirdPartyInfo(a.access_token).then(function(b) {
                    var c = b.openid
                      
                    
                    , 
                    d = (b.client_id,
                    {
                        openId: c,
                        accessToken: a.access_token,
                        expires: a.expires_in,
                        type: "qq"
                    });
                    j.bindAccountCommon(d)
                }, function(a) {})
            },
            bindAccountCommon: function(c) {
                var d = "eqs/bindThirdAccount";
                b({
                    withCredentials: !0,
                    method: "POST",
                    url: JSON_URL + d,
                    data: $.param(c),
                    headers: {
                        "Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
                    }
                }).then(function(b) {
                    b.data.success && a.$broadcast("rel.success", c.type)
                }, function(a) {
                
                })
            },
            openThirtyPartyWindow: function(a) {
                var b, c = redirect_uri;
                "qq" == a ? b = j.qqUrl(c) : "weixin" == a && (b = j.wxUrl(c)),
                d.open(b, "_blank", "width=600,height=600,menubar=no,toolbar=no,location=no,directories=no,status=no,scrollbars=yes,resizable=yes")
            }
        };
        return j
    }
    ]),
    b.module("services.active", []).factory("activeService", ["$rootScope", "$http", function(a, b) {
        var c = {};
        return c.getActiveList = function(a, c, d) {
            var e = PREFIX_S1_URL + "eqs/activity/scene";
            return a && (e += /\?/.test(e) ? "&" : "?",
            e += "promId=" + a),
            c && (e += /\?/.test(e) ? "&" : "?",
            e += "pageNo=" + c),
            d && (e += /\?/.test(e) ? "&" : "?",
            e += "pageSize=" + d),
            b({
                withCredentials: !0,
                method: "GET",
                url: e
            })
        }
        ,
        c
    }
    ]),
    b.module("services.breadcrumbs", []),
    b.module("services.breadcrumbs").factory("breadcrumbs", ["$rootScope", "$location", function(a, b) {
        var c = []
          
        
        , 
        d = {};
        return a.$on("$routeChangeSuccess", function(a, d) {
            var e, f = b.path().split("/"), 
            g = [], 
            h = function(a) {
                return "/" + f.slice(0, a + 1).join("/")
            }
            ;
            for (f.shift(),
            e = 0; e < f.length; e++)
                g.push({
                    name: f[e],
                    path: h(e)
                });
            c = g
        }),
        d.getAll = function() {
            return c
        }
        ,
        d.getFirst = function() {
            return c[0] || {}
        }
        ,
        d
    }
    ]),
    b.module("services.config", []).factory("configService", ["$http", function(a) {
        var b = function() {
            var b = JSON_URL + "?c=ad&a=logo";
            return a({
                withCredentials: !0,
                method: "GET",
                url: b
            })
        }
          
        
        , 
        c = function() {
            var b = JSON_URL + "?c=ad&a=banner";
            return a({
                withCredentials: !0,
                method: "GET",
                url: b
            })
        }
          
        
        , 
        d = function() {
            var b = JSON_URL + "?c=ad&a=friendlinks";
            return a({
                withCredentials: !0,
                method: "GET",
                url: b
            })
        }
          
        
        , 
        e = function(b) {
            var c = PREFIX_S2_URL + "eqs/banners?pageCode=" + b;
            return a({
                withCredentials: !0,
                method: "GET",
                url: c
            })
        }
        ;
        var getBanner70 = function() {
            var url = JSON_URL + "?c=ad&a=getBanner70";
            return a({
                withCredentials: !0,
                method: "GET",
                url: url
            })
        }
          
        
        , getMenu70 = function() {
            var url = JSON_URL + "?c=ad&a=getMenu70";
            return a({
                withCredentials: !0,
                method: "GET",
                url: url
            })
        }
        ;
        return {
            getBanner70: getBanner70,
            getMenu70: getMenu70,
            getLogo: b,
            getBanners: c,
            getFriendLinks: d,
            getActivityBanner: e
        }
    }
    ]),
    b.module("services.crud", ["services.crudRouteProvider"]),
    b.module("services.crud").factory("crudEditMethods", function() {
        return function(a, c, d, e, f) {
            var g = {};
            return g[a] = c,
            g[a + "Copy"] = b.copy(c),
            g.save = function() {
                this[a].$saveOrUpdate(e, e, f, f)
            }
            ,
            g.canSave = function() {
                return this[d].$valid && !b.equals(this[a], this[a + "Copy"])
            }
            ,
            g.revertChanges = function() {
                this[a] = b.copy(this[a + "Copy"])
            }
            ,
            g.canRevert = function() {
                return !b.equals(this[a], this[a + "Copy"])
            }
            ,
            g.remove = function() {
                this[a].$id() ? this[a].$remove(e, f) : e()
            }
            ,
            g.canRemove = function() {
                return c.$id()
            }
            ,
            g.getCssClasses = function(a) {
                var b = this[d][a];
                return {
                    error: b.$invalid && b.$dirty,
                    success: b.$valid && b.$dirty
                }
            }
            ,
            g.showError = function(a, b) {
                return this[d][a].$error[b]
            }
            ,
            g
        }
    }),
    b.module("services.crud").factory("crudListMethods", ["$location", function(a) {
        return function(b) {
            var c = {};
            return c["new"] = function() {
                a.path(b + "/new")
            }
            ,
            c.edit = function(c) {
                a.path(b + "/" + c)
            }
            ,
            c
        }
    }
    ]),
    function() {
        function a(a) {
            this.$get = b.noop,
            this.routesFor = function(d, e, f) {
                var g = d.toLowerCase()
                  
                
                , 
                h = "/" + d.toLowerCase();
                f = f || e,
                b.isString(e) && "" !== e && (g = e + "/" + g),
                null  !== f && f !== c && "" !== f && (h = "/" + f + h);
                var i = function(a) {
                    return g + "/" + d.toLowerCase() + "-" + a.toLowerCase() + ".tpl.html"
                }
                  
                
                , 
                j = function(a) {
                    return d + a + "Ctrl"
                }
                  
                
                , 
                k = {
                    whenList: function(a) {
                        return k.when(h, {
                            templateUrl: i("List"),
                            controller: j("List"),
                            resolve: a
                        }),
                        k
                    },
                    whenNew: function(a) {
                        return k.when(h + "/new", {
                            templateUrl: i("Edit"),
                            controller: j("Edit"),
                            resolve: a
                        }),
                        k
                    },
                    whenEdit: function(a) {
                        return k.when(h + "/:itemId", {
                            templateUrl: i("Edit"),
                            controller: j("Edit"),
                            resolve: a
                        }),
                        k
                    },
                    when: function(b, c) {
                        return a.when(b, c),
                        k
                    },
                    otherwise: function(b) {
                        return a.otherwise(b),
                        k
                    },
                    $routeProvider: a
                };
                return k
            }
        }
        a.$inject = ["$routeProvider"],
        b.module("services.crudRouteProvider", ["ngRoute"]).provider("crudRoute", a)
    }(),
    b.module("services.data", []),
    b.module("services.data").factory("dataService", ["$http", "$rootScope", function(a, b) {
        var c = {};
        return c.getDatas = function(c) {
            var d = "?c=scenedata&a=statSum";
            return c && (d += (/\?/.test(d) ? "&" : "?") + "user=" + c),
            a({
                withCredentials: !0,
                method: "GET",
                url: JSON_URL + d
            }).then(function(a) {
                if (a.data.success) {
                    var c = a.data.obj;
                    b.$broadcast("sceneDatas", c)
                }
            })
        }
        ,
        c.getCustomDatas = function(c) {
            var d = "?c=custom&a=statSum";
            return c && (d += (/\?/.test(d) ? "&" : "?") + "user=" + c),
            a({
                withCredentials: !0,
                method: "GET",
                url: JSON_URL + d
            }).then(function(a) {
                if (a.data.success) {
                    var c = a.data.obj;
                    b.$broadcast("customDatas", c)
                }
            })
        }
        ,
        c.getDataBySceneId = function(b, c, d, e) {
            c = c || 1,
            d = d || 10;
            var f = "?c=scenedata&a=getdata&id=" + b + "&pageNo=" + c + "&pageSize=" + d;
            e && (f += (/\?/.test(f) ? "&" : "?") + "user=" + e);
            var g = new Date;
            return f += "&time=" + g.getTime(),
            a({
                withCredentials: !0,
                method: "GET",
                url: JSON_URL + f
            })
        }
        ,
        c.deleteDataBySceneId = function(b, c) {
            var d = "?c=scenedata&a=delete&sceneId=" + b + "&dataIds=" + c.ids;
            return a({
                withCredentials: !0,
                method: "GET",
                url: JSON_URL + d,
                headers: {
                    "Content-Type": "text/plain; charset=UTF-8"
                }
            })
        }
        ,
        c.getDataDetail = function(b, c) {
            var d = "?c=custom&a=detail&id=" + b;
            c && (d += (/\?/.test(d) ? "&" : "?") + "user=" + c);
            var e = new Date;
            return d += (/\?/.test(d) ? "&" : "?") + "date=" + e.getTime(),
            a({
                withCredentials: !0,
                method: "GET",
                url: JSON_URL + d
            })
        }
        ,
        c.getDataMessage = function(b) {
            var c = "m/scene/dataScene";
            b && (c += (/\?/.test(c) ? "&" : "?") + "user=" + b);
            var d = new Date;
            return c += (/\?/.test(c) ? "&" : "?") + "date=" + d.getTime(),
            a({
                withCredentials: !0,
                method: "GET",
                url: JSON_URL + c
            })
        }
        ,
        c.getAllData = function(b, c, d, e) {
            var f = "?c=custom&a=getAllData&pageSize=10&pageNo=" + b;
            c && (f += (/\?/.test(f) ? "&" : "?") + "user=" + c),
            e && (f += (/\?/.test(f) ? "&" : "?") + "origin=" + e),
            d && (f += (/\?/.test(f) ? "&" : "?") + "groupId=" + d);
            var g = new Date;
            return f += (/\?/.test(f) ? "&" : "?") + "time=" + g.getTime(),
            a({
                withCredentials: !0,
                method: "GET",
                url: JSON_URL + f
            })
        }
        ,
        c.getProspectDataAccount = function(b) {
            var c = "?c=custom&a=prospectCount&time=" + (new Date).getTime();
            return b && (c += (/\?/.test(c) ? "&" : "?") + "user=" + b),
            a({
                withCredentials: !0,
                method: "GET",
                url: JSON_URL + c
            })
        }
        ,
        c.deleteDataById = function(b) {
            var c = "?c=custom&a=delete&id=" + b;
            return a({
                withCredentials: !0,
                method: "GET",
                url: JSON_URL + c
            })
        }
        ,
        c.saveData = function(b) {
            var c = "m/c/save";
            return a({
                withCredentials: !0,
                method: "POST",
                headers: {
                    "Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
                },
                url: JSON_URL + c,
                data: b
            })
        }
        ,
        c.getSceneField = function(b) {
            var c = "?c=custom&a=formField&id=" + b
              
            
            , 
            d = new Date;
            return c += "&time=" + d.getTime(),
            a({
                withCredentials: !0,
                method: "GET",
                url: JSON_URL + c
            })
        }
        ,
        c.getPremergeScenes = function(b) {
            var c = "?c=custom&a=newDataScene";
            b && (c += (/\?/.test(c) ? "&" : "?") + "user=" + b);
            var d = new Date;
            return c += (/\?/.test(c) ? "&" : "?") + "time=" + d.getTime(),
            a({
                withCredentials: !0,
                method: "GET",
                url: JSON_URL + c
            })
        }
        ,
        c.mergeSceneData = function(b, c) {
            var d = "?c=custom&a=imps&id=" + b;
            return a({
                withCredentials: !0,
                method: "POST",
                url: PREFIX_S3_URL + d,
                headers: {
                    "Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
                },
                data: $.param(c)
            })
        }
        ,
        c.getOrigin = function(b) {
            var c = "?c=custom&a=origin";
            return b && (c += (/\?/.test(c) ? "&" : "?") + "user=" + b),
            a({
                withCredentials: !0,
                method: "GET",
                url: JSON_URL + c
            })
        }
        ,
        c.getGroups = function(b) {
            var c = "?c=custom&a=grouplist";
            return b && (c += (/\?/.test(c) ? "&" : "?") + "user=" + b),
            a({
                withCredentials: !0,
                method: "GET",
                url: JSON_URL + c
            })
        }
        ,
        c.assignGroup = function(b) {
            var c = "m/c/group/set?cIds=" + b.cIds + "&gIds=" + b.gIds;
            return a({
                withCredentials: !0,
                method: "POST",
                url: JSON_URL + c,
                headers: {
                    "Content-Type": "text/plain; charset=UTF-8"
                }
            })
        }
        ,
        c.deleteAssociation = function(b) {
            var c = "m/c/group/unset?cId=" + b.cId + "&gId=" + b.gId;
            return a({
                withCredentials: !0,
                method: "POST",
                url: JSON_URL + c,
                headers: {
                    "Content-Type": "text/plain; charset=UTF-8"
                }
            })
        }
        ,
        c.createGroup = function(b) {
            var c = "m/c/group/create";
            return a({
                withCredentials: !0,
                method: "POST",
                url: JSON_URL + c,
                headers: {
                    "Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
                },
                data: $.param(b)
            })
        }
        ,
        c.deleteCustomer = function(b) {
            var c = "?c=custom&a=delete&ids=" + b.ids;
            return a({
                withCredentials: !0,
                method: "POST",
                url: JSON_URL + c,
                headers: {
                    "Content-Type": "text/plain; charset=UTF-8"
                }
            })
        }
        ,
        c.deleteGroup = function(b) {
            var c = "m/c/group/delete?id=" + b;
            return a({
                withCredentials: !0,
                method: "POST",
                url: JSON_URL + c,
                headers: {
                    "Content-Type": "text/plain; charset=UTF-8"
                }
            })
        }
        ,
        c
    }
    ]),
    b.module("services.exceptionHandler", ["services.i18nNotifications"]),
    b.module("services.exceptionHandler").factory("exceptionHandlerFactory", ["$injector", function(a) {
        return function(b) {
            return function(c, d) {
                var e = a.get("i18nNotifications");
                b(c, d),
                e.pushForCurrentRoute("error.fatal", "error", {}, {
                    exception: c,
                    cause: d
                })
            }
        }
    }
    ]),
    b.module("services.exceptionHandler").config(["$provide", function(a) {
        a.decorator("$exceptionHandler", ["$delegate", "exceptionHandlerFactory", function(a, b) {
            return b(a)
        }
        ])
    }
    ]),
    b.module("services.file", ["services.i18nNotifications"]),
    b.module("services.file").factory("fileService", ["$rootScope", "$http", "i18nNotifications", function(a, b, c) {
        function getMusicCate(j) {
            var c = "?c=statics&a=getCate&filetype=musType"
              
            
            , 
            
            d = new Date;
            
            return c += "&time=" + d.getTime(),
            b({
                
                withCredentials: !0,
                
                method: "GET",
                url: JSON_URL + c
            })
        }
        function editFile(id) {
            var c = "?c=upfile&a=editFile"
              
            
            , 
            json = {
                id: id
            };
            return b({
                withCredentials: !0,
                method: "POST",
                url: JSON_URL + c,
                headers: {
                    "Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
                },
                data: $.param(json)
            })
        }
        function d() {
            var a = [{
                color: "#6366C3"
            }, {
                color: "#29A1D6"
            }, {
                color: "#332E42"
            }, {
                color: "#DBF3FF"
            }, {
                color: "#434A54"
            }, {
                color: "#000000"
            }, {
                color: "#F1F03E"
            }, {
                color: "#FCF08E"
            }, {
                color: "#972D53"
            }, {
                color: "#724192"
            }, {
                color: "#967BDC"
            }, {
                color: "#EC87C1"
            }, {
                color: "#D870AF"
            }, {
                color: "#F6F7FB"
            }, {
                color: "#666C78"
            }, {
                color: "#ABB1BD"
            }, {
                color: "#CCD0D9"
            }, {
                color: "#E6E9EE"
            }, {
                color: "#48CFAE"
            }, {
                color: "#36BC9B"
            }, {
                color: "#3BAEDA"
            }, {
                color: "#50C1E9"
            }, {
                color: "#AC92ED"
            }, {
                color: "#4B89DC"
            }, {
                color: "#4B89DC"
            }, {
                color: "#5D9CEC"
            }, {
                color: "#8DC153"
            }, {
                color: "#ED5564"
            }, {
                color: "#DB4453"
            }, {
                color: "#FB6E52"
            }, {
                color: "#FFCE55"
            }, {
                color: "#F6BB43"
            }, {
                color: "#E9573E"
            }, {
                color: "#9FF592"
            }, {
                color: "#A0D468"
            }];
            return a
        }
        function e(c) {
            var d = "?c=statics&a=getCate&type=" + ("1" == c ? 1 : 0)
              
            
            , 
            e = new Date;
            d += "&time=" + e.getTime(),
            b({
                withCredentials: !0,
                method: "GET",
                url: JSON_URL + d
            }).then(function(b) {
                b.data.success && (v.sysCategoryList = b.data.list,
                a.$broadcast("sysCategory.update"))
            })
        }
        function f(c) {
            var d = "?c=upfile&a=systag&type=11";
            c && (d += "&bizType=" + c),
            d += (/\?/.test(d) ? "&" : "?") + "time=" + (new Date).getTime(),
            b({
                withCredentials: !0,
                method: "GET",
                url: JSON_URL + d
            }).then(function(b) {
                b.data.success && (v.sysTagList = b.data.list,
                a.$broadcast("sysTag.update"))
            })
        }
        function g(a, c, d, e, f, g) {
            return a += "pageNo=" + (c ? c : 1),
            a += "&pageSize=" + (d ? d : 10),
            a += "&fileType=" + e,
            (f || 0 === f) && (a += "&bizType=" + f),
            g && (a += "&tagId=" + g),
            a += "&time=" + Date.now(),
            b({
                withCredentials: !0,
                method: "GET",
                url: JSON_URL + a
            })
        }
        function h(c, d, e, f, g, h) {
            "pure" != g ? ("1" == f && (e = 18),
            c += "pageNo=" + (d ? d : 1),
            c += "&pageSize=" + (e ? e : 10),
            c += "&fileType=" + f,
            (g || 0 === g) && (c += "&bizType=" + g),
            h && (c += "&tagId=" + h),
            c += "&time=" + Date.now(),
            b({
                withCredentials: !0,
                method: "GET",
                url: JSON_URL + c
            }).then(function(b) {
                b.data.success && (v.imgList = b.data.list,
                v.totalItems = b.data.map.count,
                v.pageNo = b.data.map.pageNo,
                a.$broadcast("imgList.update"))
            })) : (d * e <= w.length ? v.imgList = w.slice((d - 1) * e, d * e) : v.imgList = w.slice((d - 1) * e, w.length),
            v.totalItems = w.length,
            v.pageNo = d,
            a.$broadcast("imgList.update"))
        }
        function i(a, b, c, d, e) {
            var f = "?c=upfile&a=syslist&";
            return g(f, a, b, c, d, e)
        }
        function j(a, b, c, d, e) {
            var f = "?c=upfile&a=syslist&";
            h(f, a, b, c, d, e)
        }
        function k(a, b, c, d, e) {
            var f = "?c=upfile&a=userList&";
            return g(f, a, b, c, d, e)
        }
        function l(a, b, c, d, e) {
            var f = "?c=upfile&a=userList&";
            h(f, a, b, c, d, e)
        }
        function m(c) {
            var d = "?c=upfile&a=delete"
              
            
            , 
            e = {
                id: c
            };
            b({
                withCredentials: !0,
                method: "POST",
                url: JSON_URL + d,
                headers: {
                    "Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
                },
                data: $.param(e)
            }).then(function(b) {
                b.data.success && a.$broadcast("files.delete")
            })
        }
        function n(a) {
            var c = "?c=upfile&a=delete"
              
            
            , 
            d = {
                id: a
            };
            return b({
                withCredentials: !0,
                method: "POST",
                url: JSON_URL + c,
                headers: {
                    "Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
                },
                data: $.param(d)
            })
        }
        function o(c) {
            var d = "?c=tag&a=create"
              
            
            , 
            e = {
                tagName: c
            };
            b({
                withCredentials: !0,
                method: "POST",
                url: JSON_URL + d,
                headers: {
                    "Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
                },
                data: $.param(e)
            }).then(function(b) {
                v.tagList.push({
                    id: b.data.obj,
                    name: c
                }),
                a.$broadcast("tagList.update");
            }, function(a) {
                $scope.authError = "创建失败"
            })
        }
        function p() {
            var c = "?c=tag&a=my&time=" + (new Date).getTime();
            b({
                withCredentials: !0,
                method: "GET",
                url: JSON_URL + c
            }).then(function(b) {
                b.data.success && (v.tagList = b.data.list,
                a.$broadcast("tagList.update"))
            })
        }
        function q(c, d) {
            var e = "?c=tag&a=delete"
              
            
            , 
            f = {
                id: c
            };
            b({
                withCredentials: !0,
                method: "POST",
                url: JSON_URL + e,
                headers: {
                    "Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
                },
                data: $.param(f)
            }).then(function(b) {
                b.data.success && (v.tagList.splice(d, 1),
                a.$broadcast("tagList.delete"))
            })
        }
        function r(c, d) {
            var e = "?c=tag&a=set"
              
            
            , 
            f = {
                tagId: c,
                fileIds: d
            };
            b({
                withCredentials: !0,
                method: "POST",
                url: JSON_URL + e,
                headers: {
                    "Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
                },
                data: $.param(f)
            }).then(function(b) {
                b.data.success && a.$broadcast("tag.assign")
            })
        }
        function s(c, d) {
            var e = "?c=tag&a=tagunset"
              
            
            , 
            f = {
                tagId: c,
                fileIds: d
            };
            b({
                withCredentials: !0,
                method: "POST",
                url: JSON_URL + e,
                headers: {
                    "Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
                },
                data: $.param(f)
            }).then(function(b) {
                b.data.success && a.$broadcast("tag.unbind")
            })
        }
        function t(a, c, d, e) {
            var f = "?c=upfile&a=syslist&";
            "0" === d && "2" === e && (f = "?c=upfile&a=userList&"),
            f += "pageNo=" + (a ? a : 1),
            f += "&pageSize=" + (c ? c : 12),
            d && "all" != d && (f += "&bizType=" + (d ? d : -1)),
            f += "&fileType=" + (e ? e : -1);
            var g = new Date;
            return f += "&time=" + g.getTime(),
            b({
                withCredentials: !0,
                method: "GET",
                url: JSON_URL + f
            })
        }
        function u(a) {
            var c = "?c=page&a=crop";
            return b({
                withCredentials: !0,
                method: "POST",
                url: JSON_URL + c,
                headers: {
                    "Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
                },
                data: $.param(a)
            })
        }
        var v = {
            pageNo: 1,
            totalItems: 0,
            sysCategoryList: [],
            getMusicCate: getMusicCate,
            editFile: editFile,
            getSysCategory: e,
            sysTagList: [],
            getSysTagByCatId: f,
            imgList: [],
            getSystemFiles: i,
            getUserFiles: k,
            getSystemFiles1: j,
            getUserFiles1: l,
            tagList: [],
            createTag: o,
            getTagList: p,
            deleteTag: q,
            assignTag: r,
            unbindTag: s,
            deleteFile: m,
            deleteFile1: n,
            getFileByCategory: t,
            getBgColorList: d,
            cropImage: u
        }
          
        
        , 
        w = d();
        return v
    }
    ]),
    b.module("services.history", []).factory("historyService", ["$rootScope", function(a) {
        var b = {}
          
        
        , 
        c = {}
          
        
        , 
        d = {};
        return b.addPage = function(d, e) {
            return c[d] || (c[d] = {
                currentPos: 0,
                inHistory: !1,
                pageHistory: []
            },
            b.addPageHistory(d, e)),
            a.$broadcast("history.changed"),
            JSON.parse(c[d].pageHistory[c[d].currentPos])
        }
        ,
        b.addPageHistory = function(b, e) {
            d = c[b],
            d.inHistory && (d.inHistory = !1,
            d.pageHistory.length = d.currentPos + 1);
            var f = JSON.stringify(e);
            f != d.pageHistory[d.pageHistory.length - 1] && d.pageHistory.push(f),
            d.currentPos = d.pageHistory.length - 1,
            a.$broadcast("history.changed")
        }
        ,
        b.clearHistory = function() {
            c = {}
        }
        ,
        b.canBack = function(a) {
            return d = c[a],
            d.currentPos > 0
        }
        ,
        b.canForward = function(a) {
            return d = c[a],
            d.currentPos < d.pageHistory.length - 1
        }
        ,
        b.back = function(b) {
            if (d = c[b],
            d.pageHistory.length) {
                d.inHistory = !0;
                var e = 0 === d.currentPos ? d.pageHistory[0] : d.pageHistory[--d.currentPos];
                return a.$broadcast("history.changed"),
                JSON.parse(e)
            }
        }
        ,
        b.forward = function(b) {
            if (d = c[b],
            d.pageHistory.length) {
                d.inHistory = !0;
                var e = d.currentPos == d.pageHistory.length - 1 ? d.pageHistory[d.currentPos] : d.pageHistory[++d.currentPos];
                return a.$broadcast("history.changed"),
                JSON.parse(e)
            }
        }
        ,
        b
    }
    ]),
    b.module("services.httpRequestTracker", []),
    b.module("services.httpRequestTracker").factory("httpRequestTracker", ["$http", function(a) {
        var b = {};
        return b.hasPendingRequests = function() {
            return a.pendingRequests.length > 0
        }
        ,
        b
    }
    ]),
    b.module("services.i18nNotifications", ["services.notifications", "services.localizedMessages"]),
    b.module("services.i18nNotifications").factory("i18nNotifications", ["localizedMessages", "notifications", function(a, c) {
        var d = function(c, d, e, f) {
            return b.extend({
                message: a.get(c, e),
                type: a.get(d, e)
            }, f)
        }
          
        
        , 
        e = {
            pushSticky: function(a, b, e, f) {
                return c.pushSticky(d(a, b, e, f))
            },
            pushForCurrentRoute: function(a, b, e, f) {
                return c.pushForCurrentRoute(d(a, b, e, f))
            },
            pushForNextRoute: function(a, b, e, f) {
                return c.pushForNextRoute(d(a, b, e, f))
            },
            getCurrent: function() {
                return c.getCurrent()
            },
            remove: function(a) {
                return c.remove(a)
            }
        };
        return e
    }
    ]),
    b.module("services.localizedMessages", []).factory("localizedMessages", ["$interpolate", "I18N.MESSAGES", function(a, b) {
        var c = function(a, b) {
            return a || "?" + b + "?"
        }
        ;
        return {
            get: function(d, e) {
                var f = b[d];
                return f ? a(f)(e) : c(f, d)
            }
        }
    }
    ]),
    b.module("services.mine", []),
    b.module("services.mine").factory("MineService", ["$http", function(a, b) {
        var c = {};
        return c.getMyScenes = function(b, c, d, e, f) {
            var g = "?c=scene&a=my&type";
            f && (g += "/data"),
            b && (g += "=" + b),
            g += "&pageNo=" + (c ? c : 1),
            g += "&pageSize=" + (d ? d : 12),
            e && (g += "&user=" + e);
            var h = new Date;
            return g += (/\?/.test(g) ? "&" : "?") + "time=" + h.getTime(),
            a({
                withCredentials: !0,
                method: "GET",
                url: JSON_URL + g
            })
        }
        ,
        c
    }
    ]),
    b.module("services.modal", ["confirm-dialog", "message-dialog", "bindemail-dialog"]).factory("ModalService", ["$modal", function(a) {
        var b = {};
        return b.openBindEmailDialog = function() {
            a.open({
                keyboard: !1,
                backdropClick: !0,
                windowClass: "confirm-dialog",
                templateUrl: "dialog/bindemail.tpl.html",
                controller: "BindEmailDialogCtrl"
            })
        }
        ,
        b.openConfirmDialog = function(b, c, d) {
            a.open({
                backdrop: "static",
                keyboard: !1,
                backdropClick: !1,
                windowClass: "confirm-dialog",
                templateUrl: "dialog/confirm.tpl.html",
                controller: "ConfirmDialogCtrl",
                resolve: {
                    confirmObj: function() {
                        return b
                    }
                }
            }).result.then(c, d)
        }
        ,
        b.openMsgDialog = function(b, c, d) {
            a.open({
                backdrop: "static",
                keyboard: !1,
                backdropClick: !1,
                windowClass: "message-dialog",
                templateUrl: "dialog/message.tpl.html",
                controller: "MessageDialogCtrl",
                resolve: {
                    msgObj: function() {
                        return b
                    }
                }
            }).result.then(c, d)
        }
        ,
        b
    }
    ]),
    b.module("I18N.MESSAGES", []).constant("I18N.MESSAGES", {
        "notify.success": "success",
        "notify.info": "info",
        "notify.danger": "danger",
        "notify.warning": "warning",
        "notify.tip": "tip",
        "errors.route.changeError": "Route change error",
        "crud.user.save.success": "A user with id '{{id}}' was saved successfully.",
        "crud.user.remove.success": "A user with id '{{id}}' was removed successfully.",
        "crud.user.remove.error": "Something went wrong when removing user with id '{{id}}'.",
        "crud.user.save.error": "Something went wrong when saving a user...",
        "crud.project.save.success": "A project with id '{{id}}' was saved successfully.",
        "crud.project.remove.success": "A project with id '{{id}}' was removed successfully.",
        "crud.project.save.error": "Something went wrong when saving a project...",
        "login.reason.notAuthorized": "离开久了，麻烦再登录一次吧！",
        "login.reason.notAuthenticated": "为了保障您的账号安全，请登录！",
        "login.error.invalidCredentials": "登录失败，请检查邮箱和密码是否正确。",
        "login.error.serverError": "There was a problem with authenticating: {{exception}}.",
        "register.error.serverError": "There was a problem with authenticating: {{exception}}.",
        "login.reset.notmatch": "新密码和重复密码不匹配",
        "register.error.match": "两次输入密码不一致",
        "register.error.agreement": "请先同意注册协议再完成注册",
        "file.bg.pageSize": "12",
        "scene.save.success.published": "场景已保存成功！",
        "scene.save.success.nopublish": "保存成功，还需要发布哦！",
        "scene.save.success.companyTpl": "成功生成企业样例",
        "scene.clear.success.companyTpl": "成功取消企业样例",
        "companytpl.setting.success": "成功生成企业模板",
        "mytpl.setting.success": "成功生成我的模板",
        "scene.publish.success": "发布成功！",
        "account.success": "提交成功！",
        "branch.open.success": "账号打开成功！",
        "branch.close.success": "账号关闭成功！",
        "dept.create.success": "部门创建成功！",
        "dept.update.success": "修改成功！",
        "scene.setting.success": "场景设置成功！",
        "data.assign.success": "分组成功！",
        "data.delete.success": "数据删除成功！",
        "custom.data.delete": "此条客户数据删除成功！",
        "group.delete.success": "分组删除成功！",
        "group.create.success": "分组创建成功！",
        "group.delete.data": "成功从分组内移除",
        "rel.tip": "您的账号还没有绑定邮箱，去用户中心->账号管理，马上绑定",
        "page.change.success": "页面名称修改成功！",
        "email.save.success": "邮箱绑定成功！",
        "reset.psw.success": "密码修改成功！",
        "save.success": "保存成功！",
        "mail.rel.success": "关联成功！",
        "mail.unbind.success": "解除关联成功！",
        "file.assign.success": "分组成功！",
        "already.rel": "此账号已经关联过邮箱",
        "branch.reset.success": "子账号密码重置成功！"
    }),
    b.module("services.notifications", []).factory("notifications", ["$rootScope", function(a) {
        var c = {
            STICKY: [],
            ROUTE_CURRENT: [],
            ROUTE_NEXT: []
        }
          
        
        , 
        d = {}
          
        
        , 
        e = function(a, c) {
            if (!b.isObject(c))
                throw new Error("Only object can be added to the notification service");
            return a.push(c),
            c
        }
        ;
        return a.$on("$routeChangeSuccess", function() {
            c.ROUTE_CURRENT.length = 0,
            c.ROUTE_CURRENT = b.copy(c.ROUTE_NEXT),
            c.ROUTE_NEXT.length = 0
        }),
        d.getCurrent = function() {
            return [].concat(c.STICKY, c.ROUTE_CURRENT)
        }
        ,
        d.pushSticky = function(a) {
            return e(c.STICKY, a)
        }
        ,
        d.pushForCurrentRoute = function(a) {
            return e(c.ROUTE_CURRENT, a)
        }
        ,
        d.pushForNextRoute = function(a) {
            return e(c.ROUTE_NEXT, a)
        }
        ,
        d.remove = function(a) {
            b.forEach(c, function(b) {
                var c = b.indexOf(a);
                c > -1 && b.splice(c, 1)
            })
        }
        ,
        d.removeAll = function() {
            b.forEach(c, function(a) {
                a.length = 0
            })
        }
        ,
        d
    }
    ]),
    b.module("services.pagetpl", []),
    b.module("services.pagetpl").factory("pageTplService", ["$http", "$rootScope", "$modal", "$q", function(a, b, c, d) {
        var e = {};
        return e.getPageTpls = function(b) {
            var c = "?c=scene&a=getpagetpl&type=" + b
              
            
            , 
            d = new Date;
            return c += (/\?/.test(c) ? "&" : "?") + "time=" + d.getTime(),
            a({
                withCredentials: !0,
                method: "GET",
                url: JSON_URL + c
            })
        }
        ,
        e.getMyTplList = function(b) {
            var c = "?c=scene&a=pagelist&id=" + b
              
            
            , 
            d = new Date;
            return c += (/\?/.test(c) ? "&" : "?") + "time=" + d.getTime(),
            a({
                withCredentials: !0,
                method: "GET",
                url: JSON_URL + c
            })
        }
        ,
        e.getPageTplTypes = function() {
            var b = "?c=statics&a=getPageTplType"
              
            
            , 
            c = new Date;
            return b += (/\?/.test(b) ? "&" : "?") + "time=" + c.getTime(),
            a({
                withCredentials: !0,
                method: "GET",
                url: JSON_URL + b
            })
        }
        ,
        e.getPageTagLabel = function(b) {
            var c = "?c=upfile&a=systag&type=88";
            null  != b && (c += (/\?/.test(c) ? "&" : "?") + "bizType=" + b);
            var d = new Date;
            return c += (/\?/.test(c) ? "&" : "?") + "time=" + d.getTime(),
            a({
                withCredentials: !0,
                method: "GET",
                url: JSON_URL + c
            })
        }
        ,
        e.getTagSysListWithType = function(b) {
            var c = "?c=upfile&a=systag&type=2";
            null  != b && (c += (/\?/.test(c) ? "&" : "?") + "bizType=" + b);
            var d = new Date;
            return c += (/\?/.test(c) ? "&" : "?") + "time=" + d.getTime(),
            a({
                withCredentials: !0,
                method: "GET",
                url: JSON_URL + c
            })
        }
        ,
        e.getPageTagLabelCheck = function(b) {
            var c = "?c=sysadmin&a=tagpagelist&id=" + b
              
            
            , 
            d = new Date;
            return c += (/\?/.test(c) ? "&" : "?") + "time=" + d.getTime(),
            a({
                withCredentials: !0,
                method: "GET",
                url: JSON_URL + c
            })
        }
        ,
        e.getPageTplTypestemp = function(b, c) {
            var d = "?c=scene&a=syspagetpl"
              
            
            , 
            e = new Date;
            return null  != b && (d += (/\?/.test(d) ? "&" : "?") + "tagId=" + b),
            null  != c && (d += (/\?/.test(d) ? "&" : "?") + "bizType=" + c),
            d += (/\?/.test(d) ? "&" : "?") + "time=" + e.getTime(),
            a({
                withCredentials: !0,
                method: "GET",
                url: JSON_URL + d
            })
        }
        ,
        e.updataChildLabel = function(b, c) {
            var d = "?c=sysadmin&a=tagpageset&ids=" + b;
            null  != c && (d += (/\?/.test(d) ? "&" : "?") + "pageId=" + c);
            var e = new Date;
            return d += (/\?/.test(d) ? "&" : "?") + "time=" + e.getTime(),
            a({
                withCredentials: !0,
                method: "POST",
                url: JSON_URL + d
            })
        }
        ,
        e
    }
    ]),
    b.module("services.sample", []).factory("sampleService", ["$rootScope", "$http", function(a, b) {
        var c = {};
        return c.getSamples = function(a, c, d) {
            var e = JSON_URL + "?c=scene&a=promotion";
            return a && (e += "&type=" + a),
            c && (e += /\?/.test(e) ? "&" : "?",
            e += "pageNo=" + c),
            d && (e += /\?/.test(e) ? "&" : "?",
            e += "pageSize=" + d),
            b({
                withCredentials: !0,
                method: "GET",
                url: e
            })
        }
        ,
        c.getSamplesPV = function() {
            var a = PREFIX_S1_URL + "eqs/topThree?time=" + (new Date).getTime();
            return b({
                withCredentials: !0,
                method: "GET",
                url: a
            })
        }
        ,
        c
    }
    ]),
    b.module("services.scene", ["scene.create.console", "services.history", "services.select", "scene.create.console.pictures", "scene.edit.trigger"]),
    b.module("services.scene").factory("sceneService", ["$http", "$rootScope", "$modal", "$q", "security", "$cacheFactory", "historyService", "selectService", "picturesService", "ModalService", "triggerService", 
    function(c, d, e, f, g, h, i, j, k, l, m) {
        function n(a) {
            aa.splice(aa.indexOf(ba[a]), 1),
            delete ba[a]
        }
        function o(a) {
            _.obj.elements = a,
            $("#nr").empty(),
            Z.parse({
                def: _.obj,
                appendTo: "#nr",
                mode: "edit"
            });
            for (var b in a)
                if (3 == a[b].type) {
                    var c = "";
                    a[b].properties.imgSrc && (c = a[b].properties.imgSrc),
                    d.$broadcast("show.edit.bg", c);
                    break
                }
            d.$broadcast("dom.changed")
        }
        function p(a) {
            ba = {},
            $.each(a, function(a, b) {
                ba[b.id] = b
            })
        }
        function q(a, b) {
            var c = {}
              
            
            , 
            d = $("#nr .edit_area")
              
            
            , 
            e = d.children().last()
              
            
            , 
            f = d.children(".maxIndex")
              
            
            , 
            g = 0;
            if (g = f.length > 0 ? parseInt(f.css("z-index"), 10) + 1 : e.length > 0 ? parseInt(e.css("z-index"), 10) + 1 : 101,
            b)
                return b.zIndex = g,
                parseInt(b.top, 10) > $("#nr .edit_area").outerHeight() - 20 && (b.top = $("#nr .edit_area").outerHeight() - 20 + "px"),
                b;
            var h = $("#nr .edit_area").outerWidth()
              
            
            , 
            i = h;
            return "v" == a && (i = 50),
            "4" == a && (i = 80),
            (5 == ("" + a).charAt(0) || "6" == a || "r" == a || "c" == a || "a" == a) && (i = 200),
            c = {
                top: "100px",
                left: (h - i) / 2 + "px"
            },
            c.zIndex = g,
            c
        }
        function r(a, b, c, d) {
            var e = parseInt(a.css.top, 10) + 10 * ca
              
            
            , 
            f = parseInt(a.css.left, 10);
            e + 34 > $("#nr .edit_area").outerHeight() ? (b.css.top = e + "px",
            b.css.left = f + 10 + "px") : (b.css.top = e + 34 + "px",
            b.css.left = a.css.left,
            c == d && ca++)
        }
        function s() {
            return Math.ceil(1e10 * Math.random())
        }
        function t(a, b, c) {
            var d, e = s(), 
            f = {};
            if (3 == ("" + a).charAt(0)) {
                if ($("#editBG:visible").length > 0) {
                    var g, h = [];
                    for (g = 0; g < aa.length; g++)
                        3 == aa[g].type && h.push(aa[g]);
                    return f = h[h.length - 1]
                }
                f = {
                    content: null ,
                    css: {},
                    id: e,
                    num: 0,
                    pageId: _.obj.id,
                    properties: {
                        bgColor: null ,
                        imgSrc: null 
                    },
                    sceneId: _.obj.sceneId,
                    title: null ,
                    type: 3
                }
            }
            return 1 == ("" + a).charAt(0) && (f = {
                id: e,
                properties: {
                    title: "提交"
                },
                type: 1,
                pageId: _.obj.id,
                sceneId: _.obj.sceneId
            }),
            "L" == a && (d = q(a, b),
            $.extend(!0, d, {
                color: "#676767",
                borderWidth: "1",
                borderStyle: "solid",
                borderColor: "#ccc",
                borderRadius: "5",
                backgroundColor: "#f9f9f9"
            }),
            f = {
                content: "",
                css: d,
                id: e,
                num: 1,
                pageId: _.obj.id,
                properties: {
                    title: "留言墙",
                    number: "<iframe height=498 width=510 src='" + PREFIX_HOST + "/?c=liuyan&a=index' frameborder=0 allowfullscreen></iframe>"
                },
                sceneId: _.obj.sceneId,
                title: null ,
                type: "L"
            }),
            8 == ("" + a).charAt(0) && (d = q(a, b),
            $.extend(!0, d, {
                color: "rgb(255, 255, 255)",
                width: "100px",
                height: "40px",
                lineHeight: "40px",
                borderWidth: "0",
                borderStyle: "solid",
                borderColor: "#ccc",
                borderRadius: "0",
                backgroundColor: "rgb(244, 113, 31)"
            }),
            f = {
                content: "",
                css: d,
                id: e,
                num: 1,
                pageId: _.obj.id,
                properties: {
                    title: "一键拨号",
                    number: ""
                },
                sceneId: _.obj.sceneId,
                title: null ,
                type: 8
            }),
            "l" == a && (d = q(a, b),
            $.extend(!0, d, {
                color: "rgb(255, 255, 255)",
                width: "100px",
                height: "40px",
                lineHeight: "40px",
                borderWidth: "0",
                borderStyle: "solid",
                borderColor: "#ccc",
                borderRadius: "0",
                backgroundColor: "rgb(244, 113, 31)"
            }),
            f = {
                content: "",
                css: d,
                id: e,
                num: 1,
                pageId: _.obj.id,
                properties: {
                    title: "点我购买"
                },
                sceneId: _.obj.sceneId,
                title: null ,
                type: "l"
            }),
            "s" == a && (d = q(a, b),
            $.extend(!0, d, {
                color: "rgb(255, 255, 255)",
                width: "100px",
                height: "40px",
                lineHeight: "40px",
                borderWidth: "0",
                borderStyle: "solid",
                borderColor: "#ccc",
                borderRadius: "0",
                backgroundColor: "rgb(244, 113, 31)"
            }),
            f = {
                content: "",
                css: d,
                id: e,
                num: 1,
                pageId: _.obj.id,
                properties: {
                    title: "有惊喜"
                },
                sceneId: _.obj.sceneId,
                title: null ,
                type: "s"
            }),
            2 == ("" + a).charAt(0) && (d = q(a, b),
            f = {
                content: "点击此处进行编辑",
                css: d,
                id: e,
                num: 1,
                pageId: _.obj.id,
                properties: {},
                sceneId: _.obj.sceneId,
                title: null ,
                type: 2
            }),
            4 == ("" + a).charAt(0) && (d = q(a, b),
            d.width = "100px",
            d.height = "100px",
            f = {
                content: "",
                css: d,
                id: e,
                num: 1,
                pageId: _.obj.id,
                properties: {
                    width: "100px",
                    height: "100px",
                    src: ""
                },
                sceneId: _.obj.sceneId,
                title: null ,
                type: 4
            }),
            "h" == a && (d = q(a, b),
            $.extend(!0, d, {
                color: "#555",
                width: "100px",
                height: "100px"
            }),
            f = {
                content: "",
                css: d,
                id: e,
                pageId: _.obj.id,
                properties: {
                    type: "rect"
                },
                sceneId: _.obj.sceneId,
                title: null ,
                type: "h"
            }),
            5 == ("" + a).charAt(0) && (d = q(a, b),
            d.width = "200px",
            $.extend(!0, d, {
                color: "#676767",
                borderWidth: "1",
                borderStyle: "solid",
                borderColor: "#08a1ef",
                borderRadius: "0",
                backgroundColor: "#ffffff"
            }),
            f = {
                content: "",
                css: d,
                id: e,
                num: 1,
                pageId: _.obj.id,
                properties: {
                    placeholder: "请命名"
                },
                isInput: 1,
                sceneId: _.obj.sceneId,
                title: "请命名",
                type: 5
            }),
            "r" == a && (d = q(a, b),
            d.width = "200px",
            $.extend(!0, d, {
                color: "#676767",
                borderWidth: "1",
                borderStyle: "solid",
                borderColor: "#08a1ef",
                borderRadius: "0",
                backgroundColor: "#ffffff"
            }),
            f = {
                content: "",
                css: d,
                id: e,
                num: 1,
                pageId: _.obj.id,
                properties: {
                    titleStyle: {
                        backgroundColor: "#08a1ef",
                        color: "#ffffff"
                    },
                    optionStyle: {
                        borderBottomWidth: "1",
                        borderBottomStyle: "solid",
                        borderBottomColor: "#08a1ef"
                    }
                },
                choices: '{"seq":3,"options":[{"id":1,"label":"选项1"},{"id":2,"label":"选项2"},{"id":3,"label":"选项3"}]}',
                isInput: 1,
                sceneId: _.obj.sceneId,
                title: "",
                type: "r"
            }),
            "c" == a && (d = q(a, b),
            d.width = "200px",
            $.extend(!0, d, {
                color: "#676767",
                borderWidth: "1",
                borderStyle: "solid",
                borderColor: "#08a1ef",
                borderRadius: "0",
                backgroundColor: "#ffffff"
            }),
            f = {
                content: "",
                css: d,
                id: e,
                num: 1,
                pageId: _.obj.id,
                properties: {
                    titleStyle: {
                        backgroundColor: "#08a1ef",
                        color: "#ffffff"
                    },
                    optionStyle: {
                        borderBottomWidth: "1",
                        borderBottomStyle: "solid",
                        borderBottomColor: "#08a1ef"
                    }
                },
                choices: '{"seq":3,"options":[{"id":1,"label":"选项1"},{"id":2,"label":"选项2"},{"id":3,"label":"选项3"}]}',
                isInput: 1,
                sceneId: _.obj.sceneId,
                title: "",
                type: "c"
            }),
            "a" == a && (d = q(a, b),
            d.width = "200px",
            $.extend(!0, d, {
                color: "#676767",
                borderWidth: "0",
                borderStyle: "solid",
                borderColor: "#ccc",
                borderRadius: "0",
                backgroundColor: "#f9f9f9"
            }),
            f = {
                content: "",
                css: d,
                id: e,
                num: 1,
                pageId: _.obj.id,
                properties: {
                    icon: "eqf-star",
                    size: "rating-m",
                    color: "#ff9307"
                },
                isInput: 1,
                sceneId: _.obj.sceneId,
                title: "",
                type: "a"
            }),
            "i" == a && (d = q(a, b),
            $.extend(!0, d, {
                width: "200px",
                height: "55px",
                lineHeight: "55px",
                color: "#676767",
                borderWidth: "0",
                borderStyle: "solid",
                borderColor: "#ccc",
                borderRadius: "0",
                backgroundColor: "#f9f9f9"
            }),
            f = {
                content: "",
                css: d,
                id: e,
                num: 1,
                pageId: _.obj.id,
                properties: {
                    layout: "counter-lr",
                    size: "counter-m",
                    color: "#08a1ef",
                    icon: "eqf-love"
                },
                sceneId: _.obj.sceneId,
                title: "",
                type: "i"
            }),
            6 == ("" + a).charAt(0) && (d = q(a, b),
            d.width = "200px",
            $.extend(!0, d, {
                color: "#fff",
                borderRadius: "0",
                backgroundColor: "#08a1ef"
            }),
            f = {
                content: "",
                css: d,
                id: e,
                num: 1,
                pageId: _.obj.id,
                properties: {
                    title: "提交"
                },
                sceneId: _.obj.sceneId,
                title: null ,
                type: 6
            }),
            "p" == a && (d = q(a, b),
            f = {
                content: "",
                css: d,
                id: e,
                num: 1,
                pageId: _.obj.id,
                properties: {
                    title: "图集"
                },
                sceneId: _.obj.sceneId,
                title: null ,
                type: "p"
            }),
            "m" == a && (d = q(a, b),
            d.width = "48px",
            d.height = "48px",
            f = {
                content: "",
                css: d,
                id: e,
                num: 1,
                pageId: _.obj.id,
                properties: {
                    src: ""
                },
                sceneId: _.obj.sceneId,
                title: null ,
                type: "m"
            }),
            "v" == a && (d = q(a, b),
            d.width = "50px",
            d.height = "48px",
            f = {
                content: "",
                css: d,
                id: e,
                num: 1,
                pageId: _.obj.id,
                properties: {
                    src: ""
                },
                sceneId: _.obj.sceneId,
                title: null ,
                type: "v"
            }),
            "n" == a && (d = q(a, b),
            f = {
                content: "",
                css: d,
                id: e,
                pageId: _.obj.id,
                properties: {
                    pics: []
                },
                sceneId: _.obj.sceneId,
                title: null ,
                type: "n"
            }),
            c && $.extend(!0, f, c),
            aa.push(f),
            ba[f.id] = f,
            f
        }
        function u(a, b, c) {
            var e = Z.wrapComp(b, "edit");
            $("#nr .edit_area").append(e);
            for (var f = Z.getInterceptors(), g = 0; g < f.length; g++)
                f[g](e, b);
            return Z.getEventHandlers()[("" + a).charAt(0)](e, b),
            c || (i.addPageHistory(_.obj.id, _.obj.elements),
            d.$broadcast("dom.changed"),
            e.trigger("mousedown")),
            e
        }
        function v(a, b) {
            var c = [];
            return "g101" == a && (c.push(fa("501")),
            c.push(fa("502")),
            c.push(fa("503")),
            c.push(fa("601"))),
            c
        }
        function w(a, b) {
            Y.currentElemDef = b;
            var c = b.css.height || 0;
            $(a).css({
                "min-height": c,
                cursor: "text"
            }),
            $(a).parents("li").hasClass("inside-active") || ($(a).bind("click", function(a) {
                a.stopPropagation()
            }),
            $(document).bind("mousedown", function(d) {
                $(a).css({
                    "min-height": "inherit",
                    cursor: "default"
                }),
                $("#btn-toolbar").find("input[type=text][data-edit]").blur(),
                $("#btn-toolbar") && $("#btn-toolbar").remove(),
                $(a).unbind("click"),
                b.content = $(a).html();
                var e = parseInt($(a).parent().height(), 10);
                e > c && (b.css.height = e,
                $(a).parents("li").height(e)),
                $(a).parents("li").removeClass("inside-active").css("user-select", "none"),
                $(a).removeAttr("contenteditable"),
                $(document).unbind("mousedown")
            }),
            $(a).parents("li").addClass("inside-active").css("user-select", "initial"),
            d.$broadcast("text.click", a))
        }
        function x(a) {
            O(a, function(b) {
                a.properties.src = b.data;
                var c = b.width / b.height
                  
                
                , 
                d = $("#" + a.id);
                if (d.length > 0) {
                    var e = $("#inside_" + a.id).width()
                      
                    
                    , 
                    f = $("#inside_" + a.id).height()
                      
                    
                    , 
                    g = e / f;
                    c >= g ? (d.outerHeight(f),
                    d.outerWidth(f * c),
                    d.css("marginLeft", -(d.outerWidth() - e) / 2),
                    d.css("marginTop", 0)) : (d.outerWidth(e),
                    d.outerHeight(e / c),
                    d.css("marginTop", -(d.outerHeight() - f) / 2),
                    d.css("marginLeft", 0)),
                    d.attr("src", PREFIX_FILE_HOST + b.data),
                    a.properties.imgStyle = {},
                    a.properties.imgStyle.width = d.outerWidth(),
                    a.properties.imgStyle.height = d.outerHeight(),
                    a.properties.imgStyle.marginTop = d.css("marginTop"),
                    a.properties.imgStyle.marginLeft = d.css("marginLeft")
                } else
                    b.width > $("#nr .edit_area").width() && (b.width = $("#nr .edit_area").width(),
                    b.height = b.width / c),
                    b.height > $("#nr .edit_area").height() && (b.height = $("#nr .edit_area").height(),
                    b.width = b.height * c),
                    a.css.width = b.width,
                    a.css.height = b.height,
                    a.properties.imgStyle = {},
                    a.properties.imgStyle.width = b.width,
                    a.properties.imgStyle.height = b.height,
                    a.properties.imgStyle.marginTop = "0",
                    a.properties.imgStyle.marginLeft = "0",
                    u(a.type, a)
            }, function() {
                a.properties.src || n(a.id)
            })
        }
        function y(a) {
            ga || e.open({
                windowClass: "console six-contain shape-console",
                templateUrl: "scene/console/shape.tpl.html",
                controller: "ShapeConsoleCtrl",
                resolve: {
                    obj: function() {
                        return a
                    }
                }
            }).result.then(function(b) {
                var c = $("#" + a.id);
                if (a.properties.type = b.type,
                a.properties.viewBox = b.viewBox,
                c.length) {
                    c.empty();
                    var d = eqxiuSvg.ShapeFromType(b.type, c.width(), c.height());
                    d.setAttribute("fill", a.css.color),
                    c.append(d);
                    var e = eqxiuSvg.boundingBox(d);
                    c.get(0).setAttribute("viewBox", [Math.round(e.x) || 0, Math.round(e.y) || 0, Math.round(e.width) || 64, Math.round(e.height) || 64].join(" "))
                } else
                    u(a.type, a)
            }, function() {
                $("#" + a.id).length || n(a.id)
            })
        }
        function z(a) {
            e.open({
                windowClass: "console seven-contain",
                templateUrl: "scene/console/button.tpl.html",
                controller: "ButtonConsoleCtrl",
                resolve: {
                    obj: function() {
                        return a
                    }
                }
            }).result.then(function(b) {
                a.properties.title = b.title,
                a.properties.number = b.number,
                $.extend(!0, a.css, b.btnStyle);
                var c = $("#" + a.id, $("#nr"));
                c.length > 0 && c.parents("li").remove(),
                u(a.type, a)
            }, function() {
                $("#" + a.id).length || n(a.id)
            })
        }
        function A(a) {
            ga || (ga = e.open({
                windowClass: "console six-contain",
                templateUrl: "scene/console/tel.tpl.html",
                controller: "TelConsoleCtrl",
                resolve: {
                    obj: function() {
                        return a
                    }
                }
            }).result.then(function(b) {
                ga = null ,
                a.properties.title = b.title,
                a.properties.number = b.number;
                b.title.replace(/ /g, "&nbsp;");
                $.extend(!0, a.css, b.btnStyle),
                $("#" + a.id).length > 0 && $("#" + a.id).parents("li").remove(),
                u(a.type, a)
            }, function() {
                ga = null ,
                $("#" + a.id).length || n(a.id)
            }))
        }
        function B(a) {
            ga || (ga = e.open({
                windowClass: "console seven-contain",
                templateUrl: "scene/console/input.tpl.html",
                controller: "InputConsoleCtrl",
                resolve: {
                    obj: function() {
                        return a
                    }
                }
            }).result.then(function(b) {
                ga = null ,
                b.type && (a.type = b.type),
                a.properties.placeholder = b.title,
                a.properties.required = b.required,
                a.title = b.title,
                $.extend(!0, a.css, b.btnStyle);
                var c = $("#" + a.id);
                c.length > 0 && c.parents("li").remove(),
                u(a.type, a)
            }, function() {
                ga = null ,
                $("#" + a.id).length || n(a.id)
            }))
        }
        function C(a) {
            ga || (ga = e.open({
                windowClass: "console seven-contain",
                templateUrl: "scene/console/radio-checkbox.tpl.html",
                controller: "RadioCheckboxConsoleCtrl",
                resolve: {
                    obj: function() {
                        return a
                    }
                }
            }).result.then(function(b) {
                ga = null ,
                a.title = b.title,
                a.type = b.type;
                var c = $("#nr").find("#inside_" + a.id);
                c.length && c.remove(),
                u(a.type, a)
            }, function() {
                ga = null ,
                $("#" + a.id).length || n(a.id)
            }))
        }
        function D(a) {
            ga || (ga = e.open({
                windowClass: "console seven-contain",
                templateUrl: "scene/console/rating.tpl.html",
                controller: "RatingConsoleCtrl",
                resolve: {
                    obj: function() {
                        return a
                    }
                }
            }).result.then(function(b) {
                ga = null ;
                var c = $("#nr").find("#inside_" + a.id);
                c.length && c.remove(),
                u(a.type, a)
            }, function() {
                ga = null ,
                $("#" + a.id).length || n(a.id)
            }))
        }
        function E(a) {
            ga || (ga = e.open({
                windowClass: "console six-contain",
                templateUrl: "scene/console/counter.tpl.html",
                controller: "CounterConsoleCtrl",
                resolve: {
                    obj: function() {
                        return a
                    }
                }
            }).result.then(function(b) {
                ga = null ;
                b.title.replace(/ /g, "&nbsp;");
                $.extend(!0, a.css, b.btnStyle),
                $("#" + a.id).length > 0 && $("#" + a.id).parents("li").remove(),
                u(a.type, a)
            }, function() {
                ga = null ,
                $("#" + a.id).length || n(a.id)
            }))
        }
        function F(a) {
            ga || (ga = e.open({
                windowClass: "console six-contain",
                templateUrl: "scene/console/link-component.tpl.html",
                controller: "LinkComponentConsoleCtrl",
                resolve: {
                    obj: function() {
                        return a
                    }
                }
            }).result.then(function(b) {
                ga = null ,
                isNaN(a.properties.url) && (a.properties.url = PREFIX_S1_URL + "eqs/link?id=" + a.sceneId + "&url=" + encodeURIComponent(a.properties.url)),
                $.extend(!0, a.css, b.btnStyle),
                $("#" + a.id).length > 0 && $("#" + a.id).parents("li").remove(),
                u(a.type, a)
            }, function() {
                ga = null ,
                $("#" + a.id).length || n(a.id)
            }))
        }
        function G(a) {
            ga || (ga = e.open({
                windowClass: "console six-contain",
                templateUrl: "scene/console/sound-component.tpl.html",
                controller: "SoundComponentConsoleCtrl",
                resolve: {
                    obj: function() {
                        return a
                    }
                }
            }).result.then(function(b) {
                ga = null ;
                b.title.replace(/ /g, "&nbsp;");
                $.extend(!0, a.css, b.btnStyle),
                $("#" + a.id).length > 0 && $("#" + a.id).parents("li").remove(),
                u(a.type, a)
            }, function() {
                ga = null ,
                $("#" + a.id).length || n(a.id)
            }))
        }
        function H(a) {
            ga || (ga = e.open({
                windowClass: "console seven-contain pictures1",
                backdrop: "static",
                templateUrl: "scene/console/pictures1.tpl.html",
                controller: "pictures1Ctrl",
                resolve: {
                    obj: function() {
                        return a
                    }
                }
            }).result.then(function(b) {
                ga = null ,
                a.properties = b;
                var c = $("#inside_" + a.id);
                c.length && c.remove(),
                u(a.type, a)
            }, function() {
                ga = null ,
                $("#" + a.id).length || n(a.id)
            }))
        }
        function I(a, b) {
            var c = _.obj.scene;
            K(c, 2, function(a) {
                a.url || a.src ? c.bgAudio = a : c.bgAudio = null 
            }, function() {
                ga = null 
            })
        }
        function J(a, b) {
            K(a, 4, function(b) {
                var c = $("#inside_" + a.id);
                b.src ? (a.sound = b,
                c.children(".sound").length || $('<div class="sound eqf-music">').click(function() {
                    J(a)
                }).appendTo(c)) : (delete a.sound,
                c.children(".sound").remove())
            }, function() {
                ga = null 
            })
        }
        function K(a, b, c, d) {
            ga || (ga = e.open({
                windowClass: "console img_console",
                templateUrl: "scene/console/sound.tpl.html",
                controller: "soundCtrl",
                resolve: {
                    obj: function() {
                        return {
                            elemDef: a,
                            type: b
                        }
                    }
                }
            }).result.then(function(a) {
                ga = null ,
                c(a)
            }, function() {
                ga = null 
            }))
        }
        function L(a) {
            ga || (ga = e.open({
                windowClass: "console six-contain",
                templateUrl: "scene/console/video.tpl.html",
                controller: "VideoCtrl",
                resolve: {
                    obj: function() {
                        return a
                    }
                }
            }).result.then(function(b) {
                ga = null ,
                a.properties.src = b,
                $("#" + a.id).length || u(a.type, a)
            }, function() {
                ga = null ,
                $("#" + a.id).length || n(a.id)
            }))
        }
        function M(a) {
            O(a, function(b) {
                if ("imgSrc" == b.type) {
                    var c = {
                        type: 3,
                        properties: {
                            src: b.data
                        }
                    };
                    b.height / b.width >= 1008 / 642 && b.height / b.width <= 1.578125 ? d.$broadcast("scene.bg.replace", {
                        type: "imgSrc",
                        src: b.data
                    }, a) : S(c, function(b) {
                        d.$broadcast("scene.bg.replace", {
                            type: "imgSrc",
                            src: b.src
                        }, a)
                    }, function() {})
                }
                "backgroundColor" == b.type && d.$broadcast("scene.bg.replace", b, a),
                i.addPageHistory(_.obj.id, _.obj.elements)
            }, function() {})
        }
        function N(a) {
            ga || (ga = e.open({
                windowClass: "console six-contain randomevent-console",
                templateUrl: "scene/console/randomevent.tpl.html",
                controller: "RandomEventCtrl",
                resolve: {
                    obj: function() {
                        return a
                    }
                }
            }).result.then(function(b) {
                ga = null ,
                a.properties.pics = b,
                $("#" + a.id).length || u(a.type, a),
                d.$broadcast("create.randomevent.trigger", a)
            }, function() {
                ga = null ,
                $("#" + a.id).length || n(a.id)
            }))
        }
        function O(a, b, c) {
            if (!ga) {
                var d = "0";
                3 == a.type && (d = "0"),
                4 == a.type && (d = "1"),
                ga = e.open({
                    windowClass: "console img_console",
                    templateUrl: "scene/console/bg.tpl.html",
                    controller: "BgConsoleCtrl",
                    resolve: {
                        obj: function() {
                            return {
                                fileType: d,
                                elemDef: a
                            }
                        }
                    }
                }).result.then(function(a) {
                    ga = null ,
                    b(a)
                }, function(a) {
                    ga = null ,
                    c(a)
                })
            }
        }
        function P(a, b, c) {
            Y.currentElemDef = a,
            d.$broadcast("showStylePanel", {
                activeTab: "style"
            })
        }
        function Q(a, b, c) {
            Y.currentElemDef = a,
            d.$broadcast("showStylePanel", {
                activeTab: "anim"
            })
        }
        function R(a, b, c) {
            Y.currentElemDef = a,
            d.$broadcast("showStylePanel", {
                activeTab: "trigger"
            })
        }
        function S(a, b, c) {
            ga = e.open({
                windowClass: "console seven-contain pictures1",
                templateUrl: "scene/console/imageCrop.tpl.html",
                controller: "imageCropCtrl",
                backdrop: "static",
                resolve: {
                    obj: function() {
                        return a
                    }
                }
            }).result.then(function(a) {
                ga = null ,
                "function" == typeof b && b(a)
            }, function(a) {
                ga = null ,
                "function" == typeof c && c(a)
            })
        }
        function T() {
            $(".content").trigger("mousedown"),
            Y.currentElemDef = null ,
            d.$broadcast("showStylePanel", {
                activeTab: "trigger"
            })
        }
        function U(a) {
            a.sceneId = _.obj.sceneId,
            e.open({
                windowClass: "console six-contain",
                templateUrl: "scene/console/link.tpl.html",
                controller: "LinkConsoleCtrl",
                resolve: {
                    obj: function() {
                        return a
                    }
                }
            }).result.then(function(b) {
                b && "http://" != b ? (isNaN(b) ? a.properties.url = PREFIX_S1_URL + "eqs/link?id=" + a.sceneId + "&url=" + encodeURIComponent(b) : a.properties.url = b,
                $("#inside_" + a.id).find(".fa-link").removeClass("fa-link").addClass("fa-anchor")) : (delete a.properties.url,
                $("#inside_" + a.id).find(".fa-anchor").removeClass("fa-anchor").addClass("fa-link"))
            })
        }
        function lycc(a) {
            ga || (ga = e.open({
                windowClass: "console six-contain",
                templateUrl: "scene/console/lycc.tpl.html",
                controller: "LyccConsoleCtrl",
                resolve: {
                    obj: function() {
                        return a
                    }
                }
            }).result.then(function(b) {
                ga = null ,
                a.properties.title = b.title,
                a.properties.number = b.number;
                $.extend(!0, a.css, b.btnStyle),
                $("#" + a.id).length > 0 && $("#" + a.id).parents("li").remove(),
                u(a.type, a)
            }, 
            function() {
                ga = null ,
                $("#" + a.id).length || n(a.id)
            }))
        }
        function mapccn(a) {
            ga || (ga = e.open({
                windowClass: "console six-contain",
                templateUrl: "scene/console/ditu.tpl.html",
                controller: "MapCtrl",
                resolve: {
                    obj: function() {
                        return a
                    }
                }
            }).result.then(function(b) {
                ga = null ,
                a.properties.src = b,
                $("#" + a.id).length || u(a.type, a)
            }, function() {
                ga = null ,
                $("#" + a.id).length || n(a.id)
            }))
        }
        var V, W, X, Y = {}, 
        Z = eqShow.templateParser("jsonParser"), 
        _ = null , 
        aa = null , 
        ba = {}, 
        ca = ($("#nr .edit_area"),
        0), 
        da = !1;
        Y.historyBack = function() {
            i.canBack(_.obj.id) && (aa = i.back(_.obj.id),
            p(aa),
            o(aa))
        }
        ,
        Y.historyForward = function() {
            i.canForward(_.obj.id) && (aa = i.forward(_.obj.id),
            p(aa),
            o(aa))
        }
        ;
        var ea = Y.createCompGroup = function(a, b) {
            for (var c = v(a), e = 0; e < c.length; e++) {
                var f = t(c[e].type, b, c[e]);
                b = b ? {
                    left: b.left,
                    top: parseInt(b.top, 10) + 50 + "px"
                } : {
                    left: "60px",
                    top: "150px"
                },
                u(c[e].type, f, !0)
            }
            i.addPageHistory(_.obj.id, _.obj.elements),
            d.$broadcast("dom.changed")
        }
          
        
        , 
        fa = function(a, b) {
            var c;
            return "501" == a && (c = {
                properties: {
                    placeholder: "姓名"
                },
                title: "姓名",
                type: 501
            }),
            "502" == a && (c = {
                properties: {
                    placeholder: "手机"
                },
                title: "手机",
                type: 502
            }),
            "503" == a && (c = {
                properties: {
                    placeholder: "邮箱"
                },
                title: "邮箱",
                type: 503
            }),
            "601" == a && (c = {
                properties: {
                    title: "提交"
                },
                type: 601
            }),
            c
        }
        ;
        Y.createComp = function(b, c, d) {
            var e;
            if ("g" == ("" + b).charAt(0))
                return void ea(b, c);
            if ("9" == ("" + b).charAt(0))
                return void I(e, 2);
            if (e = t(b, c),
            4 == b)
                return void x(e);
            if ("h" == b)
                return void y(e);
            if (5 == b)
                return void B(e);
            if (6 == b)
                return void z(e);
            if (8 == b)
                return void A(e);
            if ("p" == b)
                return void H(e);
            if ("L" == b)
                return void lycc(e);
            if ("m" == b)
                return void mapccn(e);
            if ("v" == b)
                return void L(e);
            if (3 == b)
                return void M(e);
            if ("r" == b || "c" == b)
                return void C(e);
            if ("a" == b)
                return void D(e);
            if ("i" == b)
                return d && (e.properties.icon = d),
                void E(e);
            if ("l" == b)
                return void F(e);
            if ("s" == b)
                return void G(e);
            if ("n" == b)
                return void N(e);
            if (2 == b) {
                var f = u(b, e);
                $(".element", f).trigger("dblclick").focus(),
                setTimeout(function() {
                    if (a.getSelection) {
                        var b = a.getSelection();
                        b.modify("move", "left", "documentboundary"),
                        b.modify("extend", "right", "documentboundary")
                    }
                })
            } else
                u(b, e)
        }
        ,
        Y.updateCompPosition = function(a, b, c) {
            for (var e = 0; e < aa.length; e++)
                "inside_" + aa[e].id == a && (aa[e].css ? (aa[e].css.left = b.left,
                aa[e].css.top = b.top,
                c || i.addPageHistory(_.obj.id, aa)) : (aa[e].css = b,
                c || i.addPageHistory(_.obj.id, aa)));
            d.$apply()
        }
        ,
        Y.updateCompAngle = function(a, b) {
            for (var c = 0; c < aa.length; c++)
                "inside_" + aa[c].id == a && (aa[c].css ? aa[c].css.transform = "rotateZ(" + b + "deg)" : aa[c].css = {},
                i.addPageHistory(_.obj.id, aa));
            d.$apply()
        }
        ,
        Y.setCopy = function(a) {
            da = a,
            d.$broadcast("copyState.update", a)
        }
        ,
        Y.getCopy = function() {
            return da
        }
        ,
        Y.getPageNames = function(a) {
            var b = "?t=pageList&sceneCode=" + a;
            return c({
                withCredentials: !0,
                method: "GET",
                url: JSON_URL + b
            })
        }
        ,
        Y.changePageSort = function(a, b) {
            var d = "?c=page&a=pageSort&id=" + b + "&pos=" + a + "&date=" + (new Date).getTime();
            return c({
                withCredentials: !0,
                method: "GET",
                url: JSON_URL + d
            })
        }
        ,
        Y.updateCompSize = function(a, b, c) {
            for (var e = 0; e < aa.length; e++)
                "inside_" + aa[e].id == a && (aa[e].css || (aa[e].css = {}),
                aa[e].css.width = b.width,
                aa[e].css.height = b.height,
                b.lineHeight && (aa[e].css.lineHeight = b.lineHeight),
                aa[e].css.top = b.top,
                aa[e].css.left = b.left,
                aa[e].properties.width = b.width,
                aa[e].properties.height = b.height,
                b.imgStyle && (aa[e].properties.imgStyle = b.imgStyle),
                c || i.addPageHistory(_.obj.id, aa));
            d.$apply()
        }
        ,
        Y.savePageNames = function(a) {
            var b = "?t=savePageName"
              
            , 
            d = {
                id: a.id,
                sceneId: a.sceneId,
                name: a.name
            };
            return c({
                withCredentials: !0,
                method: "POST",
                url: JSON_URL + b,
                headers: {
                    "Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
                },
                data: $.param(d)
            })
        }
        ,
        Y.resetCss = function() {
            $("#nr .edit_area li").each(function(a, b) {
                var c = ba[b.id.replace(/inside_/g, "")];
                c && (c.css || (c.css = {}),
                c.css.zIndex = b.style.zIndex ? b.style.zIndex : "0")
            })
        }
        ,
        Y.copyElement = function() {
            ca = 0,
            X = _.obj.id;
            var a = j.getElements()
              
            
            , 
            c = [];
            $.each(a, function(a, b) {
                c.push(ba[b])
            }),
            V = b.copy(c),
            W = b.copy(c),
            Y.setCopy(!0)
        }
        ,
        Y.isCurrentPageSubmitButtonAlreadyExist = function() {
            var a = !1;
            return b.forEach(_.obj.elements, function(b) {
                6 == ("" + b.type).charAt(0) && (a = !0)
            }),
            a
        }
        ,
        Y.pasteElement = function() {
            for (var a = 0, c = [], e = Y.isCurrentPageSubmitButtonAlreadyExist(), f = 0; f < V.length; f++)
                if (6 !== V[f].type && 601 !== V[f].type || !e) {
                    V[f].pageId = _.obj.id,
                    V[f].id = s(),
                    X == V[f].pageId ? (a++,
                    r(W[f], V[f], a, V.length)) : (ca = 0,
                    V[f].css = b.copy(W[f].css));
                    var g = b.copy(V[f]);
                    aa.push(g),
                    ba[g.id] = g,
                    c.push(u(g.type, g, !0))
                }
            X = _.obj.id,
            i.addPageHistory(_.obj.id, _.obj.elements),
            d.$broadcast("dom.changed"),
            b.forEach(j.getElements(), function(a) {
                $("#inside_" + a).children(".bar").hide()
            }),
            j.clearElements(),
            $.each(c, function(a, b) {
                b.children(".bar").show(),
                j.addElement(b.attr("id").split("_")[1])
            })
        }
        ,
        Y.openCropModal = function(a, b, c) {
            S(a, b, c)
        }
        ,
        Y.replaceBgImage = function(a, b, c) {
            var e = a;
            b.style.backgroundImage = "url(" + PREFIX_FILE_HOST + e + ")",
            c.properties.bgColor = null ,
            c.properties.imgSrc = e,
            d.$broadcast("show.edit.bg")
        }
        ;
        var ga = null ;
        utilTrigger.getSendType(),
        utilTrigger.getHandleType();
        return Y.openTriggerMode = T,
        Z.addInterceptor(function(a, b, c) {
            function e() {
                // 显示样式设置tab
                P(b, function(c) {
                    if (1 == b.type)
                        for (var d in b.properties.labels)
                            c.backgroundColor && (b.properties.labels[d].color.backgroundColor = c.backgroundColor,
                            $(".label_content").css("background-color", c.backgroundColor)),
                            c.color && (b.properties.labels[d].color.color = c.color,
                            $(".label_content").css("color", c.color));
                    else
                        $(".element-box", a).css(c),
                        $.extend(!0, b.css, c)
                });
                
                var c = $('<ul id="popMenu" class="dropdown-menu" style="min-width: 150px; display: block;" role="menu" aria-labelledby="dropdownMenu1"><li class="edit" role="presentation"><a role="menuitem" tabindex="-1"><div class="eqf-write"></div>编辑</a></li><li class="style" role="presentation"><a role="menuitem" tabindex="-1"><div class="eqf-type"></div>样式</a></li><li class="animation" role="presentation"><a role="menuitem" tabindex="-1"><div class="eqf-move"></div>动画</a></li><li class="sound" role="presentation"><a role="menuitem" tabindex="-1"><div class="eqf-music"></div>音效</a></li><li class="trigger" role="presentation"><a role="menuitem" tabindex="-1"><div class="eqf-chufa"></div>触发</a></li><li class="link" role="presentation"><a role="menuitem" tabindex="-1"><div class="eqf-link2"></div>链接</a></li><li class="copy" role="presentation"><a role="menuitem" tabindex="-1"><div class="eqf-copy"></div>复制</a></li><li class="cut" role="presentation"><a role="menuitem" tabindex="-1"><div class="eqf-cut"></div>裁切</a></li><li role="presentation" class="bottom_bar"><a title="置顶"><div class="eqf-top3 up-all"></div></a><a title="上移一层"><div class="eqf-up3 up"></div></a><a title="下移一层"><div class="eqf-down3 down"></div></a><a title="置底"><div class="eqf-under down-all"></div></a><a title="删除"><div class="eqf-delete remove"></div></a></li></ul>').css({
                    position: "absolute",
                    "user-select": "none"
                });
                return da && c.find(".copy").after($('<li class="paste" role="presentation"><a role="menuitem" tabindex="-1"><div class="eqf-print"></div>粘贴</a></li>')),
                c.find(".edit").click(function(d) {
                    switch (d.stopPropagation(),
                    b.type.toString().charAt(0)) {
                    case "1":
                        break;
                    case "2":
                        w(a.find(".element").get(0), b);
                        break;
                    case "3":
                        break;
                    case "4":
                        x(b);
                        break;
                    case "h":
                        y(b);
                        break;
                    case "5":
                        B(b);
                        break;
                    case "6":
                        z(b);
                        break;
                    case "7":
                        break;
                    case "8":
                        A(b);
                        break;
                    case "9":
                        break;
                    case "g":
                        break;
                    case "p":
                        H(b);
                        break;
                    case "m":
                        mapccn(b);
                        break;
                    case "v":
                        L(b);
                        break;
                    case "r":
                    case "c":
                        C(b);
                        break;
                    case "a":
                        D(b);
                        break;
                    case "l":
                        F(b);
                        break;
                    case "s":
                        G(b);
                        break;
                    case "i":
                        E(b);
                        break;
                    case "n":
                        N(b)
                    }
                    c.hide()
                }),
                c.find(".style").click(function(d) {
                    d.stopPropagation(),
                    P(b, function(c) {
                        if (1 == b.type)
                            for (var d in b.properties.labels)
                                c.backgroundColor && (b.properties.labels[d].color.backgroundColor = c.backgroundColor,
                                $(".label_content").css("background-color", c.backgroundColor)),
                                c.color && (b.properties.labels[d].color.color = c.color,
                                $(".label_content").css("color", c.color));
                        else
                            $(".element-box", a).css(c),
                            $.extend(!0, b.css, c)
                    }),
                    c.hide()
                }),
                c.find(".animation").click(function(a) {
                    a.stopPropagation(),
                    Q(b, function(a) {
                        b.properties.anim = a
                    }),
                    c.hide()
                }),
                c.find(".link").click(function(a) {
                    a.stopPropagation(),
                    U(b),
                    c.hide()
                }),
                c.find(".remove").click(function(a) {
                    a.stopPropagation(),
                    d.$broadcast("element.delete")
                }),
                c.find(".sound").click(function(a) {
                    a.stopPropagation(),
                    J(b, 4),
                    c.hide()
                }),
                c.find(".trigger").click(function(a) {
                    a.stopPropagation(),
                    R(b, function(a) {
                        b.properties.anim = a
                    }),
                    c.hide()
                }),
                c.find(".down").click(function(c) {
                    var d = a.prev();
                    if (!(d.length <= 0)) {
                        var e = a.css("zIndex");
                        a.css("zIndex", d.css("zIndex")),
                        d.css("zIndex", e),
                        d.before(a);
                        for (var f = 0; f < aa.length; f++)
                            if (aa[f].id == b.id && f > 0) {
                                var g = aa[f].css.zIndex;
                                aa[f].css.zIndex = aa[f - 1].css.zIndex,
                                aa[f - 1].css.zIndex = g;
                                break
                            }
                    }
                }),
                c.find(".up").click(function(c) {
                    var d = a.next();
                    if (!(d.length <= 0)) {
                        var e = a.css("zIndex");
                        a.css("zIndex", d.css("zIndex")),
                        d.css("zIndex", e),
                        d.after(a);
                        for (var f = 0; f < aa.length; f++)
                            if (aa[f].id == b.id && f < aa.length - 1) {
                                var g = aa[f].css.zIndex;
                                aa[f].css.zIndex = aa[f + 1].css.zIndex,
                                aa[f + 1].css.zIndex = g;
                                break
                            }
                    }
                }),
                c.find(".up-all").click(function(c) {
                    for (var d, e, f = [], g = 0; g < aa.length; g++)
                        aa[g].id == b.id && (e = g),
                        f.push(aa[g].css.zIndex);
                    d = Math.max.apply(null , f),
                    a.css("zIndex", d + 1),
                    aa[e].css.zIndex = d + 1
                }),
                c.find(".down-all").click(function(c) {
                    for (var d, e, f = [], g = 0; g < aa.length; g++)
                        aa[g].id == b.id && (e = g),
                        aa[g].css.zIndex++,
                        f.push(aa[g].css.zIndex);
                    d = Math.min.apply(null , f),
                    d > 0 && (d -= 1),
                    a.css("zIndex", d),
                    aa[e].css.zIndex = d
                }),
                c.find(".copy").click(function(a) {
                    a.stopPropagation(),
                    $(".modal-dialog")[0] || Y.copyElement(),
                    c.hide()
                }),
                c.find(".paste").click(function(a) {
                    a.stopPropagation(),
                    $(".modal-dialog")[0] || Y.pasteElement(),
                    c.hide()
                }),
                c.find(".cut").click(function(a) {
                    a.stopPropagation(),
                    S(b, function() {
                        i.addPageHistory(_.obj.id, _.obj.elements)
                    }),
                    c.hide()
                }),
                2 != b.type && 4 != b.type && "h" != b.type && c.find(".trigger").hide(),
                2 != b.type && 4 != b.type && 5 != b.type && "h" != b.type && 501 != b.type && 502 != b.type && 503 != b.type && c.find(".sound").hide(),
                g.isAllowToAccess(g.accessDef.SCENE_EDIT_TRIGGER) || c.find(".trigger").hide(),
                g.isAllowToAccess(g.accessDef.SCENE_EDIT_SOUND) || c.find(".sound").hide(),
                4 != b.type && "h" != b.type && c.find(".link").hide(),
                4 != b.type && c.find(".cut").hide(),
                "p" == b.type && (c.find(".animation").hide(),
                c.find(".style").hide()),
                (6 == b.type || 601 == b.type) && c.find(".copy").hide(),
                c
            }
            if ("view" != c) {
                b.trigger && m.setTrigger(b.id, b.trigger);
                var f = $("#eq_main");
                b.sound && $('<div class="sound eqf-music">').click(function() {
                    J(b)
                }).appendTo(a),
                a.on("click contextmenu", ".element-box", function(c) {
                    function g(a, b) {
                        $("#" + b).remove(),
                        a.css({
                            left: c.pageX + f.scrollLeft() + 15,
                            top: c.pageY + f.scrollTop(),
                            zIndex: 10001
                        }).appendTo(f),
                        f.mousemove(function(c) {
                            a = $("#" + b),
                            (c.pageX < a.offset().left - 20 || c.pageX > a.offset().left + a.width() + 20 || c.pageY < a.offset().top - 20 || c.pageY > a.offset().top + a.height() + 20) && (a.hide(),
                            $(this).unbind("mousemove"))
                        })
                    }
                    if (c.stopPropagation(),
                    "none" != $(".select-panel").css("display"))
                        return !1;
                    if ($("#nr").find(".mask-trigger").length) {
                        if (Y.currentElemDef && d.$broadcast("create.trigger.menu", a, c),
                        !$(".edit_area").find(".switch").length) {
                            var h = $('<div class="switch">');
                            a.append(h).children(".bar").hide()
                        }
                        return !1
                    }
                    $("#comp_setting:visible").length > 0 && "p" != b.type && (Y.currentElemDef = b,
                    d.$broadcast("showStylePanel"));
                    var i = e();
                    return g(i, "popMenu"),
                    !1
                }),
                a.attr("title", "按住鼠标进行拖动，点击鼠标进行编辑")
            }
        }),
        Z.bindEditEvent("2", function(a, b) {
            var c = $(".element", a)[0];
            $(c).mousedown(function(a) {
                $(this).parents("li").hasClass("inside-active") && a.stopPropagation()
            }),
            $(c).bind("contextmenu", function(a) {
                $(this).parents("li").hasClass("inside-active") ? a.stopPropagation() : $(this).blur()
            }),
            $(c).bind("dblclick", function(a) {
                return $("#nr").find(".mask-trigger").length ? !1 : (w(c, b),
                $("#popMenu").hide(),
                void a.stopPropagation())
            }),
            $(c).bind("keydown", function(a) {
                a.stopPropagation()
            })
        }),
        Z.bindEditEvent("3", function(a, b) {}),
        Z.bindEditEvent("m", function(a, b) {
            var c = $(".element", a)[0];
            $(c).bind("dblclick", function() {
                mapccn(b),
                $("#popMenu").hide()
            })
        }),
        Z.bindEditEvent("v", function(a, b) {
            var c = $(".element", a)[0];
            $(c).unbind("dblclick"),
            $(c).bind("dblclick", function() {
                L(b),
                $("#popMenu").hide()
            })
        }),
        Z.bindEditEvent("4", function(a, b) {
            var c = $(".element", a)[0];
            $(c).unbind("dblclick"),
            $(c).bind("dblclick", function() {
                return $("#nr").find(".mask-trigger").length ? !1 : (x(b),
                void $("#popMenu").hide())
            })
        }),
        Z.bindEditEvent("n", function(a, b) {
            var c = $(".element", a)[0];
            $(c).bind("dblclick", function() {
                return $("#nr").find(".mask-trigger").length ? !1 : (N(b),
                void $("#popMenu").hide())
            })
        }),
        Z.bindEditEvent("h", function(a, b) {
            var c = $(".element", a)[0];
            $(c).unbind("dblclick"),
            $(c).bind("dblclick", function() {
                return $("#nr").find(".mask-trigger").length ? !1 : (y(b),
                void $("#popMenu").hide())
            })
        }),
        Z.bindEditEvent("5", function(a, b) {
            var c = $(".element", a)[0];
            $(c).unbind("dblclick"),
            $(c).bind("dblclick", function() {
                B(b),
                $("#popMenu").hide()
            })
        }),
        Z.bindEditEvent("r", function(a, b) {
            var c = $(".element", a)[0];
            $(c).unbind("dblclick"),
            $(c).bind("dblclick", function() {
                C(b),
                $("#popMenu").hide()
            })
        }),
        Z.bindEditEvent("c", function(a, b) {
            var c = $(".element", a)[0];
            $(c).unbind("dblclick"),
            $(c).bind("dblclick", function() {
                C(b),
                $("#popMenu").hide()
            })
        }),
        Z.bindEditEvent("a", function(a, b) {
            var c = $(".element", a)[0];
            $(c).unbind("dblclick"),
            $(c).bind("dblclick", function() {
                D(b),
                $("#popMenu").hide()
            })
        }),
        Z.bindEditEvent("p", function(a, b) {
            var c = $(".element", a)[0];
            $(c).unbind("dblclick"),
            $(c).bind("dblclick", function() {
                H(b),
                $("#popMenu").hide()
            }),
            k.setProperties(b.properties)
        }),
        Z.bindEditEvent("6", function(a, b) {
            var c = $(".element", a)[0];
            $(c).unbind("dblclick"),
            $(c).bind("dblclick", function() {
                z(b),
                $("#popMenu").hide()
            })
        }),
        Z.bindEditEvent("L", function(a, b) {
            var c = $(".element", a)[0];
            $(c).bind("dblclick", function() {
                lycc(b),
                $("#popMenu").hide()
            })
        }),
        Z.bindEditEvent("8", function(a, b) {
            var c = $(".element", a)[0];
            $(c).unbind("dblclick"),
            $(c).bind("dblclick", function() {
                A(b),
                $("#popMenu").hide()
            })
        }),
        Z.bindEditEvent("l", function(a, b) {
            var c = $(".element", a)[0];
            $(c).unbind("dblclick"),
            $(c).bind("dblclick", function() {
                F(b),
                $("#popMenu").hide()
            })
        }),
        Z.bindEditEvent("s", function(a, b) {
            var c = $(".element", a)[0];
            $(c).unbind("dblclick"),
            $(c).bind("dblclick", function() {
                G(b),
                $("#popMenu").hide()
            })
        }),
        Z.bindEditEvent("i", function(a, b) {
            var c = $(".element", a)[0];
            $(c).unbind("dblclick"),
            $(c).bind("dblclick", function() {
                E(b),
                $("#popMenu").hide()
            })
        }),
        Z.bindEditEvent("7", function(a, b) {
            var c = $(".element", a)[0];
            c.addEventListener("click", function(a) {
                ga || e.open({
                    windowClass: "",
                    templateUrl: "scene/console/map.tpl.html",
                    controller: "MapConsoleCtrl"
                }).result.then(function(a) {
                    var c = new BMap.Map("map_" + b.id);
                    c.clearOverlays();
                    var d = new BMap.Point(a.lng,a.lat)
                      
                    
                    , 
                    e = new BMap.Marker(d);
                    c.addOverlay(e);
                    var f = new BMap.Label(a.address,{
                        offset: new BMap.Size(20,-10)
                    });
                    e.setLabel(f),
                    c.centerAndZoom(d, 12),
                    b.properties.pointX = a.lng,
                    b.properties.pointY = a.lat,
                    b.properties.x = a.lng,
                    b.properties.y = a.lat,
                    b.properties.markTitle = a.address
                })
            })
        }),
        Y.templateEditor = Z,
        Y.getTplById = function(a) {
            var b = "m/scene/select?id=" + a
              
            
            , 
            d = new Date;
            return b += "&time=" + d.getTime(),
            c({
                withCredentials: !0,
                method: "GET",
                url: JSON_URL + b
            })
        }
        ,
        Y.createByTpl = function(a) {
            var b = JSON_URL + "?c=scene&a=createBySys";
            return c({
                withCredentials: !0,
                method: "POST",
                url: b,
                headers: {
                    "Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
                },
                data: $.param(a)
            })
        }
        ,
        Y.getSceneDetail = function(a, b) {
            var d = "?c=scene&a=detail&id=" + a;
            return b && (d += (/\?/.test(d) ? "&" : "?") + "user=" + b),
            c({
                withCredentials: !0,
                method: "GET",
                url: JSON_URL + d
            })
        }
        ,
        Y.saveSceneSettings = function(a) {
            a.image = null ;
            var b = "?c=scene&a=saveSettings";
            return c({
                withCredentials: !0,
                method: "POST",
                url: JSON_URL + b,
                headers: {
                    "Content-Type": "text/plain; charset=UTF-8"
                },
                data: JSON.stringify(a)
            })
        }
        ,
        Y.publishScene = function(a) {
            
            var b = "?c=scene&a=publish&id=" + a
              
            
            , 
            d = new Date;
            return b += "&time=" + d.getTime(),
            c({
                withCredentials: !0,
                method: "GET",
                url: JSON_URL + b
            })
        }
        ,
        
        Y.closeScene = function(a) {
            var b = "?c=scene&a=off&id=" + a
              
            
            , 
            d = new Date;
            return b += "&time=" + d.getTime(),
            c({
                withCredentials: !0,
                method: "GET",
                url: JSON_URL + b
            })
        }
        ,
        Y.openScene = function(a) {
            var b = "?c=scene&a=on&id=" + a
              
            
            , 
            d = new Date;
            return b += "&time=" + d.getTime(),
            c({
                withCredentials: !0,
                method: "GET",
                url: JSON_URL + b
            })
        }
        ,
        Y.createBlankScene = function(a, b, d) {
            var e = {
                name: a,
                type: b,
                pageMode: d
            }
              
            
            , 
            f = "?c=scene&a=create";
            return c({
                withCredentials: !0,
                method: "POST",
                url: JSON_URL + f,
                headers: {
                    "Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
                },
                data: $.param(e)
            })
        }
        ,
        Y.copySceneById = function(a) {
            var b = "?c=scene&a=createByCopy&id=" + a;
            return c({
                withCredentials: !0,
                method: "GET",
                url: JSON_URL + b
            })
        }
        ,
        Y.deleteSceneById = function(a) {
            var b = "?c=scene&a=delscene&id=" + a;
            return c({
                withCredentials: !0,
                method: "GET",
                url: JSON_URL + b
            })
        }
        ,
        Y.getCoverImages = function() {
            var a = "?c=upfile&a=userlist&bizType=99&fileType=1&time=" + (new Date).getTime();
            return c({
                withCredentials: !0,
                method: "GET",
                url: JSON_URL + a
            })
        }
        ,
        Y.getSceneByPage = function(a, b, d) {
            var e = "";
            b || d ? (e = "?t=createPage&id=" + a,
            d && (e += "&copy=true")) : e = "?t=design&pageID=" + a;
            var g = f.defer()
              
            
            , 
            h = new Date;
            return e += (/\?/.test(e) ? "&" : "?") + "time=" + h.getTime(),
            c({
                withCredentials: !0,
                method: "GET",
                url: JSON_URL + e
            }).then(function(a) {
                g.resolve(a),
                _ = a.data,
                _.obj.elements || (_.obj.elements = []),
                aa = _.obj.elements;
                for (var b = 0; aa && b < aa.length; b++)
                    ba[aa[b].id] = aa[b]
            }, function(a) {
                g.reject(a)
            }),
            g.promise
        }
        ,
        Y.previewSceneTpl = function(a) {
            var b = "?c=scene&a=syspageinfo&id=" + a
              
            
            , 
            d = (f.defer(),
            new Date);
            return b += (/\?/.test(b) ? "&" : "?") + "time=" + d.getTime(),
            c({
                withCredentials: !0,
                method: "GET",
                url: JSON_URL + b
            })
        }
        ,
        Y.recordTplUsage = function(a) {
            var b = "?c=scene&a=usepage&id=" + a;
            return c({
                withCredentials: !0,
                method: "POST",
                url: JSON_URL + b
            })
        }
        ,
        Y.getSceneTpl = function(a) {
            var b = h.get("tplCache") ? h.get("tplCache") : h("tplCache")
              
            
            , 
            d = f.defer();
            if (b.get(a)) {
                var e = $.extend(!0, {}, b.get(a));
                e.data.obj.scene && e.data.obj.scene.bgAudio && (_.obj.scene.bgAudio = e.data.obj.scene.bgAudio);
                for (var g = 0; g < e.data.obj.elements.length; g++) {
                    var i = e.data.obj.elements[g];
                    i.id = s(),
                    i.sceneId = _.obj.sceneId,
                    i.pageId = _.obj.id
                }
                aa = e.data.obj.elements;
                for (var j = 0; j < aa.length; j++)
                    ba[aa[j].id] = aa[j];
                d.resolve(e)
            } else {
                var k = "?c=scene&a=syspageinfo&id=" + a
                  
                
                , 
                l = new Date;
                k += (/\?/.test(k) ? "&" : "?") + "time=" + l.getTime(),
                c({
                    withCredentials: !0,
                    method: "GET",
                    url: JSON_URL + k
                }).then(function(a) {
                    b.put(a.data.obj.id, $.extend(!0, {}, a)),
                    a.data.obj.scene && a.data.obj.scene.bgAudio && (_.obj.scene.bgAudio = a.data.obj.scene.bgAudio);
                    for (var c = 0; c < a.data.obj.elements.length; c++) {
                        var e = a.data.obj.elements[c];
                        e.id = s(),
                        e.sceneId = _.obj.sceneId,
                        e.pageId = _.obj.id
                    }
                    aa = a.data.obj.elements;
                    for (var f = 0; f < aa.length; f++)
                        ba[aa[f].id] = aa[f];
                    d.resolve(a)
                }, function(a) {
                    d.reject(a)
                })
            }
            return d.promise
        }
        ,
        Y.saveScene = function(a) {
            a.scene.bgAudio && "string" != typeof a.scene.bgAudio && (a.scene.bgAudio = JSON.stringify(a.scene.bgAudio)),
            a.scene.image = null ;
			
			var b = "?t=savePage";
			//var b = "?t=a";
			/*$.ajax({
                type: "post",
                url: JSON_URL + b,
                data: {
					elements:JSON.stringify(a.elements),
					id:a.id,
					num:a.num,
					name:a.name,
					sceneId:a.sceneId
					},
                dataType: "json",
                success: function (data) {
                    return data;
                },
                error: function (XMLHttpRequest, textStatus, errorThrown) {
                    //alert('6');
                }
            });*/
			
			/*var test0949=c({
                withCredentials: !0,
                method: "post",
                url: JSON_URL + b,
                headers: {
                    "Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
                },
				
				//data: $.param(a)
                //data: "uu:["+JSON.stringify(a)+"]"
				//data: a
				//data: JSON.stringify(a)	
            });
			return test0949;*/
			
        }
        ,
        Y.deletePage = function(a, isMy) {
            var b = "?c=scene&a=delPage&id=" + a;
            b += typeof (isMy) != "undefined" ? "&ismy=1" : "";
            return c({
                withCredentials: !0,
                method: "GET",
                url: JSON_URL + b
            })
        }
        ,
        Y.getBgImages = function(a) {
            var b = "m/scene/gallery/" + a
              
            
            , 
            d = new Date;
            return b += (/\?/.test(b) ? "&" : "?") + "time=" + d.getTime(),
            c({
                withCredentials: !0,
                method: "GET",
                url: JSON_URL + b
            })
        }
        ,
        Y.createCustomComp = fa,
        Y.openAudioModal = I,
        Y.openBgModal = M,
        Y.getElements = function() {
            return aa
        }
        ,
        Y.getElementsMap = function() {
            return ba
        }
        ,
        Y.deleteElement = n,
        Y.getSceneObj = function() {
            return _
        }
        ,
        Y.getTpls = function(a, b, d, e) {
            var f = "?c=scene&a=syslist";
            null  != a && (f += (/\?/.test(f) ? "&" : "?") + "sceneType=" + a),
            f += (/\?/.test(f) ? "&" : "?") + "pageNo=" + (b ? b : 1),
            f += (/\?/.test(f) ? "&" : "?") + "pageSize=" + (d ? d : 12),
            e && (f += (/\?/.test(f) ? "&" : "?") + "orderBy=" + e);
            var g = new Date;
            return f += (/\?/.test(f) ? "&" : "?") + "time=" + g.getTime(),
            c({
                withCredentials: !0,
                method: "GET",
                url: JSON_URL + f
            })
        }
        ,
        Y.getSceneType = function() {
            var a = "?c=statics&a=typelist";
            return c({
                withCredentials: !0,
                method: "GET",
                url: JSON_URL + a
            })
        }
        ,
        Y.getCompanyTpls = function(a, b) {
            var d = "?c=company&a=companytpllist&pageNo=" + a + "&pageSize=" + b;
            return c({
                withCredentials: !0,
                method: "GET",
                url: JSON_URL + d
            })
        }
        ,
        Y.createCompanyTpls = function(a) {
            var b = "?c=company&a=companytplset&id=" + a;
            return c({
                withCredentials: !0,
                method: "POST",
                url: JSON_URL + b
            })
        }
        ,
        Y.clearCompanyTpls = function(a) {
            var b = "?c=company&a=companytplunset&id=" + a;
            return c({
                withCredentials: !0,
                method: "POST",
                url: JSON_URL + b
            })
        }
        ,
        Y.getPageTpls = function(a, b, d, e, f, g, h) {
            var i = "?c=scene&a=syslist";
            a && (i += (/\?/.test(i) ? "&" : "?") + "tplType=1"),
            b && (i += (/\?/.test(i) ? "&" : "?") + "bizType=" + b),
            d && (i += (/\?/.test(i) ? "&" : "?") + "tagId=" + d),
            g && (i += (/\?/.test(i) ? "&" : "?") + "orderBy=" + g),
            h && (i += (/\?/.test(i) ? "&" : "?") + h);
            var j = new Date;
            return i += (/\?/.test(i) ? "&" : "?") + "pageNo=" + (e ? e : 1),
            i += (/\?/.test(i) ? "&" : "?") + "pageSize=" + (f ? f : 12),
            i += (/\?/.test(i) ? "&" : "?") + "time=" + j.getTime(),
            c({
                withCredentials: !0,
                method: "GET",
                url: JSON_URL + i
            })
        }
        ,
        Y.getPageTplTypesTwo = function(a, b) {
            var d = "/?c=upfile&a=systag&type=2&bizType=" + b
              
            
            , 
            e = new Date;
            return d += (/\?/.test(d) ? "&" : "?") + "time=" + e.getTime(),
            c({
                withCredentials: !0,
                method: "GET",
                url: JSON_URL + d
            })
        }
        ,
        Y.saveMyTpl = function(a) {
            var b = "?c=user&a=saveMyTpl";
            return c({
                withCredentials: !0,
                method: "POST",
                url: JSON_URL + b,
                headers: {
                    "Content-Type": "text/plain; charset=UTF-8"
                },
                data: JSON.stringify(a)
            })
        }
        ,
        Y.saveCompanyTpl = function(a) {
            var b = "?c=company&a=saveMyTpl";
            return c({
                withCredentials: !0,
                method: "POST",
                url: JSON_URL + b,
                headers: {
                    "Content-Type": "text/plain; charset=UTF-8"
                },
                data: JSON.stringify(a)
            })
        }
        ,
        Y.previewScene = function(a) {
            var b = "?c=user&a=getMyTpl&id=" + a
              
            
            , 
            d = new Date;
            b += (/\?/.test(b) ? "&" : "?") + "time=" + d.getTime();
            var e = f.defer();
            return c({
                withCredentials: !0,
                method: "GET",
                url: JSON_URL + b
            }).then(function(a) {
                for (var b = h.get("tplCache") ? h.get("tplCache") : h("tplCache"), c = 0; c < a.data.list.length; c++) {
                    var d = {
                        data: {
                            obj: {
                                elements: a.data.list[c].elements,
                                scene: a.data.obj
                            }
                        }
                    };
                    b.put(a.data.list[c].id, $.extend(!0, {}, d))
                }
                e.resolve(a)
            }),
            e.promise
        }
        ,
        Y.transferScene = function(a, b) {
            var d = JSON_URL + "?c=scene&a=transfer";
            return d += "&loginName=" + b,
            d += "&id=" + a,
            d += "&time=" + (new Date).getTime(),
            c({
                withCredentials: !0,
                method: "POST",
                url: d
            })
        }
        ,
        Y.getActivities = function() {
            var a = PREFIX_S1_URL + "eqs/activity";
            return c({
                withCredentials: !0,
                method: "GET",
                url: a
            })
        }
        ,
        Y.getSceneTemplatePrices = function() {
            var a = PREFIX_URL + "?c=statics&a=scene_template_prices";
            return c({
                withCredentials: !0,
                method: "GET",
                url: a
            })
        }
        ,
        Y.soundLink = function(a, b) {
            var d = "m/base/file/link/save?url=" + a + "&fileType=" + b
              
            
            , 
            e = new Date;
            return d += "&time=" + e.getTime(),
            c({
                withCredentials: !0,
                method: "GET",
                url: JSON_URL + d
            })
        }
        ,
        Y
    }
    ]),
    b.module("services.select", []).factory("selectService", ["$rootScope", function(a) {
        var b = {}
          
        
        , 
        c = [];
        return b.addElement = function(b) {
            b += "",
            c.indexOf(b) >= 0 || (c.push(b),
            c.length > 1 && a.$broadcast("select.more"))
        }
        ,
        b.deleteElement = function(b) {
            var d = c.indexOf(b + "");
            0 > d || (c.splice(d, 1),
            c.length <= 1 && a.$broadcast("select.less"))
        }
        ,
        b.clearElements = function() {
            c = [],
            a.$broadcast("select.less")
        }
        ,
        b.getElements = function() {
            return c
        }
        ,
        b
    }
    ]),
    b.module("services.spread", ["services.scene"]),
    b.module("services.spread").factory("SpreadService", ["$http", "sceneService", "$rootScope", function(a, b, c) {
        var d = {};
        d.getDataBySceneId = function(b, c, d, e, f, g, h) {
            var i = "?c=Stat&id=" + b;
            g && (i += (/\?/.test(i) ? "&" : "?") + "user=" + g),
            h && (i += (/\?/.test(i) ? "&" : "?") + "extId=" + h),
            c && (i += "&startDate=" + c),
            d && (i += "&endDate=" + d),
            e && (i += "&pageSize=" + e),
            f && (i += "&pageNo=" + f);
            var j = new Date;
            return i += "&time=" + j.getTime(),
            a({
                withCredentials: !0,
                method: "GET",
                url: JSON_URL + i
            })
        }
        ,
        d.getActivities = function() {
            var b = new Date;
            return a({
                withCredentials: !0,
                method: "GET",
                url: JSON_URL + "?c=user&a=lists&type=pc&time=" + b.getTime()
            })
        }
        ,
        d.getActivityDetail = function(b) {
            var c = new Date;
            return a({
                withCredentials: !0,
                method: "GET",
                url: JSON_URL + "?c=user&a=promotion&code=" + b + "&time=" + c.getTime()
            })
        }
        ;
        var e = function(a) {
            var b = new Date;
            return b.setDate(b.getDate() + a),
            b.setHours(0),
            b.setMinutes(0),
            b.setSeconds(0),
            b.setMilliseconds(0),
            b.getTime()
        }
        ;
        d.updateName = function(b) {
            var c = PREFIX_URL + "m/scene/expand/save";
            return a({
                withCredentials: !0,
                method: "POST",
                url: c,
                headers: {
                    "Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
                },
                data: $.param(b)
            })
        }
        ;
        c.branchid;
        return d.getSceneDetail = function(a, d) {
            b.getSceneDetail(a, d).then(function(a) {
                c.$broadcast("scene.detail", a.data.obj, d)
            }, function() {})
        }
        ,
        d.getSceneData = function(a, b, f, g, h) {
            var i = e(b)
              
            
            , 
            j = e(f);
            d.getDataBySceneId(a, i, j, 30, 0, g, h).then(function(b) {
                c.$broadcast("scene.data", b.data.list, a, i, j, g)
            }, function() {})
        }
        ,
        d.expandWebs = [],
        d.getWebList = function(b, e, f) {
            var g = "m/scene/expand/list";
            b && (g += (/\?/.test(g) ? "&" : "?") + "id=" + b),
            f && (g += (/\?/.test(g) ? "&" : "?") + "user=" + f),
            g += (/\?/.test(g) ? "&" : "?") + "time=" + (new Date).getTime(),
            g += (/\?/.test(g) ? "&" : "?") + "showPv=" + e,
            a({
                withCredentials: !0,
                method: "GET",
                url: JSON_URL + g
            }).then(function(a) {
                a.data.success && (d.expandWebs = a.data.list,
                c.$broadcast("webs.update"))
            }, function(a) {})
        }
        ,
        d.deleteWeb = function(b) {
            var e = PREFIX_URL + "m/scene/expand/delete";
            a({
                withCredentials: !0,
                method: "POST",
                url: e,
                headers: {
                    "Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
                },
                data: $.param(b)
            }).then(function(a) {
                a.data.success && (d.expandWebs.splice(b.index, 1),
                c.$broadcast("webs.update"))
            }, function(a) {})
        }
        ,
        d
    }
    ]),
    b.module("services.file.upload", ["angularFileUpload", "services.file"]).factory("uploaderService", ["$rootScope", "$http", "$interval", "FileUploader", "fileService", function(a, b, c, d, e) {
        var f = {};
        return f.uploader = function(b, e) {
            var f, g = 6, 
            h = new d({
                url: JSON_URL + "?c=upfile&a=upload&bizType=0&fileType=" + b,
                withCredentials: !0,
                queueLimit: g,
                onAfterAddingAll: function() {
                    a.$broadcast("uploadfiles.add"),
                    h.uploadAll()
                },
                onSuccessItem: function(d, e, f, g) {
                    function h() {
                        c.cancel(i)
                    }
                    var i = c(function() {
                        var c = null ;
                        d.progress >= 100 && (c = 4 == b ? {
                            id: e.obj.id,
                            src: e.obj.path,
                            name: e.obj.name,
                            size: e.obj.size
                        } : 2 == b ? {
                            id: e.obj.id,
                            url: e.obj.path,
                            name: e.obj.name,
                            size: e.obj.size
                        } : {
                            tmbPath: e.obj.tmbPath,
                            id: e.obj.id,
                            path: e.obj.path,
                            name: e.obj.name
                        },
                        a.$broadcast("thumbnailList.update", c),
                        h())
                    }, 100)
                }
            }), 
            i = e || 3145728;
            return "0" == b || "1" == b ? f = "|jpg|png|jpeg|bmp|gif|" : ("4" == b || "2" == b) && (f = "|wav|mp3|mpeg|"),
            h.filters.push({
                name: "imageFilter",
                fn: function(a, b) {
                    var c = "|" + a.type.slice(a.type.lastIndexOf("/") + 1) + "|";
                    return -1 !== f.indexOf(c)
                }
            }),
            h.filters.push({
                name: "imageSizeFilter",
                fn: function(a, b) {
                    var c = a.size;
                    return c >= i && alert("上传文件大小限制在" + i / 1024 / 1024 + "M以内"),
                    i > c
                }
            }),
            h.filters.push({
                name: "fileNameFilter",
                fn: function(a, b) {
                    return a.name.length > 50 && alert("文件名应限制在50字符以内"),
                    a.name.length <= 50
                }
            }),
            h
        }
        ,
        f
    }
    ]),
    b.module("services.usercenter", []).factory("usercenterService", ["$http", "$rootScope", function(a, b) {
        var c = {};
        return c.getUserInfo = function() {
            var b = JSON_URL + "?c=user&a=check";
            return b += "&time=" + (new Date).getTime(),
            a({
                withCredentials: !0,
                method: "GET",
                url: b
            })
        }
        ,
        c.getCompanyScale = function() {
            var b = PREFIX_URL + "?c=company&a=company_scale";
            return b += "&time=" + (new Date).getTime(),
            a({
                withCredentials: !0,
                method: "GET",
                url: b
            })
        }
        ,
        c.getCompanyIndustry = function() {
            var b = PREFIX_URL + "?c=company&a=base_company_industry";
            return b += "&time=" + (new Date).getTime(),
            a({
                withCredentials: !0,
                method: "GET",
                url: b
            })
        }
        ,
        c.getCompanyInfo = function() {
            var b = JSON_URL + "?c=company&a=info";
            return b += "&time=" + (new Date).getTime(),
            a({
                withCredentials: !0,
                method: "GET",
                url: b
            })
        }
        ,
        c.saveCompanyInfo = function(b) {
            var c = JSON_URL + "?c=company&a=save";
            return a({
                withCredentials: !0,
                method: "POST",
                url: c,
                headers: {
                    "Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
                },
                data: $.param(b)
            })
        }
        ,
        c.saveUserInfo = function(b) {
            var c = JSON_URL + "?c=user&a=save";
            return a({
                withCredentials: !0,
                method: "POST",
                url: c,
                headers: {
                    "Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
                },
                data: $.param(b)
            })
        }
        ,
        c.getUserXd = function() {
            var b = JSON_URL + "?c=user&a=xd";
            return b += "&time=" + (new Date).getTime(),
            a({
                withCredentials: !0,
                method: "GET",
                url: b
            })
        }
        ,
        c.getgiveXd = function(b) {
            var c = JSON_URL + "?c=user&a=giveXd";
            return c += "&toUser=" + b.toUser,
            c += "&xdCount=" + b.xdCount,
            c += "&time=" + (new Date).getTime(),
            a({
                withCredentials: !0,
                method: "POST",
                url: c
            })
        }
        ,
        c.getXdlog = function(b, c) {
            var d = JSON_URL + "?c=user&a=xdlog&pageNo=" + b + "&pageSize=" + c;
            return d += "&time=" + (new Date).getTime(),
            a({
                withCredentials: !0,
                method: "POST",
                url: d
            })
        }
        ,
        c.getXdStat = function() {
            var b = JSON_URL + "?c=user&a=XdStat";
            return b += "&time=" + (new Date).getTime(),
            a({
                withCredentials: !0,
                method: "GET",
                url: b
            })
        }
        ,
        c.relAccount = function(b, c, d) {
            var e = PREFIX_URL + "eqs/bindAccount?relUser=" + b + "&loginName=" + c + "&loginPassword=" + d;
            return e += "&time=" + (new Date).getTime(),
            a({
                withCredentials: !0,
                method: "POST",
                url: e,
                headers: {
                    "Content-Type": "text/plain; charset=UTF-8"
                }
            })
        }
        ,
        c.setRead = function(b) {
            var c = PREFIX_URL + "m/u/markRead?ids=" + b;
            return c += "&time=" + (new Date).getTime(),
            a({
                withCredentials: !0,
                method: "POST",
                url: c,
                headers: {
                    "Content-Type": "text/plain; charset=UTF-8"
                }
            })
        }
        ,
        c.getNewMessage = function(b, c, d, e) {
            var f = JSON_URL + "?c=statics&a=msgList&pageNo=" + b + "&pageSize=" + c;
            return d && (f += "&unread=" + d),
            e && (f += "&system=" + e),
            f += "&time=" + (new Date).getTime(),
            a({
                withCredentials: !0,
                method: "GET",
                url: f
            })
        }
        ,
        c.getBranches = function(b, c) {
            var d = JSON_URL + "?c=company&a=sublist";
            return b && (d += (/\?/.test(d) ? "&" : "?") + "pageSize=" + b),
            c && (d += (/\?/.test(d) ? "&" : "?") + "pageNo=" + c),
            d += (/\?/.test(d) ? "&" : "?") + "time=" + (new Date).getTime(),
            a({
                withCredentials: !0,
                method: "GET",
                url: d
            })
        }
        ,
        c.getDepts = function() {
            var b = PREFIX_URL + "m/u/tag/list";
            return b += "&time=" + (new Date).getTime(),
            a({
                withCredentials: !0,
                method: "GET",
                url: b
            })
        }
        ,
        c.addDept = function(b) {
            var c = PREFIX_URL + "m/u/tag/create";
            return a({
                withCredentials: !0,
                method: "POST",
                url: c,
                headers: {
                    "Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
                },
                data: $.param(b)
            })
        }
        ,
        c.updateBranch = function(b) {
            var c = PREFIX_URL + "m/u/sub/save";
            return a({
                withCredentials: !0,
                method: "POST",
                url: c,
                headers: {
                    "Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
                },
                data: $.param(b)
            })
        }
        ,
        c.createBranch = function(b) {
            var c = PREFIX_URL + "m/u/sub/create";
            return a({
                withCredentials: !0,
                method: "POST",
                url: c,
                headers: {
                    "Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
                },
                data: $.param(b)
            })
        }
        ,
        c.openBranch = function(b, c) {
            var d = PREFIX_URL;
            return d += c ? "m/u/sub/turnOn?id=" + b : "m/u/sub/turnOff?id=" + b,
            a({
                withCredentials: !0,
                method: "POST",
                url: d,
                headers: {
                    "Content-Type": "text/plain; charset=UTF-8"
                }
            })
        }
        ,
        c.getDomain = function() {
            var b = PREFIX_URL + "m/u/domain";
            return b += "&time=" + (new Date).getTime(),
            a({
                withCredentials: !0,
                method: "GET",
                url: b
            })
        }
        ,
        c.bindDomain = function(b) {
            var c = PREFIX_URL + "m/u/domain/bind";
            return a({
                withCredentials: !0,
                method: "POST",
                url: c,
                headers: {
                    "Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
                },
                data: $.param(b)
            })
        }
        ,
        c.resetBranchPass = function(c) {
            var d = JSON_URL + "?c=company&a=resetpwd"
              
            
            , 
            e = {
                id: c
            };
            a({
                withCredentials: !0,
                method: "POST",
                url: d,
                headers: {
                    "Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
                },
                data: $.param(e)
            }).then(function(a) {
                a.data.success && b.$broadcast("reset.branch.success")
            }, function() {})
        }
        ,
        c.saveApplyInfo = function(b) {
            var c = PREFIX_URL + "m/u/showker/apply";
            return a({
                withCredentials: !0,
                method: "POST",
                url: c,
                headers: {
                    "Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
                },
                data: $.param(b)
            })
        }
        ,
        c.getAPPlyMessage = function(b) {
            var c = PREFIX_S2_URL + "showker/tag?type=" + b;
            return a({
                withCredentials: !0,
                method: "GET",
                url: c
            })
        }
        ,
        c.getUserScene = function(b) {
            var c = PREFIX_S2_URL + "showker/scene?userId=" + b;
            return a({
                withCredentials: !0,
                method: "GET",
                url: c
            })
        }
        ,
        c.getUserStatus = function() {
            var b = PREFIX_URL + "m/u/showker/status";
            return a({
                withCredentials: !0,
                method: "GET",
                url: b
            })
        }
        ,
        c
    }
    ]),
    b.module("templates-app", ["about.tpl.html", "active/active.tpl.html", "active/tab/active1.tpl.html", "active/tab/active2.tpl.html", "data/associateData.tpl.html", "data/edit/canedit.tpl.html", "data/edit/canread.tpl.html", "data/editData.tpl.html", "dialog/bindemail.tpl.html", "dialog/confirm.tpl.html", "dialog/message.tpl.html", "error.tpl.html", "error/error.tpl.html", "footer.tpl.html", "header.tpl.html", "help.tpl.html", "home/home.tpl.html", "main/console/group.tpl.html", "main/console/transferscene.tpl.html", "main/customer.tpl.html", "main/main.tpl.html", "main/spread.tpl.html", "main/spreadDetail.tpl.html", "main/tab/dataDetail.tpl.html", "main/tab/ercode.tpl.html", "main/tab/qrcode.tpl.html", "main/tab/sceneStatistics.tpl.html", "main/tab/spreadMethod.tpl.html", "main/userGuide.tpl.html", "my/myscene.tpl.html", "my/sceneSetting.tpl.html", "my/upload.tpl.html", "notifications.tpl.html", "reg/agreement.tpl.html", "reg/reg.tpl.html", "sample/sample.tpl.html", "scene/console.tpl.html", "scene/console/angle-knob.tpl.html", "scene/console/anim.tpl.html", "scene/console/audio.tpl.html", "scene/console/bg.tpl.html", "scene/console/button.tpl.html", "scene/console/category.tpl.html", "scene/console/counter.tpl.html", "scene/console/cropimage.tpl.html", "scene/console/fake.tpl.html", "scene/console/imageCrop.tpl.html", "scene/console/input.tpl.html", "scene/console/link-component.tpl.html", "scene/console/link.tpl.html", "scene/console/map.tpl.html", "scene/console/microweb.tpl.html", "scene/console/pictures.tpl.html", "scene/console/pictures1.tpl.html", "scene/console/radio-checkbox.tpl.html", "scene/console/randomevent.tpl.html", "scene/console/rating.tpl.html", "scene/console/scene-setting-component.tpl.html", "scene/console/setting.tpl.html", "scene/console/shape.tpl.html", "scene/console/sound-component.tpl.html", "scene/console/sound.tpl.html", "scene/console/soundLink.tpl.html", "scene/console/lycc.tpl.html", "scene/console/style.tpl.html", "scene/console/tel.tpl.html", "scene/console/trigger.tpl.html", "scene/console/ditu.tpl.html", "scene/console/video.tpl.html", "scene/create.tpl.html", "scene/createNew.tpl.html", "scene/createUserGuide.tpl.html", "scene/edit/editbg/editbg.tpl.html", "scene/edit/select/select.tpl.html", "scene/effect/falling.tpl.html", "scene/effect/snowfly.tpl.html", "scene/pageeffect/fall.tpl.html", "scene/pageeffect/finger.tpl.html", "scene/pageeffect/fireworks.tpl.html", "scene/pageeffect/money.tpl.html", "scene/pageeffect/pageeffect.tpl.html", "scene/pageeffect/scratch.tpl.html", "scene/pageeffect/snow.tpl.html", "scene/scene.tpl.html", "scene/userGuide.tpl.html", "show/active/active-xq.tpl.html", "show/active/active.tpl.html", "show/category/category.tpl.html", "show/category/nav.tpl.html", "show/index.tpl.html", "show/recommend/recommend.tpl.html", "show/search/search.tpl.html", "show/visitor/visitor-xq.tpl.html", "show/visitor/visitor.tpl.html", "usercenter/console/apply.tpl.html", "usercenter/console/branch.tpl.html", "usercenter/console/relAccount.tpl.html", "usercenter/console/resetbranchpass.tpl.html", "usercenter/console/upgrade_company.tpl.html", "usercenter/request_reg.tpl.html", "usercenter/tab/account.tpl.html", "usercenter/tab/domain.tpl.html", "usercenter/tab/message.tpl.html", "usercenter/tab/reset.tpl.html", "usercenter/tab/server.tpl.html", "usercenter/tab/userinfo.tpl.html", "usercenter/tab/xd.tpl.html", "usercenter/transfer.tpl.html", "usercenter/usercenter.tpl.html"]),
    b.module("about.tpl.html", []).run(["$templateCache", function(a) {
        a.put("about.tpl.html", '<div class="about">\n    <div class="header">\n        <div class="content">\n            <div class="logo"><img ng-src="{{CLIENT_CDN}}assets/images/logo.png" alt=""></div>\n        </div>\n    </div>\n    <div class="banner">\n    	<img ng-src="{{CLIENT_CDN}}assets/images/contact1.jpg"/>\n    </div>\n    <div class="main clearfix">\n    	<h1>关于我们</h1>\n        <p>雷锋站长是专门为中小微企业营销人员精心打造的移动场景营销管家，旨在帮助中小微企业的营销人员通过移动互联网，轻松构建业务场景，轻量化展示产品和服务，多渠道推广，吸引沉淀客户，再营销，从而持续积累客户，提升营销效果，创造更高更好的市场业绩。</p>\n        <p>如果您需要借助移动互联网做新产品发布、客户培训会、用户沟通沙龙、移动环境中的产品演示、线上调研沟通、服务预约报名等业务活动时，就来雷锋站长吧，我们相信雷锋站长一定能帮到您。</p>\n\n        <img ng-src="{{CLIENT_CDN}}assets/images/contact2.jpg"/>\n\n        <p>联系我们：</p>\n        <p>郭鑫 18611538643 </p>\n        <p>邮件：vip@eqxiu.com</p>\n        <p>QQ：2972881348</p>\n        <p>微信公众号： \n            <img style="display: block;" src="{{CLIENT_CDN}}assets/images/code_about.jpg"/>\n        </p>\n    </div>\n</div>\n<div ng-include="\'footer.tpl.html\'"></div>')
    }
    ]),
    b.module("active/active.tpl.html", []).run(["$templateCache", function(a) {
        a.put("active/active.tpl.html", '\n<div id="activeTwo" ng-if = "activeTwo"><!-- 性格色彩 -->\n	<div ng-include = "\'active/tab/active2.tpl.html\'"></div>\n</div>\n<div id="activeOne" ng-if = "activeOne"><!-- 中国好声音 -->\n	<div ng-include = "\'active/tab/active1.tpl.html\'"></div>\n</div>	\n<div ng-include="\'footer.tpl.html\'"></div>\n')
    }
    ]),
    b.module("active/tab/active1.tpl.html", []).run(["$templateCache", function(a) {
        a.put("active/tab/active1.tpl.html", '<div class="music">\n	<a href="http://eqxiu.com" target="_blank" class="banner">\n		<img ng-src="{{CLIENT_CDN}}assets/images/active/music_01.png" />\n	</a>\n	<div class="bg-con" style="position:relative;">\n		<div class="bg">\n			<div class="active-guize active-same">\n				<h1>中国好声音携手雷锋站长 —— H5页面场景设计大赛</h1>\n				<div class="hd-list">\n					<label>大赛主题：</label><span>给中国好声音节目及4位明星导师，创作H5页面场景。</span>\n				</div>\n				<div class="hd-list">\n					<label>大赛时间：</label><span>2015.06.01－2015.07.10</span>\n				</div>\n				<div class="clearfix active-position hd-list">\n					<label>作品用途：</label>\n					<div class="hd-con">\n						<p>本赛事所选出作品，将由中国好声音官方微博微信、雷锋站长官方微博微信等渠道推广传播，场景尾页底标展示创作者名称，欢迎大家踊跃参赛。</p>\n					</div>\n				</div>\n				<div class="clearfix active-position hd-list">\n					<label>大赛项目：</label>\n					<div class="hd-con yugao">\n						<p>PART1预告篇 —— 制作一个预告场景，宣传好声音开播在即；<br />预告篇获奖名额：1</p>\n						<p>PART2大赛篇 ——制作一个节目模版，以备中国好声音整个第四季度宣传使用；<br />大赛篇获奖名额：5</p>\n						<p>PART3导师篇 —— 四大明星导师（那英汪峰哈林周杰伦）场景制作；<br />导师篇获奖名额：4（每个明星一个名额）</p>\n						<p>PART4学员篇 —— 所有参赛学员场景制作；<br />7.17后开启，敬请期待</p>\n					</div>\n				</div>		\n			</div>\n			<div class="active-guize active-same">\n				<h1>奖品奖项（以上10位获奖选手每人都将获得）：</h1>\n				<div class="no-title">\n					<p>1/“中国好声音“和”雷锋站长“全平台推广资源，特别是大赛篇，将在中国好声音开播期间，持续推广（场景尾页底标展示创作者名称）；</p>\n					<p>2/“中国好声音”定制大礼包一份（含耳机，台历，导师签名照等）；</p>\n					<p>3/“雷锋站长”1000秀点奖励；</p>\n					<p>4/“中国好声音”录制门票一张（该奖项只有一个名额，由大赛篇最佳制作者获得）；</p>\n					<p>5/“明星导师”极有可能转发分享你的作品～</p>\n				</div>\n			</div>\n			<div class="active-guize active-same">\n				<h1>参赛流程：注册雷锋站长 >> 制作场景 >> 设置场景（见下图）</h1>\n				<div class="no-title">\n					<img ng-src="{{CLIENT_CDN}}assets/images/active/liucheng2.png" />\n					<p>结果公示：2015.07.17</p>\n					<p>奖品发放：2015.07.25前</p>\n					<p>主办方中国好声音：真声音真音乐</p>\n					<p>技术支持雷锋站长：移动场景自营销管家</p>\n					<p class="music-con">参赛指南<a href="http://dwz.cn/MBYb8" target="_blank">（http://dwz.cn/MBYb8）</a></p>\n					<p class="music-con">结果公示<a href="http://dwz.cn/MBYwd" target="_blank">（http://dwz.cn/MBYwd）</a></p>\n					<div class="join">\n						<a href="http://pan.baidu.com/v-1bnhNUDD" target="_blank">素材下载</a>\n						<a href="http://eqxiu.com" target="_blank">我要参赛</a>\n					</div>\n				</div>\n			</div>\n			<div class="active-guize active-same active-zuopin">\n				<h2>参赛作品</h2>\n				<ul class="clearfix">\n					<li ng-repeat="active in activeList">\n						<a ng-href="{{PREFIX_CLIENT_HOST + \'/v-\' + active.code}}" target="_blank">\n							<img class="active-img" style="width:100%;" ng-src="{{PREFIX_FILE_HOST + active.cover}}">\n							<p class="show"><span>{{active.name}}</span></p>\n							<p class="auth clearfix">\n								<img ng-src="{{active.headImg}}">\n								<span>{{active.userLoginName}}</span>\n							</p>\n						</a>\n					</li>\n				</ul>\n				<div class="mores" ng-hide = \'activeList.length < 12\'>\n			    	<a ng-click="showMore(type)" ng-show = \'showMoreButton\'>查看更多</a>\n			    	<p ng-show = "!showMoreButton" style="font-size:16px;">没有更多了</p>\n			    </div>\n			    <p style="text-align:center;margin-top:100px;" ng-show = \'activeList.length <= 0\'>暂无参赛作品</p>\n			</div>\n		</div>\n	</div>\n	<div class="light"></div>\n</div>')
    }
    ]),
    b.module("active/tab/active2.tpl.html", []).run(["$templateCache", function(a) {
        a.put("active/tab/active2.tpl.html", '<div class="active">\n	<header>\n		<div class="active-center active-same">\n			<a class="logo" href="http://eqxiu.com">\n				<img ng-src="{{CLIENT_CDN}}assets/images/logoo.png" alt="" >\n			</a>\n		</div>\n	</header>\n	<div ng-show="activeTwo" class="active-wenzi">\n		<section class="banner">\n			<a href="#/home" target="_blank"><img ng-src="{{CLIENT_CDN}}assets/images/active/active1.png" alt="" ></a>\n		</section>\n		<section class="active-same active-content">\n			<h1>性格色彩携手雷锋站长——H5页面场景设计大赛</h1>\n			<p><b>大赛主题：</b>给性格色彩创始人乐嘉的新书［本色］，创作H5页面场景(<a href="http://eqxiu.com/v-l1TjQUiw" target="_blank" style="color:#08a1ef">示例</a>)</p>\n			<p><b>作品用途</b>：本赛事所选出的优秀作品，将由性格色彩和雷锋站长双方在各平台大力推广，场景尾页底标会展示创作者名称，欢迎大家踊跃参赛。</p>	\n			<p><b>大赛时间：</b>2015.5.28-2015.6.15</p>\n			<p class="jiang"><b>大赛奖项：</b></p>\n			<p>特别奖1名（被性格色彩创始人乐嘉选用）</p>\n			<p>1、价值15000元的性格色彩基础和进阶课程；<br />2、价值2000元的雷锋站长秀点奖励；</p>\n			<p class="jiang">创作奖10名（被性格色彩选用的优秀场景）</p>\n			<p>1、包含乐嘉签名的《本色》精装版在内的性格色彩大礼包一份；<br />2、价值1000元的雷锋站长秀点奖励；</p>\n			<p class="jiang">入围奖10名（其他有特色的场景作品）</p>\n			<p>1、包含乐嘉签名的《本色》精装版在内的性格色彩大礼包一份；<br />2、价值100元的雷锋站长秀点奖励；</p>\n			<p class="jiang"><b>参赛流程：注册雷锋站长 >> 制作场景 >> 提交场景到活动页面（见下图）</b></p>\n			<p><img width="300px" ng-src="{{CLIENT_CDN}}assets/images/active/liucheng.jpg" alt="" ></p>\n			<p class="jiang"><b>更多参赛教程点此：</b><a href="http://dwz.cn/Ma4B8" style="color:#08a1ef" target="_blank">http://dwz.cn/Ma4B8</a></p>\n			<p class="jiang"><b>结果公示：</b>2015.6.18</p>\n			<p><b>奖品发放：</b>2015.6.22前</p>\n			<p class="jiang"><b style="color:#c74d4d;">大赛图文素材下载：</b><a href="http://pan.baidu.com/v-1dDCRTQx" style="color:#08a1ef" target="_blank">http://pan.baidu.com/v-1dDCRTQx</a></p>\n			<p class="jiang"><b>主办方</b></p>		\n			<p>性格色彩：一门性格分析的实用工具，帮助你看谁看懂、想谁想通</p>\n			<p>官网地址：<a href="http://fpaworld.com" style="color:#08a1ef" target="_blank">http://fpaworld.com</a></p>\n			<p class="jiang"><b>技术支持</b></p>	\n			<p>雷锋站长：移动场景自营销管家</p>\n			<p>官网地址：<a href="http://eqxiu.com"  style="color:#08a1ef" target="_blank">http://eqxiu.com</a></p>\n			<p class="jiang">大赛咨询：<a href="http://dwz.cn/MarZ3" style="color:#08a1ef" target="_blank">http://dwz.cn/MarZ3</a></p>\n			<div class="join" style="margin-top:40px;"><a href="#/home" target="_blank">我要参赛</a></div>\n		</section>\n	</div>\n	<div ng-show="activeOne" class="active-wenzi">\n		<section class="banner">\n			<img ng-src="{{CLIENT_CDN}}assets/images/active/active-banner.jpg" alt="" >\n		</section>\n		<section class="active-same active-content">\n			<h1>中国好声音</h1>\n			<p>中国好声音</p>\n			<p>中国好声音</p>\n			<p>践行低碳旅游，做环境保护的守护者！</p>\n			<p>诚邀场景设计达人参与场景设计，只要你的场景能体现低碳旅游、绿色环保理念，优秀的作品不但可以获得不同奖励，更可以参加低碳旅游主题巡展。</p>\n			<div>\n				<img ng-src="{{CLIENT_CDN}}assets/images/active/active-img.jpg" alt="" >\n			</div>\n		</section>\n	</div>\n	<div class="active-list">\n		<div class="active-same">\n			<h1>参赛作品</h1>\n			<ul class="clearfix">\n				<li ng-repeat="active in activeList">\n					<a ng-href="{{PREFIX_CLIENT_HOST + \'/v-\' + active.code}}" target="_blank">\n						<img class="active-img" ng-src="{{PREFIX_FILE_HOST + active.cover}}">\n						<p class="show"><span>{{active.name}}</span></p>\n						<p class="auth clearfix">\n							<img ng-src="{{active.headImg}}">\n							<span>{{active.userLoginName}}</span>\n						</p>\n					</a>\n				</li>\n			</ul>\n			<div class="mores" ng-hide = \'activeList.length < 12\'>\n		    	<a ng-click="showMore(type)" ng-show = \'showMoreButton\'>查看更多</a>\n		    	<p ng-show = "!showMoreButton" style="font-size:16px;">没有更多了</p>\n		    </div>\n		    <p style="text-align:center;margin-top:100px;" ng-show = \'activeList.length <= 0\'>暂无参赛作品</p>			\n		</div>\n	</div>\n</div>');
    }
    ]),
    b.module("data/associateData.tpl.html", []).run(["$templateCache", function(a) {
        a.put("data/associateData.tpl.html", '<div class="modal-header">\n    <span>导入客户</span>\n</div>\n<div class="data_associate">\n  <form class="form-horizontal" role="form">\n	<ui-select ng-model="person.selected" theme="bootstrap">\n		<ui-select-match placeholder="选择待导入场景">{{$select.selected.TITLE}}</ui-select-match>\n		<ui-select-choices repeat="person in PremergeScenes | propsFilter: {TITLE: $select.search}">\n		  <div ng-click="selectScene(person.ID)" ng-bind-html="person.TITLE | highlight: $select.search"></div>\n		</ui-select-choices>\n	</ui-select>\n\n	<div class="panel panel-default" ng-show="fields">\n	  	<div class="panel-body">	  	\n			<div class="form-group" ng-repeat="(findex, field) in fields">\n			  	<label class="col-sm-2 control-label">{{field.title}}</label>\n			  	<div class="col-sm-10">\n			  		<select class="form-control" ng-change="associate($index)" ng-model="associateMap[findex]" ng-options="staticFiled.name for staticFiled in staticFileds"></select>\n			  	</div>\n			</div>\n		</div>\n	</div>\n  </form>\n</div>\n<div class="modal-footer">\n    <a class="btn-main login" style="width: 88px;" ng-click="confirm()">确定</a>\n    <a class="btn-grey0 cancel" style="width: 88px;" ng-click="cancel()">取消</a>\n</div>')
    }
    ]),
    b.module("data/edit/canedit.tpl.html", []).run(["$templateCache", function(a) {
        a.put("data/edit/canedit.tpl.html", '<div class="main clearfix">\n    <div class="panel panel-default">\n      <div class="return">\n        <a ng-href="#/main/customer"><span class="fa fa-mail-reply">返回</span></a>\n      </div>\n      <div class="custom-detail">\n        <table width="100%" >\n          <tr><td>姓名：{{dataDetail.name}}</td><td>电话：{{dataDetail.tel}}</td><td>来源：{{dataDetail.originName}}</td></tr>\n          <tr ng-if="isAllowedToAccessGrouping">\n            <td colspan="3">分组：<span class="userList" ng-repeat="groupName in groupNames">{{groupName.name}}<em class="delete" ng-click="deleteAssociation(dataDetail.id,groupName.id)">x</em></span>\n            <div class="group-cat btn-group">\n                <em class="add dropdown-toggle" data-toggle="dropdown" title="添加分组">+</em>\n                <div class="dropdown-menu">            \n                    <ul class="group-list group-over" role="menu">\n                        <li class="group-menu" ng-repeat="group in groups" forbidden-close>\n                            <div class="select-group">\n                                <span class = "delete-group" ng-click="deleteGroup(group, $index);"></span>\n                                <div class="icheckbox_square-blue customer-check fr" ng-class="{checked: group.selected, hover: !group.selected \n                                && group.hovered == true}">\n                                    <input class="check-box" type="checkbox" ng-mouseenter="group.hovered = true;" ng-mouseleave="group.hovered = false;" ng-model="group.selected" name="iCheck">\n                                </div>\n                                <span>{{group.name}}</span>\n                            </div>\n                        </li>\n                    </ul>\n                    <ul class="group-list">\n                        <li class="group-menu" forbidden-close ng-click="addGroup();">\n                            <div class="select-group">\n                                <em>+</em>\n                                <span class="add-group">添加分组</span>\n                            </div>\n                        </li>\n                        <li>\n                            <a class="confirm-add" ng-click="assignGroup();">确定</a>\n                        </li>\n                    </ul>\n                </div>\n                <div class="confirm-group"></div>\n            </div>                  \n            </td>\n          </tr>\n        </table>\n      </div>\n      <div class="panel-body">\n        <form name="formName" class="form-horizontal" role="form">\n          <div class="form-group form-group-sm">\n            <label for="userName" class="col-sm-2 control-label">\n              姓名\n            </label>\n            <div class="col-sm-3">\n              <input type="text" name="name" ng-model="dataDetail.name" class="form-control"\n              id="userName" placeholder="姓名" show-icon callback-fn="updateData(arg1)">\n            </div>\n          </div>\n          <div class="form-group form-group-sm">\n            <label for="sex" class="col-sm-2 control-label">\n              性别\n            </label>\n            <div class="col-sm-3">\n              <select style="width:100%" ng-model="sex" ng-options="sexOption.name for sexOption in sexOptions"\n              ng-change="updateSex(sex)">\n              </select>\n            </div>\n          </div>\n          <div class="form-group form-group-sm" ng-repeat="mobile in formMobiles track by $index">\n            <label for="mobile" class="col-sm-2 control-label" ng-show="$index==0">\n              手机\n            </label>\n            <label for="手机" class="col-sm-2 control-label" ng-show="$index!=0">\n            </label>\n            <div class="col-sm-3" id="mobileAddress">\n              <div class="input-group">\n                <input type="text" name="mobile" ng-model="formMobiles[$index]" class="form-control"\n                placeholder="手机" show-icon callback-fn="updateData(arg1,formMobiles)">\n                <span class="input-group-btn" >\n                  <button class="btn btn-default add-btn btn-sm" ng-click="removeInputs($index, \'mobile\', formMobiles)"\n                  type="button">\n                    <span class="fa fa-minus" >\n                    </span>\n                  </button>\n                </span>\n              </div>\n            </div>\n            <div class="col-sm-1">\n              <span ng-click="addInputs(formMobiles)" ng-show="$index==0" class="fa fa-plus add-inputs">\n              </span>\n            </div>\n          </div>\n          <div class="form-group form-group-sm" ng-repeat="email in formEmails track by $index">\n            <label for="email" class="col-sm-2 control-label" ng-show="$index==0">\n              邮箱\n            </label>\n            <label for="email" class="col-sm-2 control-label" ng-show="$index!=0">\n            </label>\n            <div class="col-sm-3" id="emailAddress">\n              <div class="input-group">\n                <input type="text" name="email" ng-model="formEmails[$index]" class="form-control"\n                placeholder="邮箱" show-icon callback-fn="updateData(arg1,formEmails, formName.emial.$invalid)">\n                <span class="input-group-btn">\n                  <button class="btn btn-default add-btn btn-sm" ng-click="removeInputs($index, \'email\', formEmails)"\n                  type="button">\n                    <span class="fa fa-minus">\n                    </span>\n                  </button>\n                </span>\n              </div>\n              <!-- /input-group -->\n            </div>\n            <div class="col-sm-1">\n              <span ng-click="addInputs(formEmails)" ng-show="$index==0" class="fa fa-plus add-inputs">\n              </span>\n            </div>\n          </div>\n          <div class="form-group form-group-sm">\n            <label for="company" class="col-sm-2 control-label">\n              公司\n            </label>\n            <div class="col-sm-3">\n              <input type="text" name="company" ng-model="dataDetail.company" class="form-control"\n              id="company" placeholder="公司" show-icon callback-fn="updateData(arg1)">\n            </div>\n          </div>\n          <div class="form-group form-group-sm">\n            <label for="job" class="col-sm-2 control-label">\n              职务\n            </label>\n            <div class="col-sm-3">\n              <input type="text" name="job" ng-model="dataDetail.job" class="form-control"\n              id="job" placeholder="职务" show-icon callback-fn="updateData(arg1)" required>\n            </div>\n          </div>\n          <div class="form-group form-group-sm" ng-repeat="tel in formTels track by $index">\n            <label for="tel" class="col-sm-2 control-label" ng-show="$index==0">\n              固定电话\n            </label>\n            <label for="tel" class="col-sm-2 control-label" ng-show="$index!=0">\n            </label>\n            <div class="col-sm-3" id="tel">\n              <div class="input-group">\n                <input type="text" name="tel" ng-model="formTels[$index]" class="form-control"\n                placeholder="固定电话" show-icon callback-fn="updateData(arg1,formTels)">\n                <span class="input-group-btn">\n                  <button class="btn btn-default add-btn btn-sm" ng-click="removeInputs($index, \'email\', formTels)"\n                  type="button">\n                    <span class="fa fa-minus">\n                    </span>\n                  </button>\n                </span>\n              </div>\n              <!-- /input-group -->\n            </div>\n            <div class="col-sm-1">\n              <span ng-click="addInputs(formTels)" ng-show="$index==0" class="fa fa-plus add-inputs">\n              </span>\n            </div>\n          </div>\n          <div class="form-group form-group-sm">\n            <label for="address" class="col-sm-2 control-label">\n              地址\n            </label>\n            <div class="col-sm-5">\n              <input type="text" name="address" ng-model="dataDetail.address" class="form-control"\n              id="address" placeholder="地址" show-icon callback-fn="updateData(arg1)">\n            </div>\n          </div>\n          <div class="form-group form-group-sm">\n            <label for="website" class="col-sm-2 control-label">\n              个人网址\n            </label>\n            <div class="col-sm-5">\n              <input type="text" name="website" ng-model="dataDetail.website" class="form-control"\n              id="website" placeholder="网址" show-icon callback-fn="updateData(arg1)">\n            </div>\n          </div>\n          <div class="form-group form-group-sm">\n            <label for="qq" class="col-sm-2 control-label">\n              QQ号\n            </label>\n            <div class="col-sm-3">\n              <input type="text" name="qq" ng-model="dataDetail.qq" class="form-control"\n              id="qq" placeholder="QQ号" show-icon callback-fn="updateData(arg1)">\n            </div>\n          </div>\n          <div class="form-group form-group-sm">\n            <label for="weixin" class="col-sm-2 control-label">\n              微信号\n            </label>\n            <div class="col-sm-3">\n              <input type="text" name="weixin" ng-model="dataDetail.weixin" class="form-control"\n              id="weixin" placeholder="微信号" show-icon callback-fn="updateData(arg1)">\n            </div>\n          </div>\n          <div class="form-group form-group-sm">\n            <label for="yixin" class="col-sm-2 control-label">\n              易信号\n            </label>\n            <div class="col-sm-3">\n              <input type="text" name="yixin" ng-model="dataDetail.yixin" class="form-control"\n              id="yixin" placeholder="易信号" show-icon callback-fn="updateData(arg1)">\n            </div>\n          </div>\n          <div class="form-group form-group-sm">\n            <label for="weibo" class="col-sm-2 control-label">\n              微博号\n            </label>\n            <div class="col-sm-3">\n              <input type="text" name="weibo" ng-model="dataDetail.weibo" class="form-control"\n              id="weibo" placeholder="微博号" show-icon callback-fn="updateData(arg1)">\n            </div>\n          </div>\n          <div class="form-group form-group-sm">\n            <label for="laiwang" class="col-sm-2 control-label">\n              来往号\n            </label>\n            <div class="col-sm-3">\n              <input type="text" name="laiwang" ng-model="dataDetail.laiwang" class="form-control"\n              id="inputEmail3" placeholder="来往号" show-icon callback-fn="updateData(arg1)">\n            </div>\n          </div>\n          <div class="form-group form-group-sm">\n            <label for="remark" class="col-sm-2 control-label">\n              其它\n            </label>\n            <div class="col-sm-3">\n              <input type="text" name="remark" ng-model="dataDetail.remark" class="form-control"\n              id="remark" placeholder="其它" show-icon callback-fn="updateData(arg1)">\n            </div>\n          </div>\n        </form>\n          <div class="btn-contain btn-big" style="padding-left:180px;text-align:left;">\n              <a class="btn-main login" ng-click="saveData(dataDetail)">\n                  <span>保存</span>\n              </a>\n              <a ng-click="cancel()" class="btn-grey0">取消</a>\n          </div>             \n      </div>\n    </div>\n</div>')
    }
    ]),
    b.module("data/edit/canread.tpl.html", []).run(["$templateCache", function(a) {
        a.put("data/edit/canread.tpl.html", '<div class="main clearfix">\n    <div class="panel panel-default">\n        <div class="return">\n            <a ng-href="#/main/customer"><span class="fa fa-mail-reply">返回</span></a>\n        </div>\n        <div class="custom-detail">\n            <table width="100%" >\n                <tr><td>姓名：{{dataDetail.name}}</td><td>电话：{{dataDetail.tel}}</td><td>来源：{{dataDetail.originName}}</td></tr>\n                <tr ng-if="isAllowedToAccessGrouping">\n                  <td colspan="3">分组：<span class="userList" ng-repeat="groupName in   groupNames">{{groupName.name}}</span>                  \n                  </td>\n                </tr>\n            </table>\n        </div>\n        <div class="panel-body">\n            <form name="formName" class="form-horizontal data-detail" role="form">\n                <div class="form-group form-group-sm">\n                    <label for="userName" class="col-sm-2 control-label">\n                        姓名：\n                    </label>\n                    <div class="col-sm-3">\n                        <span>{{dataDetail.name}}</span>\n                    </div>\n                </div>\n                <div class="form-group form-group-sm">\n                    <label for="sex" class="col-sm-2 control-label">\n                        性别：\n                    </label>\n                    <div class="col-sm-3">\n                        <span>{{sex.id ? sex.name : \'\'}}</span>\n                    </div>\n                </div>\n                <div class="form-group form-group-sm">\n                    <label for="mobile" class="col-sm-2 control-label">\n                        手机：\n                    </label>\n                    <div class="col-sm-3" id="mobileAddress">\n                        <span>{{formMobiles.join()}}</span>\n                    </div>\n                </div>\n                <div class="form-group form-group-sm">\n                    <label for="email" class="col-sm-2 control-label">\n                        邮箱：\n                    </label>\n                    <div class="col-sm-3" id="emailAddress">\n                        <span>{{formEmails.join()}}</span>\n                    </div>\n                </div>\n                <div class="form-group form-group-sm">\n                    <label for="company" class="col-sm-2 control-label">\n                        公司：\n                    </label>\n                    <div class="col-sm-3">\n                      <span>{{dataDetail.company}}</span>\n                    </div>\n                </div>\n                <div class="form-group form-group-sm">\n                    <label for="job" class="col-sm-2 control-label">\n                        职务：\n                    </label>\n                    <div class="col-sm-3">\n                        {{dataDetail.job}}\n                    </div>\n                </div>\n                <div class="form-group form-group-sm">\n                    <label for="tel" class="col-sm-2 control-label">\n                        固定电话：\n                    </label>\n                    <div class="col-sm-3" id="tel">\n                        <span>{{formTels.join()}}</span>\n                    </div>\n                </div>\n                <div class="form-group form-group-sm">\n                    <label for="address" class="col-sm-2 control-label">\n                        地址：\n                    </label>\n                    <div class="col-sm-5">\n                      <span>{{dataDetail.address}}</span>\n                    </div>\n                </div>\n                <div class="form-group form-group-sm">\n                    <label for="website" class="col-sm-2 control-label">\n                        个人网址：\n                    </label>\n                    <div class="col-sm-5">\n                        <span>{{dataDetail.website}}</span>\n                    </div>\n                </div>\n                <div class="form-group form-group-sm">\n                    <label for="qq" class="col-sm-2 control-label">\n                        QQ号：\n                    </label>\n                    <div class="col-sm-3">\n                        <span>{{dataDetail.qq}}</span>\n                    </div>\n                </div>\n                <div class="form-group form-group-sm">\n                    <label for="weixin" class="col-sm-2 control-label">\n                        微信号：\n                    </label>\n                    <div class="col-sm-3">\n                        <span>{{dataDetail.weixin}}</span>\n                    </div>\n                </div>\n                <div class="form-group form-group-sm">\n                    <label for="yixin" class="col-sm-2 control-label">\n                        易信号：\n                    </label>\n                    <div class="col-sm-3">\n                        <span>{{dataDetail.yixin}}</span>\n                    </div>\n                </div>\n                <div class="form-group form-group-sm">\n                    <label for="weibo" class="col-sm-2 control-label">\n                        微博号：\n                    </label>\n                    <div class="col-sm-3">\n                        {{dataDetail.weibo}}\n                    </div>\n                </div>\n                <div class="form-group form-group-sm">\n                    <label for="laiwang" class="col-sm-2 control-label">\n                        来往号：\n                    </label>\n                    <div class="col-sm-3">\n                        <span>{{dataDetail.laiwang}}</span>\n                    </div>\n                </div>\n                <div class="form-group form-group-sm">\n                    <label for="remark" class="col-sm-2 control-label">\n                        其它：\n                    </label>\n                    <div class="col-sm-3">\n                        <span>{{dataDetail.remark}}</span>\n                    </div>\n                </div>\n            </form>\n        </div>\n    </div>\n</div>')
    }
    ]),
    b.module("data/editData.tpl.html", []).run(["$templateCache", function(a) {
        a.put("data/editData.tpl.html", '<div ng-include="\'header.tpl.html\'"></div>\n<div id="main" class="min_contain" ng-if="!hideOpea">\n    <div ng-include="\'data/edit/canedit.tpl.html\'"></div>\n</div>\n<div id="main" class="min_contain" ng-if="hideOpea">\n    <div ng-include="\'data/edit/canread.tpl.html\'"></div>\n</div>')
    }
    ]),
    b.module("dialog/bindemail.tpl.html", []).run(["$templateCache", function(a) {
        a.put("dialog/bindemail.tpl.html", '<div class="email-account">\n    <h1>您的账号还没有绑定邮箱</h1>\n    <p>去用户中心>账号管理，<a ng-href="#/usercenter/account?bindemail">马上绑定</a></p>\n</div>')
    }
    ]),
    b.module("dialog/confirm.tpl.html", []).run(["$templateCache", function(a) {
        a.put("dialog/confirm.tpl.html", '<div class="modal-header">\n    <span>确认信息</span>\n</div>\n<div class="modal-body" ng-if="confirmObj.msg">\n	<div class="confirm-msg" ng-bind-html="confirmObj.msg"></div>\n</div>\n<div class="btn-contain btn-small">\n    <a ng-click="ok();" class="btn-main">\n        {{confirmObj.confirmName || \'确定\'}}\n    </a>\n    <a ng-click="cancel();" class="btn-grey0">\n        {{confirmObj.cancelName || \'取消\'}}\n    </a>\n</div>')
    }
    ]),
    b.module("dialog/message.tpl.html", []).run(["$templateCache", function(a) {
        a.put("dialog/message.tpl.html", '<div class="modal-header">\n    <span class="glyphicon glyphicon-exclamation-sign"></span>\n    <span>{{msgObj.title || \'提示\'}}</span>\n</div>\n<div class="modal-body" ng-if="msgObj.msg">\n    <div class="msg" ng-class="msgObj.title ? \'\' : \'msg-padding\'" ng-bind-html="msgObj.msg"></div>\n</div>\n<div class="modal-footer">\n	<a ng-click="close();" class="btn-main"\n    style="width: 88px;">关闭</a>\n</div>')
    }
    ]),
    b.module("error.tpl.html", []).run(["$templateCache", function(a) {
        a.put("error.tpl.html", '<div class="error">\n    <div class="header">\n        <div class="content">\n            <div class="logo"><img ng-src="{{CLIENT_CDN}}assets/images/logo.png" alt=""></div>\n        </div>\n    </div>\n    <div class="error_contain">\n        <div class="error_con">\n            <img ng-src="{{CLIENT_CDN}}assets/images/404_03.png" alt="" />\n            <p style="font-size:24px;margin-top:30px;margin-bottom:15px;">对不起，您想要进入的页面已经去火星了！</p>\n            <p style="text-align:left;"><a href="#/home">返回地球</a></p>\n        </div>\n    </div>\n</div>\n<div ng-include="\'footer.tpl.html\'"></div>')
    }
    ]),
    b.module("error/error.tpl.html", []).run(["$templateCache", function(a) {
        a.put("error/error.tpl.html", '<div class="error">\n    <div class="header">\n        <div class="content">\n            <div class="logo"><img ng-src="{{CLIENT_CDN}}assets/images/logo.png" alt="" /></div>\n        </div>\n    </div>\n    <div class="error_contain">\n        <div class="error_con">\n            <img ng-src="{{CLIENT_CDN}}assets/images/404_03.png" alt="" />\n            <p style="font-size:24px;margin-top:30px;margin-bottom:15px;">对不起，您想要进入的页面已经去火星了！</p>\n            <p style="text-align:left;"><a href="#/home">返回地球</a></p>\n        </div>\n    </div>\n</div>\n<div ng-include="\'footer.tpl.html\'"></div>')
    }
    ]),
    b.module("footer.tpl.html", []).run(["$templateCache", function(a) {
        a.put("footer.tpl.html", "<footer>\n" + 
        "<footer>\n" + 
        "	<div class=\"content_center\">\n" + 
        "	<article class=\"footer\">\n" + 
        "	<p class=\"beizhu\"> 2015  " + your_demain_beian + "  All rights reserved   {{web_ipc}}</p>\n" + 
        "	<p>\n" + 
        "	<a href=\"{{web_site}}\" target=\"_blank\" rel=\"nofollow\" style=\"margin: 0 auto;\">\n" + 
        "	<img ng-src=\"{{CLIENT_CDN}}assets/images/sn.png\">\n" + 
        "	</a>\n" + 
        "	</p>\n" + 
        "	</article>\n" + 
        "	</div>\n" + 
        "	</footer>")
    }
    ]),
    b.module("header.tpl.html", []).run(["$templateCache", function(a) {
        a.put("header.tpl.html", '\n<div class="header_tpl">\n	<div class="content clearfix">\n		<div class="logo" id="logo"><a href="#/main" class="hint--bottom hint--rounded" data-hint="返回我的场景"><img ng-src="{{logoSrc}}" alt=""></a></div>\n		<div class="head_nav" ng-if="showToolBar();">\n			<ul class="clearfix head_navs">\n				<li ng-class="{hover:isActive == \'main\'}">\n					<a href="#/main">我的场景</a>\n				</li>\n				<li ng-class="{hover:isActive == \'spread\'}">\n					<a href="#/main/spread/statistics">我的推广</a>\n				</li>\n				<li ng-class="{hover:isActive == \'customer\'}">\n					<a href="#/main/customer">我的客户</a>\n				</li>\n<!-- 				<li>\n					<a href="#/show" target="_blank">秀场中心</a>\n				</li> -->\n				<li class="help_center_con" ng-mouseover="showCode2 = true" ng-mouseleave="showCode2 = false">\n					<a>帮助中心</a>\n					<div class="help_center" ng-show="showCode2 == true">\n						<div><a target="_blank" href="http://www.48ym.com/forum.php?mod=viewthread&tid=72&extra=">入门必读</a></div>\n						<div><a target="_blank" href="http://www.48ym.com/forum.php?gid=38">问题反馈</a></div>\n						<div><a target="_blank" href="?c=pay">关于秀点</a></div>\n						<div><a target="_blank" href="http://www.48ym.com/portal.php">论坛帮助</a></div>\n					</div>					\n				</li>			\n			</ul>\n			<div ng-if="user.type == 2 && showBranchSelect" class="select-branch">\n				<select style="width:200px"  ng-model="global.branch" ng-options="branch.loginName for branch in userbranches" ng-change="selectBranch(branch)">\n					<option value="">当前账号</option>\n				</select>\n			</div>\n			<login-toolbar></login-toolbar>\n		</div>\n	    \n	</div>\n</div>	\n')
    }
    ]),
    b.module("help.tpl.html", []).run(["$templateCache", function(a) {
        a.put("help.tpl.html", '<div ng-include="\'header.tpl.html\'"></div>\n<div id = "usercenter" class="min_contain">\n  <div class = "main clearfix">\n    <div class="help_content">\n        <h1>快速获得秀点</h1>\n        <p>1.场景展示得秀点</p>\n        <table>\n            <tr><th class="col-sm-3">账号属性</th><th class="col-sm-3">获取秀点条件</th><th class="col-sm-8">秀点计算</th></tr>\n            <tr><td>普通账号</td><td>分享尾页展示</td><td>5000展示=100秀点</td></tr>\n            <tr><td>高级账号</td><td>末页底标展示</td><td>10000展示=100秀点</td></tr>\n            <tr><td>服务账号</td><td>末页底标展示</td><td>10000展示=100秀点</td></tr>\n            <!-- <tr><td>企业账号</td><td>末页底标</td><td>5000展示=100秀点</td></tr> -->\n        </table>\n        <p>2.推荐会员得秀点</p>\n        <table>\n            <tr><td class="col-sm-3">推荐会员</td><td class="col-sm-3">注册会员</td><td class="col-sm-8">推荐一个会员，可以获得20个秀点</td></tr>\n        </table>\n        <h1 style="margin:20px 0;">秀点使用</h1>\n        <table>\n            <tr><th class="col-sm-3">账号属性</th><th class="col-sm-3">使用内容</th><th class="col-sm-8">所需秀点</th></tr>\n            <tr><td>普通账号</td><td>去除分享尾页</td><td>100个</td></tr>\n            <tr><td>高级账号</td><td>去除末页底标</td><td>100个</td></tr>\n            <tr><td>服务账号</td><td>去除末页底标/修改载入logo</td><td>100个/500个</td></tr>\n        </table>\n    </div>\n  </div>\n</div>\n<div ng-include="\'footer.tpl.html\'"></div>')
    }
    ]),
    b.module("home/home.tpl.html", []).run(["$templateCache", function(a) {
        a.put("home/home.tpl.html", web_muban);
        ;
    }
    ]),
    b.module("main/console/group.tpl.html", []).run(["$templateCache", function(a) {
        a.put("main/console/group.tpl.html", '<div class="modal-header">\n    <span>新建组</span>\n</div>\n<div class="modal-body add-new-cat" forbidden-list-close>\n    <input type="text" ng-model="group.name" placeholder="请设置名称"/>\n</div>\n<p ng-show="authError" style="text-align:center;">{{authError}}</p>\n<div class="btn-contain btn-small">\n    <a class="btn-main login" ng-click="confirm()">确认</a>\n    <a class="btn-grey0 cancel" ng-click="cancel()">取消</a>\n</div>\n')
    }
    ]),
    b.module("main/console/transferscene.tpl.html", []).run(["$templateCache", function(a) {
        a.put("main/console/transferscene.tpl.html", '<div class="dialog-contain " ng-show="transferScene">\n    <div class="dialog-head">\n        <h1>转送场景</h1>\n        <p ng-show="!actionerror">可以向其他账号转送您的场景</p>\n        <p ng-show="actionerror">{{actionerror}}</p>\n    </div>\n	<div class="tab-contain upgrade dialog-content">\n		<form class="form-contain" role="form">\n		    <div class="form-list clearfix">\n		        <label for="inputPassword3" class="form-label">邮箱账号</label>\n		        <div class="form-input">\n		            <input type="text" class="form-control" ng-model="model.toUser">\n		        </div>\n		    </div>\n            <p style="font-size:12px;padding-left:115px;padding-top:10px;"><i style="color:#ff0000">*</i>转出后将不再拥有此场景</p>   \n		</form>	\n	</div>\n    <div class="btn-contain btn-big">\n    	<a class="btn-main login" ng-click="confirm()">确认</a>\n        <a class="btn-grey0 cancel" ng-click="cancel()">取消</a>\n    </div>  	   \n</div>\n    <div ng-hide="transferScene" style="text-align:center;" id="transfer_mes">\n        <p>您已将此场景成功转送给<span style="padding:0 15px">{{model.toUser}}</span></p>\n        <a ng-click="cancel()">x</a>\n    </div>  ')
    }
    ]),
    b.module("main/customer.tpl.html", []).run(["$templateCache", function(a) {
        a.put("main/customer.tpl.html", '<div ng-include="\'header.tpl.html\'"></div>\n<div id="main" class="min_contain">\n    <div class="main clearfix guest-con">\n        <div class="info guest">\n            <ul class="clearfix changjing-item">\n                <li>\n                    <span class="eqf-custom-v"></span>\n                    <div class="big-icon phone">\n                        <p class="num">{{customCount.count || 0 | fixnum}}</p>\n                        <p class="title">已收集客户</p>\n                    </div>\n                </li>\n                <li>\n                    <span class="eqf-out-v"></span>\n                    <div class="big-icon data-out">\n                        <p class="num">{{customCount.unImp}}</p>\n                        <p class="title">未导入数据</p>\n                    </div>\n                </li>\n            </ul>\n        </div>\n        <ul class="create_btn_group" ng-if="isEditor">\n            <li class="btn-main" page-tpl-types ng-href="#/scene/create/2442?pageId=1">页面模板</li>            \n        </ul>   \n        <tabset justified="true" ng-if="!isAllowedToAccessGrouping">     \n                <!-- <div ng-show="editData" ng-include="\'data/editData.tpl.html\'"></div> -->\n            <div class="data" ng-hide="editData">\n                <div class="data_bar">\n                    <ul class="tab_head clearfix" ng-init="tabcustom = \'custom\'">\n                        <li ng-class="{hover: tabcustom == \'custom\'}" ng-click="tabcustom =\'custom\'">客户信息</li>\n                        <li ng-class="{hover: tabcustom == \'daoru\'}" ng-click="tabcustom = \'daoru\'">导入数据</li>\n                    </ul>\n                </div>\n                <div class="custom_contain">\n                    <div ng-show="tabcustom == \'custom\'">\n                        <div class="new_daochu clearfix">\n                            <div class="fr">                              \n                                <a class="btn btn-secondary hint--bottom hint--rounded daochu" style="margin-left:1px;" ng-href="{{JSON_URL + \'?c=custom&a=exp\'}}" tooltip-placement="bottom" tooltip="将数据导出为excel文件" tooltip-append-to-body="true"><span>导出Excel</span>\n                                </a>\n                            </div>\n                        </div> \n                        <div ng-show="customerDatas && customerList">                  \n                            <table class = "col-sm-12 table table-bordered text-center data-table" >\n                                <thead>\n                                    <tr>\n                                        <th>姓名</th>\n                                        <th>手机</th>\n                                        <th>客户群组</th>\n                                        <th>客户来源</th>\n                                        <th>管理</th>\n                                    </tr>\n                                </thead>\n                                <tbody>\n                                    <tr ng-class="{hovercolor: trIndex==$index}" ng-repeat="customerData in customerDatas" ng-mouseenter="addColor($index)" ng-mouseleave="removeColor()">\n                                        <td>{{customerData.name}}</td>\n                                        <td>{{customerData.mobile}}</td>\n                                        <td>{{customerData.groupName}}</td>\n                                        <td>{{customerData.originName}}</td>\n                                        <!-- ng-click="editCustomer(customerData)" -->\n                                        <td><a style = "" class="glyphicon glyphicon-cog" ng-click="editCustom(customerData, $index)"></a><a style="margin-left: 30px;" class="glyphicon glyphicon-trash" ng-click="removeCustomer(customerData)"></a></td>\n                                    </tr>\n                                </tbody>\n                            </table>\n                            <div ng-show="totalItems > 10">\n                                <pagination style="float: left" first-text="首页" last-text="尾页" previous-text="上一页" next-text="下一页" max-size="10" items-per-page="10" total-items="totalItems" ng-model="model.currentPage" ng-change="pageChanged(model.currentPage)" boundary-links="true" rotate="true" num-pages="numPages"></pagination>\n                                <div class="current_page">\n                                    <input type="text" ng-model="model.toPage" ng-keyup="$event.keyCode == 13 ? pageChanged(model.toPage) : null">\n                                    <a ng-click="pageChanged(model.toPage)" class="go">GO</a>\n                                    <span>当前:{{model.toPage}} / {{numPages}} 页</span>\n                                </div>\n                            </div>\n                        </div>\n\n                    </div>\n                    <div ng-show="tabcustom == \'daoru\'">\n                        <div class="new_daochu wai_daoru clearfix">\n                            <!-- <div class="newcustom fr" ng-click="addCustom()"><span>+</span>新增客户</div>  -->                               \n                            <div class="custom_data">可导入数据：<span>{{customCount.count}}</span><!-- <span>上传外部表格</span> --></div>\n\n                        </div>\n                        <div class="daoru_contain clearfix" style="text-align:center;" ng-show="importDatas">\n                            <div class="select_cj fl" style="text-align:left;">\n                                <h2>1.选择新数据场景</h2>\n                                <ul style="height:489px;">\n                                    <li ng-repeat="importData in importDatas" ng-click="selectScene(importData.ID,$index)" ng-class="{active: select == $index}"><span>{{importData.TITLE}}</span></li>\n                                </ul>\n                            </div>\n                            <div class="tuo_data ml20 mr20 fl">\n                                <h2>2.拖拽导入的数据</h2>\n                                <ul class="item_remove_droppable" style="height:489px;overflow-y:auto;width:210px;" item-remove-droppable>\n                                    <li item-draggable item-id="{{field.id}}" class="list_darggable" ng-repeat="field in fields"><span>{{field.title}}</span></li>\n                                </ul>                                    \n                            </div>\n                            <div class="nametoname fl">\n                                <h2>3.拖入对应名称</h2>\n                                <div class="clearfix tuozhuai" style="height:489px;">\n                                    <div >\n                                        <ul>\n                                            <li style="border-bottom:none;" class="clearfix" ng-repeat="staticFiled in staticFileds">\n                                                <div class="list_attribute fl" item-droppable item-id="{{staticFiled.id}}">拖拽到此处</div>\n                                                <div class="list_field fr">{{staticFiled.name}}</div>\n                                            </li>\n                                        </ul>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                        <div class="action" style="text-align:right" ng-show="importDatas">\n                            <span style="padding-right:60px;">拖拽名称标签放到右侧对应名称中</span>\n                            <span style="padding-right:182px;">导入后原场景数据不会删除</span>\n                            <a type="button" class="btn btn-main" ng-click="confirm()">导入</a>\n                        </div>\n                    </div>\n                </div>\n            </div>      \n        </tabset>\n\n        <tabset justified="true" ng-if="isAllowedToAccessGrouping">     \n            <div class="data" ng-hide="editData">\n                <div class="data_bar">\n                    <ul class="tab_head clearfix" ng-init="tabcustom = \'custom\'">\n                        <li ng-class="{hover: tabcustom == \'custom\'}" ng-click="tabcustom =\'custom\'">\n                            客户信息\n                        </li>\n                        <li ng-class="{hover: tabcustom == \'myData\'}" ng-click="tabcustom = \'myData\'">\n                            我的数据\n                        </li>\n                    </ul>\n                </div>\n                <div class="custom_contain">\n                    <div ng-show="tabcustom == \'custom\'">\n                        <div ng-show = "dataShow == \'message\'">\n                            <div class="new_daochu clearfix">\n                                <div class="fr">\n                                    <select style="height:40px;" ng-model="customer.group" ng-options = "mygroup.name for mygroup in groups" ng-change = "getDataBySceneId(pageNo,branchid,customer.group.id,customer.origin.ID)">\n                                        <option value="">全部群组</option>\n                                    </select>\n                                    <select style="height:40px;" ng-model="customer.origin" ng-options = "myorigin.TITLE for myorigin in origins" ng-change = "getDataBySceneId(pageNo,branchid,customer.group.id,customer.origin.ID)">\n                                        <option value="">全部来源</option>\n                                    </select>\n                                    <a class="btn btn-secondary hint--bottom hint--rounded daochu" style="margin-left:1px;" ng-click="downLoad(customer.group.id,customer.origin.ID)" tooltip-placement="bottom" tooltip="将数据导出为excel文件" tooltip-append-to-body="true">\n                                        <span class="eqf-up3"></span>\n                                        <span class="data-out">导出Excel</span>\n                                    </a>\n                                </div>\n                                <div>\n                                    <a class="btn daochu" ng-click="dataShow = \'dataIn\'" ng-show="!hideOpea">导入数据</a>\n                                </div>\n                            </div>\n                            <div class="group-action clearfix" ng-if="!hideOpea">\n                                <div class="fl">\n                                    <div class="icheckbox_square-blue customer-check" ng-class="{checked: allImages.selected, hover: !allImages.selected && allhovered == true}">\n                                        <input class="check-box" type="checkbox" ng-mouseenter="allhovered = true;" ng-mouseleave="allhovered = false;" ng-change="selectAll()" ng-model="allImages.selected" name="iCheck">\n                                    </div>\n                                </div>\n                                <div class="group-cat btn-group">\n                                    <a class="dropdown-toggle" data-toggle="dropdown">\n                                        添加到组\n                                    </a>\n                                    <div class="dropdown-menu">\n                                        <ul class="group-list group-item" role="menu">\n                                            <li class="group-menu" ng-hide="$index==0" ng-repeat="group in groups" forbidden-close>\n                                                <div class="select-group">\n                                                    <span class = "eqf-no" style="color:#ff0000" ng-click = "deleteGroup(group, $index);"></span>\n                                                    <div class="icheckbox_square-blue customer-check fr" ng-class="{checked: group.selected, hover: !group.selected && group.hovered == true}">\n                                                        <input class="check-box" type="checkbox" ng-mouseenter="group.hovered = true;" ng-mouseleave="group.hovered = false;" ng-model="group.selected" name="iCheck">\n                                                    </div>\n                                                    <div class="group-name fr">{{group.name}}</div>\n                                                </div>\n                                            </li>\n                                        </ul>\n                                        <ul class="group-list">\n                                            <li class="group-menu" forbidden-close ng-click="addGroup();">\n                                                <div class="select-group">\n                                                    <em>+</em>\n                                                    <span class="add-group">添加分组</span>\n                                                </div>\n                                            </li>\n                                            <li>\n                                                <a class="confirm-add" ng-click="assignGroup();">确定</a>\n                                            </li>\n                                        </ul>\n                                    </div>\n                                    <div class="confirm-group"></div>\n                                </div>\n                                <span class="mul-del" ng-click="deleteCustomer();">删除</span>\n                            </div>\n                            <div ng-show="customerDatas">\n                                <table class="col-sm-12 table table-bordered text-center data-table" >\n                                    <thead>\n                                        <tr>\n                                            <th ng-if="!hideOpea" class="col-sm-1 check-line">\n                                            </th>\n                                            <th>姓名</th>\n                                            <th>手机</th>\n                                            <th>客户群组</th>\n                                            <th>客户来源</th>\n                                            <th>管理</th>\n                                        </tr>\n                                    </thead>\n                                    <tbody>\n                                        <tr ng-class="{hovercolor: trIndex==$index}" ng-repeat="customerData in customerDatas" ng-mouseenter="addColor($index)" ng-mouseleave="removeColor()">\n                                            <td ng-if="!hideOpea" class="check-line">\n                                                <div class="icheckbox_square-blue table-checkbox" ng-class="{checked: customerData.selected, hover: !customerData.selected && customerData.hovered == true}">\n                                                    <input class="check-box" type="checkbox" ng-mouseenter="customerData.hovered = true;" ng-mouseleave="customerData.hovered = false;" ng-model="customerData.selected" name="iCheck" ng-change="selectCustomer(customerData)">\n                                                </div>\n                                            </td>\n                                            <td>{{customerData.name}}</td>\n                                            <td>{{customerData.mobile}}</td>\n                                            <td>{{customerData.groupName}}</td>\n                                            <td>{{customerData.originName}}</td>\n                                            <td>\n                                                <span class="hint--bottom hint--rounded" data-hint ="编辑"><a class="eqf-scene-settingII" ng-click="editCustom(customerData, $index)"></a></span>\n                                                <span class="hint--bottom hint--rounded" data-hint ="删除">\n                                                <a style="margin-left: 30px;" class="eqf-scene-delete" ng-click="removeCustomer(customerData)" ng-if="!hideOpea" >\n                                                </a>\n                                                </span>\n\n                                            </td>\n                                        </tr>\n                                    </tbody>\n                                </table>\n                                <div ng-show="totalItems > 10">\n                                    <pagination style="float: left" first-text="首页" last-text="尾页" previous-text="上一页" next-text="下一页" max-size="10" items-per-page="10" total-items="totalItems" ng-model="model.currentPage" ng-change="pageChanged(model.currentPage,branchid,customer.group.id,customer.origin.ID)" boundary-links="true" rotate="true" num-pages="numPages"></pagination>\n                                    <div class="current_page">\n                                        <input type="text" ng-model="model.toPage" ng-keyup="$event.keyCode == 13 ? pageChanged(model.toPage,branchid,customer.group.id,customer.origin.ID) : null">\n                                        <a ng-click="pageChanged(model.toPage,branchid,customer.group.id,customer.origin.ID)" class="go">GO</a>\n                                        <span>当前: {{model.currentPage}} / {{numPages}} 页</span>\n                                    </div>\n                                </div>\n                            </div>\n                            <div style="text-align:center;padding:20px 0;" ng-hide="customerDatas">暂无客户列表</div>\n                        </div>\n                        <div ng-show = "dataShow == \'dataIn\' && !hideOpea">\n                            <div class="new_daochu wai_daoru clearfix">\n                                <div class="custom_data">\n                                    可导入数据：\n                                <span>\n                                    {{customCount.unImp}}\n                                </span>\n                                    <span style="cursor:pointer" ng-show="customCount.unImp < 1" ng-click="dataShow = \'message\'">返回</span>\n                                </div>\n                            </div>\n                            <div class="daoru_contain clearfix" style="text-align:center;" ng-show="importDatas">\n                                <div class="select_cj fl" style="text-align:left;">\n                                    <h2>1.选择新数据场景</h2>\n                                    <ul style="height:489px;overflow-y:auto;">\n                                        <li ng-repeat="importData in importDatas" ng-click="selectScene(importData.ID,$index)" ng-class="{active: select == $index}"><span>{{importData.TITLE}}</span></li>\n                                    </ul>\n                                </div>\n                                <div class="tuo_data ml20 mr20 fl">\n                                    <h2>2.拖拽导入的数据</h2>\n                                    <ul class="item_remove_droppable" style="height:489px;overflow-y:auto;width:210px;" item-remove-droppable>\n                                        <li item-draggable item-id="{{field.id}}" class="list_darggable" ng-repeat="field in fields"><span>{{field.title}}</span></li>\n                                    </ul>\n                                </div>\n                                <div class="nametoname fl">\n                                    <h2>3.拖入对应名称</h2>\n                                    <div class="clearfix tuozhuai" style="height:489px;">\n                                        <div >\n                                            <ul>\n                                                <li style="border-bottom:none;" class="clearfix" ng-repeat="staticFiled in staticFileds">\n                                                    <div class="list_attribute fl" item-droppable item-id="{{staticFiled.id}}">拖拽到此处</div>\n                                                    <div class="list_field fr">{{staticFiled.name}}</div>\n                                                </li>\n                                            </ul>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                            <div class="action" style="text-align:right" ng-show="importDatas">\n                                <span style="padding-right:60px;">拖拽名称标签放到右侧对应名称中</span>\n                                <span style="padding-right:182px;">导入后原场景数据不会删除</span>\n                                <a type="button" class="btn-grey0" ng-click="dataShow = \'message\'">取消</a>\n                                <a type="button" class="btn-main" ng-click="confirm()">导入</a>\n                            </div>\n                        </div>\n                    </div>\n                    <div ng-show="tabcustom == \'myData\'" class="myscenedata">\n                        <table class="table table-bordered text-center data-table" >\n                            <thead><tr><th>名称</th><th>来源</th><th>操作</th></tr></thead>\n                            <tbody>\n                                <tr ng-repeat="datas in dataMessage" ng-class="{hovercolor: trIndex==$index}" ng-mouseenter="addColor($index)" ng-mouseleave="removeColor()">\n                                    <td>{{datas.TITLE}}</td>\n                                    <td>来自场景</td>\n                                    <td><span class="hint--bottom hint--rounded" data-hint="查看详情"><a href="#/my/scene/{{datas.ID}}" class="eqf-date"></a></span><span class="hint--bottom hint--rounded" data-hint="下载该场景的数据"><a ng-click="sceneLoad(datas.ID)" class="eqf-download" style="margin-left:30px;"></a></span></td>\n                                </tr>\n                            </tbody>\n                        </table>\n                    </div>\n                </div>\n            </div>      \n        </tabset>\n    </div>\n</div>\n<div ng-include="\'footer.tpl.html\'"></div>')
    }
    ]),
    b.module("main/main.tpl.html", []).run(["$templateCache", function(a) {
        a.put("main/main.tpl.html", '<div ng-include="\'header.tpl.html\'"></div>\n<div id="main" class="min_contain">\n    <div class="main clearfix">\n        <div class="info">\n            <div class="content_center">\n                <ul ng-show = "showScene" ng-init="showScene=true;showCustomer=false" class="clearfix changjing-item">\n                    <li ng-if="!branchid" style = "float:right;">\n                        <a href="#/scene" class="hint--right hint--rounded" data-hint="创建场景">\n                            <div class="chuangjian"></div>\n                        </a>\n                    </li>\n                    <li>\n                        <span class="eqf-phone-v"></span>\n                        <div class="big-icon phone" ng-click="showTip()">\n                            <p class="num">{{allPageCount || 0 | fixnum}}</p>\n                            <p class="title">场景总计</p>\n                        </div>\n                    </li>\n                    <li>\n                        <a href="#/main/spread/statistics" class="hint--right hint--rounded" data-hint="点击查看详情">\n                            <span class="eqf-eye-v"></span>\n                            <div class="big-icon eye">\n                                <p class="num">{{datasCount.pv || 0 | fixnum}}</p>\n                                <p class="title">场景展示</p>\n                            </div>\n                        </a>\n                    </li>\n                    <li>\n                        <span class="eqf-date-v"></span>\n                        <div class="big-icon datas">\n                            <p class="num">{{datasCount.dt || 0 | fixnum}}</p>\n                            <p class="title">收集数据</p>\n                        </div>\n                    </li>\n                </ul>\n            </div>\n        </div>\n        <div class="ad" style="margin-top:20px;">\n            <a href="/#/usercenter/account">\n                <img ng-src="{{CLIENT_CDN}}assets/images/ad.gif" alt="" >\n            </a>\n        </div>\n        <ul class="create_btn_group">\n            <li class="btn-main" ng-if="isEditor" page-tpl-types ng-href="#/scene/create/2442?pageId=1">页面模板</li>            \n        </ul>\n        <tabset justified="true">\n            <div class="content clearfix">\n                <div class="scene_type">\n                    <select ng-model="scene.type" ng-change="getMyScenes()" ng-options="scenetype.name for scenetype in scene.types">\n                        <option value="">全部</option>\n                    </select>\n                    <div ng-if="false">\n                        <img ng-src="{{CLIENT_CDN}}assets/images/test.gif">\n                    </div>\n                </div>\n                <div ng-hide="myScenes">\n                    该分类下还没有创建场景\n                    <span ng-if="!branchid">，请&nbsp;<a href="#/scene">创建场景</a></span>\n                </div>\n                <div class="mask fl" ng-show="myScenes">\n                    <ul class="scene_list">\n                        <li ng-repeat="scene in myScenes track by $index" ng-class="{mr0: $index%4 == 3}">\n                            <div ng-click="showDetail(scene.id)" class="scene_contain" ng-hover resource="scene">\n                                <a class="f1_container">\n                                    <div class="f1_card" style=" width: 100%; height: 235px;position:relative;" >\n                                        <!-- todo: 给发布过但未更新的场景加标志-->\n                                        <div class="pub-icon hint--right hint--rounded" ng-if="(!scene.publishTime || (scene.updateTime > scene.publishTime && scene.status != -1)) && !branchid" ng-click="publishScene(scene, $event);" data-hint="点击发布场景">\n                                            <span style="" class="fa fa-refresh pub-ref"></span>\n                                        </div>\n                                        <div ng-show="!scene.show" class="front face" ng-style="getStyle(scene.cover)">\n                                        </div>\n                                        <div ng-show="scene.show" class="face front qrcode" qr-code qr-url="{{canvasUrl + \'/v-\' + scene.code}}">\n                                        </div>\n                                    </div>\n                                </a>\n                            </div>\n                            <div class="check-state rejected" ng-if="scene.status == -1" style="">\n                                <em class="fa fa-ban"></em>未通过审核\n                                <a class="reject-detail" ng-click="getRejectDetail($event)"><inset>详情</inset></a>\n                            </div>\n                            <div class="check-state checking" ng-if="scene.status == -2" style="">\n                                <em class="fa fa-clock-o"></em>场景审核中\n                            </div>\n                            <div class="scene_desc" title="{{scene.name}}">\n                                <span class="item_title">{{scene.name}}</span>    \n                                <div class="btn-group" ng-if="!branchid">\n                                    <em class="eqf-scene-settingII dropdown-toggle" data-toggle="dropdown">\n                                        <a class="hint--top hint--rounded" data-hint="管理场景">\n                                        </a>\n                                    </em>\n                                    <ul class="dropdown-menu" role="menu">\n                                        <li ng-click="sceneSettings(scene.id)">\n                                            <span class="eqf-scene-setting"></span><span class="set">设置</span>\n                                        </li>\n                                        <li ng-click="editScene(scene.id)">\n                                            <span class="eqf-scene-edit"></span><span class="edit">编辑</span>\n                                        </li>\n                                        <li ng-if="(!scene.publishTime || scene.updateTime > scene.publishTime && scene.status != -1) && scene.status != -1" ng-click="publishScene(scene)">\n                                            <span class="eqf-scene-send"></span><span class="publish">发布</span>\n                                        </li>\n                                        <li ng-if="scene.status != -1 && scene.status != -2" ng-click="copyScene(scene.id)">\n                                            <span class="eqf-scene-copy"></span><span class="copy">复制</span>\n                                        </li>\n										<li ng-if="isAllowedToAccessTransfer && scene.status != -1 && scene.status != -2" ng-click="transferScene(scene.id)">\n                                            <span class="eqf-scene-gift"></span><span class="song">转送</span>\n                                        </li>\n                                        <li ng-if="scene.isTpl == 0 && userProperty.type ==2 && scene.status != -1 && scene.status != -2" ng-click="creatCompanyTpl(scene.id,$index)">\n                                            <span class="eqf-scene-company"></span><span class="companytpl">生成企业样例</span>\n                                        </li>\n                                        <li ng-if="scene.isTpl == 3 && userProperty.type ==2 && scene.status != -1 && scene.status != -2" ng-click="clearCompanyTpl(scene.id,$index)">\n                                            <span class="eqf-scene-company"></span><span class="companytpl">取消企业样例</span>\n                                        </li>\n                                        <li ng-click="deleteScene(scene.id)">\n                                            <span class="eqf-scene-delete"></span><span class="delete">删除</span>\n                                        </li>\n                                    </ul>\n                                </div>        \n                            </div>\n                            <div class="bottom_info" style="position:relative;">\n                                <div style = "position:absolute; top:32px;right:15px;cursor: pointer;">\n                                    <div ng-if="!scene.publishTime">\n                                        未发布\n                                        <span style="color: #ff0000; display:inline;">!</span>\n                                    </div>\n                                    <div ng-if="!branchid">\n                                        <span data-hint="点击关闭场景" class="hint--bottom hint--rounded" ng-if = "scene.status == 1 && scene.publishTime" ><img ng-src="{{CLIENT_CDN}}assets/images/main/opened.png" ng-click = "openScene(scene, false)"/></span>\n                                        <span data-hint="点击开放场景" class="hint--bottom hint--rounded" ng-if = "scene.status == 2 && scene.publishTime"><img ng-src="{{CLIENT_CDN}}assets/images/main/closed.png" ng-click = "openScene(scene, true)" /></span>\n                                    </div>\n                                    <div ng-if="branchid">\n                                        <span ng-if="scene.status == 1 && scene.publishTime">开放</span>\n                                        <span ng-if="scene.status == 2 && scene.publishTime">关闭</span>\n                                    </div>\n                                </div>\n                                <span>场景展示：<em class="baseColor"><a ng-href="#/main/spread/statistics/{{scene.id}}">{{scene.showCount | fixnum}}次</a></em></span>\n                                <span>收集数据：<em class="baseColor"><a ng-href="#/my/scene/{{scene.id}}">{{scene.dataCount | fixnum}}</a></em><em class="grey">&nbsp;条</em></span>\n                            </div>\n                            \n                        </li>\n                    </ul>\n\n                </div>\n                <div class="clearfix fl" ng-show="totalItems > 12">\n                    <pagination style="float: left" first-text="首页" last-text="尾页" previous-text="上一页" next-text="下一页" max-size="10" items-per-page="pageSize" total-items="totalItems" ng-model="page.currentPage" ng-change="pageChanged(page.currentPage)" boundary-links="true" rotate="true" num-pages="numPages"></pagination>\n                    <div class="current_page">\n                        <input type="text" ng-model="toPage" ng-keyup="$event.keyCode == 13 ? pageChanged(toPage) : null">\n                        <a ng-click="pageChanged(toPage)" class="go">GO</a>\n                        <span>当前: {{page.currentPage}} / {{numPages}} 页</span>\n                    </div>\n                </div>\n            </div>\n        </tabset>\n        <!-- 系统消息 -->\n        <div class="sys-msg" ng-show="!!sysMsgs.length && openSysMsgDialog" sys-msg-adjust>\n            <div class="sys-msg-container" ng-class="{\'is-closed\': !openSysMsg}">\n                <ul class="messages">\n                    <li class="message" ng-repeat-start="sysMsg in sysMsgs">\n                        <span>{{($index + 1) + "."}}</span><span ng-bind-html="sysMsg.content"></span>\n                    </li>\n                    <li class="separator" ng-if="!$last" ng-repeat-end></li>\n                </ul>\n            </div>\n            <a class="btn btn-link msg" ng-click="openSysMsg =!openSysMsg" ng-hide="isSysMsgVeryShort">{{openSysMsg ? "收起" : "展开"}}</a>\n            <a class="btn btn-link msg-close" ng-click="closeSysMsgDialog()">关闭</a>\n        </div>\n    </div>\n</div>\n<div ng-include="\'footer.tpl.html\'"></div>\n<div ng-include="\'main/userGuide.tpl.html\'"></div>');
    }
    ]),
    b.module("main/spread.tpl.html", []).run(["$templateCache", function(a) {
        a.put("main/spread.tpl.html", '<div ng-include="\'header.tpl.html\'"></div>\n<div id="spread" class="main clearfix">\n    <div class="spread-content">\n        <div class="content_center">\n            <ul class="clearfix">\n                <li>\n                    <a href="#/main" class="hint--left hint--rounded" data-hint ="点击查看详情">\n                        <span class="eqf-phone-v"></span>\n                        <div class="phone">\n                            <p class="spread-big num">{{allPageCount || 0 | fixnum}}</p>\n                            <p>场景总计</p>\n                        </div>\n                    </a>\n                </li>\n                <li>\n                    <a href="#/main" class="hint--left hint--rounded" data-hint ="点击查看详情">\n                        <span class="eqf-clound-v"></span>\n                        <div class="kai">\n                            <p class="spread-big num">{{datasCount.open || 0 | fixnum}}</p>\n                            <p>开放场景</p>\n                        </div>\n                    </a>\n                </li>\n                <li>\n                    <span class="eqf-eye-v"></span>\n                    <div class="eye">\n                        <p class="spread-big num">{{datasCount.pv || 0 | fixnum}}</p>\n                        <p>场景展示</p>\n                    </div>\n                </li>\n                <li>\n                    <span class="eqf-date-v"></span>\n                    <div class="datas">\n                        <p class="spread-big num">{{datasCount.dt || 0 | fixnum}}</p>\n                        <p>已收集数据</p>\n                    </div>\n                </li>\n            </ul>\n        </div>\n    </div>\n    <div class="spread_content">\n        <div class="chang_contain">\n            <div class="tab_two clearfix">\n                <div ng-class="{hover: tabid == \'statistics\'}" ng-click="spreadStatic();">效果统计</div>\n                <div ng-class="{hover: tabid == \'expand\'}" ng-click="spreadExpand()">推广方法</div>\n            </div>\n            <div class="tab_contain">\n                <div class="changjing_tongji clearfix" ng-show="tabid == \'statistics\'">\n                    <div ng-show="showSpreadTable">\n                        <div ng-include = "\'main/tab/sceneStatistics.tpl.html\'" ng-controller="SceneStatisticCtrl"></div>\n                    </div>\n                    <div ng-show="!showSpreadTable">\n                        <div ng-include = "\'main/tab/dataDetail.tpl.html\'" ng-controller="DataDetailCtrl"></div>\n                    </div>\n                </div>\n                <div class="tuiguang_content" ng-show="tabid == \'expand\'">\n                    <div ng-include = "\'main/tab/spreadMethod.tpl.html\'" ng-controller="SpreadMethodCtrl"></div>\n                </div>\n            </div> \n        </div>                 \n    </div>   \n</div>\n<div ng-include="\'footer.tpl.html\'"></div>\n')
    }
    ]),
    b.module("main/spreadDetail.tpl.html", []).run(["$templateCache", function(a) {
        a.put("main/spreadDetail.tpl.html", '<div id="spread" class="main clearfix">\n    <div class="spread_content">\n        <div class="chang_contain">\n            <div class="tab_two clearfix" ng-init="tabclass=\'tongji\'">\n                <div ng-class="{hover: tabclass == \'tongji\'}" ng-click="tabclass=\'tongji\'">效果统计</div>\n                <div ng-class="{hover: tabclass == \'tuiguang\'}" ng-click="tabclass= \'tuiguang\'">推广方法</div>\n            </div>\n            <div class="tab_contain">\n                <div class="changjing_tongji clearfix" ng-show="tabclass == \'tongji\'">\n\n\n                </div>\n                <div class="tuiguang_content" ng-show="tabclass == \'tuiguang\'"></div>\n            </div> \n        </div>                 \n    </div>   \n</div>')
    }
    ]),
    b.module("main/tab/dataDetail.tpl.html", []).run(["$templateCache", function(a) {
        a.put("main/tab/dataDetail.tpl.html", '\n<div class="panel panel-default" style="margin-top:0;box-shadow:none;margin-bottom:15px;">\n  <div class="panel-body spread_ge">\n    <div class="">\n        <div style="width:100px;height:100px;border:1px solid #e6e6e6;overflow:hidden;float:left;line-height:100px;background-color:#ccc"><img style="width:100%;" ng-src="{{PREFIX_FILE_HOST + scene.cover}}"/></div>\n        <div class="scene_info" style="padding-left:10px;">\n            <p>{{scene.name}}</p>\n            <table>\n                <tr><td>场景网址：{{url + \'/v-\' + scene.code}}</td><td>场景状态：<span ng-show="scene.status == \'1\'" style="color:#08a1ef">开放</span><span ng-show="scene.status == \'2\'">关闭</span></td></tr>\n                <tr><td>场景类型：{{sceneType}}</td><td>网址类型：主网址</td></tr>\n                <tr><td>修改时间：{{scene.updateTime | date:\'yyyy年MM月dd日\'}}</td><td>创建时间：{{scene.createTime | date:\'yyyy年MM月dd日\'}}</td></tr>\n            </table>\n        </div>\n    </div>\n  </div>\n</div>                        \n<div class="col-sm-12 tab-view">\n    <ul class="nav nav-tabs tabs-left clearfix" ng-init="tabid=\'viewinfo\'">\n        <li ng-class="{active: tabid == \'viewinfo\'}"><a ng-click="tabid=\'viewinfo\'">访问概况</a></li>\n        <li ng-class="{active: tabid == \'mobileinfo\'}"><a ng-click="tabid=\'mobileinfo\'">移动访问</a></li>\n        <li ng-class="{active: tabid == \'viewclick\'}"><a ng-click="tabid=\'viewclick\'">内容统计</a></li>\n    </ul>    \n</div>\n<div class="col-sm-12 spread-contain">\n    <div class="view_info clearfix day-spread">\n        <div class=" fl" ng-init="interval=7">                                \n            <span class="btn btn-main" ng-class="{active: interval==1 }" ng-click="getAllStats(scene.id,-1, 0,branchid);interval=1">昨天</span>\n            <span class="btn btn-main" ng-class="{active: interval==7 }" ng-click="getAllStats(scene.id,-7, 0,branchid);interval=7">7天</span>\n            <span class="btn btn-main" ng-class="{active: interval==15 }" ng-click="getAllStats(scene.id,-15, 0,branchid);interval=15">15天</span>\n            <span class="btn btn-main" ng-class="{active: interval==30 }" ng-click="getAllStats(scene.id,-30,0,branchid);interval=30">30天</span>\n            <span class="btn btn-main" ng-class="{active: interval==90 }" ng-click="getAllStats(scene.id,-90, 0,branchid);interval=90">90天</span>\n            <span class="btn btn-main" ng-class="{active: interval==180 }" ng-click="getAllStats(scene.id,-180, 0,branchid);interval=180">180天</span>\n            <span class="btn btn-main" ng-class="{active: interval==360 }" ng-click="getAllStats(scene.id,-360, 0,branchid);interval=360">360天</span>\n        </div>\n        <div class="fr">\n            <ul class="clearfix" ng-show="tabid == \'viewinfo\'">\n                <li ng-class="{active:sceneShow == \'num\'}" ng-click="sceneShow = \'num\'">场景展示</li>\n                <li ng-class="{active:sceneShow == \'datas\'}" ng-click = "sceneShow = \'datas\'">数据收集</li>\n            </ul>\n            <ul class="clearfix" ng-show="tabid == \'viewclick\'">\n                <li ng-class="{active:staticSpread == \'tel\'}" ng-click="staticSpread = \'tel\'">电话直播</li>\n                <li ng-class="{active:staticSpread == \'tab\'}" ng-click = "staticSpread = \'tab\'">按钮点击</li>\n            </ul>         \n            <ul class="clearfix" ng-show="tabid == \'mobileinfo\' && showMobile">\n                <li ng-class="{active:obj.mobileInfo == \'friendsGroup\'}" ng-click="obj.mobileInfo = \'friendsGroup\'">微信朋友圈</li>\n                <li ng-class="{active:obj.mobileInfo == \'friends\'}" ng-click="obj.mobileInfo = \'friends\'">微信群</li>\n                <li ng-class="{active:obj.mobileInfo == \'friend\'}" ng-click="obj.mobileInfo = \'friend\'">微信朋友</li>\n                <li ng-class="{active:obj.mobileInfo == \'other\'}" ng-click="obj.mobileInfo = \'other\'">其他访问</li>\n            </ul>\n        </div>\n    </div>\n    <div class="view_info" ng-show="tabid == \'viewinfo\'">\n        <div class="panel-body">\n            <div ng-show="spreadViewGridOptions.data && spreadViewGridOptions.data.length > 0">\n                <div ng-show="sceneShow == \'num\'">\n                    <!-- <div class="title">场景展示</div> -->\n                    <canvas ng-if="viewLineChartData" line-chart data="{{viewLineChartData}}" width="900" height="200"></canvas>\n                </div>\n                <div ng-show="sceneShow == \'datas\'">\n                    <!-- <div class="title" style="margin-top:20px;">数据收集</div> -->\n                    <canvas ng-if="dataLineChartData" line-chart data="{{dataLineChartData}}" width="900"  height="200"></canvas>\n                </div><!-- \n                <div class="data">\n                    <div ui-grid="spreadViewGridOptions" class="myGrid1"></div>\n                </div> -->\n            </div>\n\n            <div class="data" ng-show="!spreadViewGridOptions.data || spreadViewGridOptions.data.length <= 0">\n                暂无数据\n            </div>\n        </div>\n    </div>\n\n    <div class="view_info" ng-if="tabid == \'mobileinfo\'">\n        <div class="panel-body">\n            <div style="text-align:right;">\n                <ul class="mobileinfo">\n                    <li ng-click="showLine();" ng-class="{active:viewStyle == \'line\'}">线型</li>\n                    <li ng-click="showPie();" ng-class="{active:viewStyle == \'pie\'}">饼状</li>\n                </ul>\n            </div>\n            <div ng-show="spreadMobileGridOptions.data && spreadMobileGridOptions.data.length > 0 && spreadMobile">\n                <div ng-show="viewStyle == \'line\'">\n                    <div ng-show="obj.mobileInfo == \'friendsGroup\'">\n                        <canvas ng-if="dataLineChartFriendGroup" line-chart data="{{dataLineChartFriendGroup}}" width="900"  height="200">\n                        </canvas>                    \n                    </div>\n                    <div ng-show="obj.mobileInfo == \'friends\'">\n                        <canvas ng-if="dataLineChartFriends" line-chart data="{{dataLineChartFriends}}" width="900"  height="200">\n                        </canvas>                    \n                    </div>\n                    <div ng-show="obj.mobileInfo == \'friend\'">\n                        <canvas ng-if="dataLineChartFriend" line-chart data="{{dataLineChartFriend}}" width="900"  height="200">\n                        </canvas>                    \n                    </div>\n                    <div ng-show="obj.mobileInfo == \'other\'">\n                        <canvas ng-if="dataLineChartOther" line-chart data="{{dataLineChartOther}}" width="900"  height="200">\n                        </canvas>                    \n                    </div>                                                            \n                </div>                \n                <div ng-show="viewStyle == \'pie\'" class="pie clearfix">\n                    <canvas ng-if="dataPieChart" pie-chart data="{{dataPieChart}}" width="200"  height="200">\n                    </canvas> \n                    <div>\n                        <p class="group"><em></em>&nbsp;&nbsp;微信朋友圈：{{timelineData}}%</p>\n                        <p class="friends"><em></em>&nbsp;&nbsp;微信群：{{weixinGroupData}}%</p>\n                        <p class="friend"><em></em>&nbsp;&nbsp;微信朋友：{{weixinData}}%</p>\n                        <p class="other"><em></em>&nbsp;&nbsp;其他访问：{{dataOhter}}%</p>\n                    </div>\n                </div>\n            </div>\n<!--             <div class="data" ng-show="spreadMobileGridOptions.data">\n                <div ui-grid="spreadMobileGridOptions" class="myGrid1"></div>\n            </div> -->\n\n            <div class="data" ng-show="!spreadMobileGridOptions.data || spreadMobileGridOptions.data.length <= 0 || !spreadMobile">\n                暂无数据\n            </div>\n        </div>\n    </div>\n      \n    <div class="view_info" ng-show="tabid == \'viewclick\'">\n        <div class="panel-body">\n            <div class="data" ng-show="spreadClickGridOptions.data">\n                <!-- <div ui-grid="spreadClickGridOptions" class="myGrid1"></div> -->\n                <div ng-show="staticSpread == \'tel\'">\n                    <canvas ng-if="viewLineTel" line-chart data="{{viewLineTel}}" width="900"  height="200">\n                    </canvas>                    \n                </div>   \n                <div ng-show="staticSpread == \'tab\'">\n                    <canvas ng-if="viewLineTab" line-chart data="{{viewLineTab}}" width="900"  height="200">\n                    </canvas>                    \n                </div>                              \n            </div>\n            <div class="data" ng-show="!spreadClickGridOptions.data || spreadClickGridOptions.data.length <= 0">\n                暂无数据\n            </div>\n        </div>\n    </div>\n</div>\n<div class="expand-list clearfix" ng-show="isAllowedToAccessExpandWebsite">\n    <table class="table table-bordered" style="margin-top: 20px;">\n        <tr>\n            <th>场景名称</th>\n            <th>场景地址</th>\n            <th>场景展示</th>\n            <th>网址类型</th>\n            <th>操作</th>\n        </tr>\n        <tr class="spread-detail">\n            <td>{{scene.name}}</td>\n            <td>{{url + \'/v-\' + scene.code}}</td>\n            <td>{{scene.showCount}}</td>\n            <td>主网址</td>\n            <td><a ng-click="viewExpandDetail();$parent.interval=7;">查看</a></td>\n        </tr>\n        <tr class="spread-detail" ng-repeat="expandWeb in expandWebs track by $index" ng-class="{\'spread-detail\': selectIndex == $index}">\n            <td>{{expandWeb.name}}</td>\n            <td>{{url + \'/v-\' + scene.code + \'?qrc=\' + expandWeb.id}}</td>\n            <td>{{expandWeb.showCount}}</td>\n            <td>扩展网址</td>\n            <td><a ng-click="viewExpandDetail(expandWeb.id, $index);$parent.interval=7;">查看</a></td>\n        </tr>\n    </table>\n</div>\n\n')
    }
    ]),
    b.module("main/tab/ercode.tpl.html", []).run(["$templateCache", function(a) {
        a.put("main/tab/ercode.tpl.html", '<div class="tuiguang_two tuiguang_same" ng-controller="ErCodeCtrl" style="padding-bottom:20px;">\n    <h1><span>二维码</span></h1>\n    <div class="weixin_list" >\n        <p style="margin-bottom:20px;">特色二维码，可以下载场景大尺寸二维码,用于印刷。只需要选择你需要的场景即可！</p>\n        <a ng-click="open=!open;selectScene()" class="select-scene">选择场景</a>\n        <div ng-show="open">\n            <table class="table table-bordered scene-table">\n                <tr>\n                    <th class="scene-name">场景名称</th>\n                    <th class="scene-link">场景链接</th>\n                    <th class="scene-opea">场景操作</th>\n                </tr>  \n                <tr ng-repeat="myScene in spreadDatas" style="background: #fff;">\n                    <td>{{myScene.name}}</td>\n                    <td>{{myScene.link}}</td>\n                    <td>\n                        <a ng-href="{{myScene.link}}">预览</a>\n                        <a href="" ng-click="select(myScene)">选择</a>\n                    </td>\n                </tr> \n            </table>\n            <div class="clearfix" ng-show="totalItems > 10">\n                <pagination style="float: left" first-text="首页" last-text="尾页" previous-text="上一页" next-text="下一页" max-size="10" items-per-page="10" ng-change="pageChanged(page.currentPage)" total-items="totalItems" ng-model="page.currentPage" boundary-links="true" rotate="true" num-pages="numPages"></pagination>\n                <div class="current_page">\n                    <input type="text" ng-model="toPage" ng-keyup="$event.keyCode == 13 ? pageChanged(toPage) : null">\n                    <a ng-click="pageChanged(toPage)" class="go">GO</a>\n                    <span>当前: {{page.currentPage}} / {{numPages}} 页</span>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class="weixin_list" ng-if="selectedUrl">\n        <div class="weixin_list_con">\n            <div class="weixin_erwei clearfix">\n                <span style="float:left;padding-right:20px;">\n                    <div qr-code qr-url="{{selectedUrl}}"></div>\n                </span>\n                <div class="download">\n                    <div>\n                        <div class="qr-size" qr-code-size="256" qr-url="{{selectedUrl}}"></div>\n                        <a download-canvas target="_blank" download>下载小尺寸二维码<br />\n                            <span>宽256px,适合置入文档</span>\n                        </a>\n                    </div>\n                    <div style="margin:20px 0;">\n                        <div class="qr-size" qr-code-size="512" qr-url="{{selectedUrl}}"></div>\n                        <a download-canvas target="_blank" download>下载中尺寸二维码<br />\n                            <span>宽512px,适合插入PPT</span>\n                        </a>\n                    </div>\n                    <div>\n                        <div class="qr-size" qr-code-size="1024" qr-url="{{selectedUrl}}"></div>\n                        <a download-canvas target="_blank" download>下载大尺寸二维码<br />\n                            <span>宽1024px,适合海报印刷</span>\n                        </a>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>                                                  \n</div>')
    }
    ]),
    b.module("main/tab/qrcode.tpl.html", []).run(["$templateCache", function(a) {
        a.put("main/tab/qrcode.tpl.html", '<div class="tuiguang_two tuiguang_same" ng-controller="QrCodeCtrl">\n    <div class="weixin_list" style="height: 1000px;">\n        <p style="margin-bottom:20px;">生成扩展网址二维码，可以用于不同渠道，可以清晰统计每个渠道数据信息</p>\n        <a class="back" ng-click="showExpandWebs=false;" ng-show="showExpandWebs">\n            <span class="eqf-back"></span>\n            返回场景列表\n        </a>\n        <!-- <a ng-click="open=!open;selectScene()" class="select-scene">选择场景</a> -->\n        <div ng-show="!showExpandWebs">\n            <table class="table table-bordered scene-table">\n                <tr>\n                    <th class="scene-name">场景</th>\n                    <th class="scene-link">展示次数</th>\n                    <th class="scene-opea">扩展网址展示次数</th>\n                    <th class="scene-opea">转化率</th>\n                    <th class="scene-opea">设置</th>\n                </tr>  \n                <tr class="tr-body" ng-repeat="myScene in myScenes" style="background: #fff;">\n                    <td>\n                        <img style="float: left; width: 60px; height: 60px;" ng-src="{{PREFIX_FILE_HOST + myScene.cover}}">\n                        <div class="name" title="{{myScene.name}}">\n                            {{myScene.name}}\n                        </div>\n                        <div class="link">\n                            {{myScene.link}}\n                        </div>\n                    </td>\n                    <td>{{myScene.showCount}}</td>\n                    <td>{{myScene.isShow || 0}}</td>\n                    <td>{{myScene.showCount == 0 ? "0.00%":(myScene.dataCount * 100/myScene.showCount).toFixed(2) + "%"}}</td>\n                    <td class="set-expand" ng-click="showExpandList(myScene);">\n                        <a>\n                            <span class="eqf-scene-settingII"></span>\n                        </a>\n                        <!-- <a ng-href="{{myScene.link}}">预览</a>\n                        <a href="" ng-click="select(myScene)">选择</a> -->\n                    </td>\n                </tr> \n            </table>\n            <div class="clearfix" ng-show="totalItems > 10">\n                <pagination style="float: left" first-text="首页" last-text="尾页" previous-text="上一页" next-text="下一页" max-size="10" items-per-page="10" total-items="totalItems" ng-model="page.currentPage" ng-change="pageChanged(page.currentPage)" boundary-links="true"  rotate="true" num-pages="numPages"></pagination>\n                <div class="current_page">\n                    <input type="text" ng-model="toPage" ng-keyup="$event.keyCode == 13 ? pageChanged(toPage) : null">\n                    <a ng-click="pageChanged(toPage)" class="go">GO</a>\n                    <span>当前: {{page.currentPage}} / {{numPages}} 页</span>\n                </div>\n            </div>\n        </div>\n        <div class="expand-webs" ng-show="showExpandWebs">\n            <div class="main-scene clearfix">\n                <img style="float: left;" ng-src="{{PREFIX_FILE_HOST + selectScene.cover}}">\n                <div class="main-scene-info">\n                    <div>\n                        <span>{{selectScene.name}}</span>\n                    </div>\n                    <div class="line"></div>\n                    <div class="clearfix main-scene-panel">\n                        <div class="main-scene-form">\n                            <span>场景网址：{{selectScene.link}}</span>\n                            <span>场景类型：{{sceneType}}</span>\n                            <span>修改时间：{{selectScene.updateTime | date:\'yyyy年MM月dd日\'}}</span>\n                        </div>\n                        <div class="main-scene-form">\n                            <span ng-show="selectScene.status == \'1\'" style="color:#08a1ef">\n                                场景状态：开放\n                            </span>\n                            <span ng-show="selectScene.status == \'2\'">场景状态：关闭</span>\n                            <span ng-show="selectScene.status == \'-1\'">场景状态：未通过审核</span>\n                            <span ng-show="selectScene.status == \'-2\'">场景状态：审核中</span>\n                            <span>网址类型：主网址</span>\n                            <span>创建时间：{{selectScene.createTime | date:\'yyyy年MM月dd日\'}}</span>\n                            <div class="fr" style="margin-top: -30px;">\n                                <a class="btn-main add-expand" ng-click="addExpandWeb(expandWebs)">添加扩展网址</a>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class="line"></div>\n            <div width="100%" class="expand-panel">\n                <ul auto-focus-selected>\n                    <li style="width: 470px;border: 1px solid #ccc;padding: 0" ng-repeat="expandWeb in expandWebs track by $index">\n                        <div style="padding: 20px;">\n                            <div class="qr-code" qr-code  qr-url="{{selectedUrl + (expandWeb.id ? (\'?qrc=\' + expandWeb.id) : \'\')}}">\n                            </div>\n                            <form class="expand-form">\n                                <div class="expand-list">\n                                    <label>场景名称</label>\n                                    <input class="expand-name" type="text" ng-model="expandWeb.name" ng-blur="updateName(expandWeb)"/>\n                                </div>\n                                <div class="expand-list">\n                                    <label style="float:left;margin-top:10px;">场景网址</label>\n                                    <input style="margin-left:10px;" type="text" ng-model="expandWeb.url" disable-edit/>\n                                    <!-- <div>{{selectedUrl + (expandWeb.id ? (\'?qrc=\' + expandWeb.id) : \'\')}}</div> -->\n                                </div>\n                                <div class="expand-list">\n                                    <label style="float:left;margin-top:10px;">展示次数</label>\n                                    <div>{{expandWeb.showCount}}</div>\n                                </div>\n                            </form>\n                        </div>\n                        <div style="height: 40px; background-color: #e6e6e6;font-size:12px;">\n                            <div class="download-canvas">\n                                <input type="radio" ng-model="expandWeb.downloadSize" value="small"><span class="hint--bottom hint--rounded" data-hint="宽256px,适合置入文档">小</span>\n                                <input type="radio" style="margin-left: 18px;" ng-model="expandWeb.downloadSize" value="middle"><span class="hint--bottom hint--rounded" data-hint="宽512px,适合插入PPT">中</span>\n                                <input type="radio" style="margin-left: 18px;" ng-model="expandWeb.downloadSize" value="big"><span class="hint--bottom hint--rounded" data-hint="宽1024px,适合海报印刷">大</span>\n                            </div>\n                            <div class="download1" ng-show="expandWeb.downloadSize == \'small\'">\n                                <div class="qr-size" qr-code-size="256" qr-url="{{selectedUrl}}"></div>\n                                <a download-canvas target="_blank" download><span>下载二维码</span>\n                                </a>\n                            </div>\n                            <div class="download1" ng-show="expandWeb.downloadSize == \'middle\'">\n                                <div class="qr-size" qr-code-size="512" qr-url="{{selectedUrl}}"></div>\n                                <a download-canvas target="_blank" download><span>下载二维码</span>\n                                </a>\n                            </div>\n                            <div class="download1" ng-show="expandWeb.downloadSize == \'big\'">\n                                <div class="qr-size" qr-code-size="1024" qr-url="{{selectedUrl}}"></div>\n                                <a download-canvas target="_blank" download><span>下载二维码</span>\n                                </a>\n                            </div>\n                            <a style="  display: inline-block;padding: 12px;" class="fr" ng-click="deleteWeb($index, expandWeb)">\n                                <span class="eqf-scene-delete"></span>\n                            </a>\n                        </div>\n                    </li>\n                </ul>\n            </div>\n        </div>\n        <!-- <div class="web-site" ng-if="selectedUrl">\n            <p class="medth">场景网址</p>\n            <div class="weixin_list_con">\n                <div class="weixin_address clearfix">\n                    <span class="" title="">{{selectedUrl}}</span>\n                    <a target="_blank" class="" ng-href="{{selectedUrl}}">点击预览</a>\n                </div>\n            </div>\n        </div> -->\n    </div>\n    <!-- <div class="weixin_list" ng-if="selectedUrl">\n        <div class="weixin_list_con">\n            <div class="weixin_erwei clearfix">\n                <span style="float:left;padding-right:20px;">\n                    <div qr-code qr-url="{{selectedUrl}}"></div>\n                </span>\n                <div class="download">\n                    <div>\n                        <div class="qr-size" qr-code-size="256" qr-url="{{selectedUrl}}"></div>\n                        <a download-canvas target="_blank" download style="margin-top:80px">下载二维码<br />\n                            <span>宽256px,适合置入文档</span>\n                        </a>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div> -->\n    <!-- <div class="kuozhan weixin_list" ng-if="selectedUrl">\n        <div class="add-web"><a ng-if="!branchid" ng-click="addWeb(expandWebs)"><b>+</b>增加扩展网址</a><p class="medth">扩展网址</p></div>\n        <div class="kuozhan-title" ng-if="expandWebs.length">\n            <span class="name">名称</span><span>二级网址</span>\n        </div>\n        <div ng-repeat = "web in expandWebs track by $index" class="kuozhan-list clearfix">\n            <div class="kuozhan-name">\n                <input type="text" value="" placeholder="名称{{$index+1}}" ng-model="web.name" ng-blur="updateName(web)" ng-focus="checkChange(web.name);" ng-disabled="branchid">\n            </div>\n            <div class="kuozhan-web">\n                <div>\n                    <span class="" title="">{{selectedUrl + \'?qrc=\' + web.id}}</span>\n                    <a target="_blank" class="" ng-href="{{selectedUrl}}">点击预览</a>\n                </div>\n                <div class="weixin_list_con">\n                    <div ng-if="!branchid" class="delete-web"><a ng-click="deleteWeb($index,web)">删除扩展网址</a></div>\n                    <div class="weixin_erwei weixin_address clearfix">\n                        <span>\n                            <div qr-code qr-url="{{selectedUrl + \'?qrc=\' + web.id}}">\n                            </div>\n                        </span>\n\n                    </div>\n                </div>                                 \n            </div>\n        </div>                                    \n    </div>  -->                                                 \n</div>')
    }
    ]),
    b.module("main/tab/sceneStatistics.tpl.html", []).run(["$templateCache", function(a) {
        a.put("main/tab/sceneStatistics.tpl.html", '<div class="data">\n    <table class = "col-sm-12 table table-bordered text-center data-table data-spread" >\n        <tr>\n            <th>场景</th>\n            <th>展示次数</th>\n            <th>收集数据</th>\n            <th>转化率</th>\n            <th>详情</th>\n        </tr>\n        <tr ng-class="{hovercolor: trIndex==$index}" ng-repeat="spreadData in spreadDatas" ng-mouseenter="addColor($index)" ng-mouseleave="removeColor()">\n            <td style="text-align:left;"><img ng-src="{{PREFIX_FILE_HOST +  spreadData.cover}}" width="80px" height="80px" ><p>{{spreadData.name}}</p><p>{{spreadData.link}}</p></td>\n            <td>{{spreadData.showCount}}</td>\n            <td>{{spreadData.dataCount}}</td>\n            <td>{{spreadData.showCount == 0 ? "0.00%":(spreadData.dataCount * 100/spreadData.showCount).toFixed(2) + "%"}}</td>\n            <td><span class="hint--right hint--rounded" data-hint="点击查看详情"><a class="eqf-date spread-detail " ng-click="viewDetail(spreadData)" ></a></span></td>\n        </tr>\n    </table>\n    <div id="main" ng-show="totalItems > 10">\n        <pagination style="float: left" first-text="首页" last-text="尾页" previous-text="上一页" next-text="下一页" max-size="10" items-per-page="10" total-items="totalItems" ng-model="page.currentPage" ng-change="pageChanged(page.currentPage)" boundary-links="true" rotate="true" num-pages="numPages"></pagination>\n        <div class="current_page">\n            <input type="text" ng-model="toPage" ng-keyup="$event.keyCode == 13 ? pageChanged(toPage) : null">\n            <a ng-click="pageChanged(toPage)" class="go">GO</a>\n            <span>当前: {{page.currentPage}} / {{numPages}} 页</span>\n        </div>\n    </div>\n</div>')
    }
    ]),
    b.module("main/tab/spreadMethod.tpl.html", []).run(["$templateCache", function(a) {
        a.put("main/tab/spreadMethod.tpl.html", '<div class="weixin_title ">\n    <ul class="clearfix">\n        <li ng-class="{hover: spreadclass == \'mobileSpread\'}" ng-click = "spreadclass = \'mobileSpread\'">移动端推广</li>\n        <!--<li ng-class="{hover: spreadclass == \'qq\'}" ng-click = "qqExpand();spreadclass = \'qq\'">QQ推广</li>-->\n        <li ng-class="{hover: spreadclass == \'qr-code\'}" ng-show="isAllowedToAccessExpandWebsite" ng-click = "spreadclass = \'qr-code\'">扩展网址</li>\n        <li ng-class="{hover: spreadclass == \'erweima\'}" ng-click = "spreadclass = \'erweima\'">二维码</li>\n    </ul>\n</div>\n<div ng-show = "spreadclass == \'mobileSpread\'">\n    <div class="tuiguang_mobile tuiguang_common" ng-click="selectThisIndex(-1, $event)"> <!--tuiguang_same-->\n        <ul class="tuiguang_line">\n            <li ng-click="selectThisIndex(0, $event)"><span class="eqf-wechat"></span><p>微信</p></li>\n            <li ng-click="selectThisIndex(1, $event)"><span class="eqf-qq"></span><p>QQ</p></li>\n            <li ng-click="selectThisIndex(2, $event)"><span class="eqf-weibo"></span><p>微博</p></li>\n            <li ng-click="selectThisIndex(3, $event)"><span class="eqf-qqzone"></span><p>QQ空间</p></li>\n            <div class="popover fade bottom in" role="tooltip" style="display: block;" ng-show="selectIndex == 0">\n                <div class="pointer" ng-class="{\'pointer-position-1\': selectIndex == 0}">\n                    <span class="p-pointer1">◆</span>\n                    <span class="p-pointer2">◆</span>\n                </div>\n                <div class="popover-content">\n                    1.打开手机微信.点击右上角“+”；<br>\n                    2.选择扫一扫，扫描场景二维码；<br>\n                    3.点击右上角分享图标，即可分享场景。<br>\n                </div>\n            </div>\n            <div class="popover fade bottom in" role="tooltip" style="display: block;" ng-show="selectIndex == 1">\n                <div class="pointer" ng-class="{\'pointer-position-2\': selectIndex == 1}">\n                    <span class="p-pointer1">◆</span>\n                    <span class="p-pointer2">◆</span>\n                </div>\n                <div class="popover-content">\n                    1.打开手机QQ；<br>\n                    2.点击右上角的图标，选择扫一扫，扫描场景二维码；<br>\n                    3.点击右上角分享图标，即可分享场景。<br>\n                </div>\n            </div>\n            <div class="popover fade bottom in" role="tooltip" style="display: block;" ng-show="selectIndex == 2">\n                <div class="pointer" ng-class="{\'pointer-position-3\': selectIndex == 2}">\n                    <span class="p-pointer1">◆</span>\n                    <span class="p-pointer2">◆</span>\n                </div>\n                <div class="popover-content">\n                    1.打开手机新浪微博；<br>\n                    2.点击右上角扫一扫，扫描场景二维码；<br>\n                    3.点击右上角分享图标，即可分享场景。<br>\n                </div>\n            </div>\n            <div class="popover fade bottom in" role="tooltip" style="display: block;" ng-show="selectIndex == 3">\n                <div class="pointer" ng-class="{\'pointer-position-4\': selectIndex == 3}" >\n                    <span class="p-pointer1">◆</span>\n                    <span class="p-pointer2">◆</span>\n                </div>\n                <div class="popover-content">\n                    1.打开手机QQ空间，点击底部“+”；<br>\n                    2.选择二维码，扫描场景二维码；<br>\n                    3.点击右上角分享图标，即可分享场景。<br>\n                </div>\n            </div>\n        </ul>\n\n\n        <ul class="tuiguang_line">\n            <li ng-click="selectThisIndex(4, $event)"><span class="eqf-uc"></span><p>UC浏览器</p></li>\n            <li ng-click="selectThisIndex(5, $event)"><span class="eqf-qqliulanqi"></span><p>QQ浏览器</p></li>\n            <li ng-click="selectThisIndex(6, $event)"><span class="eqf-yixin"></span><p>易信</p></li>\n            <li ng-click="selectThisIndex(7, $event)"><span class="eqf-tieba"></span><p>贴吧</p></li>\n            <div class="popover fade bottom in" role="tooltip" style="display: block;" ng-show="selectIndex == 4">\n                <div class="pointer" ng-class="{\'pointer-position-1\': selectIndex == 4}">\n                    <span class="p-pointer1">◆</span>\n                    <span class="p-pointer2">◆</span>\n                </div>\n                <div class="popover-content">\n                    1.打开手机uc浏览器，点击右上角图标，扫描场景二维码；<br>\n                    2.点击底部图标“ ”；<br>\n                    3.再次点击右下角分享，即可分享场景。<br>\n                </div>\n            </div>\n            <div class="popover fade bottom in" role="tooltip" style="display: block;" ng-show="selectIndex == 5">\n                <div class="pointer" ng-class="{\'pointer-position-2\': selectIndex == 5}">\n                    <span class="p-pointer1">◆</span>\n                    <span class="p-pointer2">◆</span>\n                </div>\n                <div class="popover-content">\n                    1.点击手机QQ浏览器，点击扫一扫图标，扫描场景二维码；<br>\n                    2.点击底部图标“ ”；<br>\n                    3.点击弹出面板中的分享，即可分享场景。<br>\n                </div>\n            </div>\n            <div class="popover fade bottom in" role="tooltip" style="display: block;" ng-show="selectIndex == 6">\n                <div class="pointer" ng-class="{\'pointer-position-3\': selectIndex == 6}">\n                    <span class="p-pointer1">◆</span>\n                    <span class="p-pointer2">◆</span>\n                </div>\n                <div class="popover-content">\n                    1.点击手机易信；<br>\n                    2.点击右上角图标“+”，扫描场景二维码；<br>\n                    3.点击右上角分享图标“：”，即可分享场景。<br>\n                </div>\n            </div>\n            <div class="popover fade bottom in" role="tooltip" style="display: block;" ng-show="selectIndex == 7">\n                <div class="pointer" ng-class="{\'pointer-position-4\': selectIndex == 7}" >\n                    <span class="p-pointer1">◆</span>\n                    <span class="p-pointer2">◆</span>\n                </div>\n                <div class="popover-content">\n                    1.打开手机贴吧；<br>\n                    2.进吧，点击右上角编辑，“进入发表主题”；<br>\n                    3.点击添加图片，拍摄场景二维码，点击“发帖”，即可完成。<br>\n                </div>\n            </div>\n        </ul>\n        <ul class="tuiguang_line">\n            <li ng-click="selectThisIndex(8, $event)"><span class="eqf-laiwang"></span><p>来往</p></li>\n            <div class="popover fade bottom in" role="tooltip" style="display: block;" ng-show="selectIndex == 8">\n                <div class="pointer" ng-class="{\'pointer-position-1\': selectIndex == 8}">\n                    <span class="p-pointer1">◆</span>\n                    <span class="p-pointer2">◆</span>\n                </div>\n                <div class="popover-content">\n                    1.打开手机来往，点击左上角“+”；<br>\n                    2.选择扫一扫，扫描场景二维码；<br>\n                    3.打开场景，点击右上角分享图标“...”，即可分享场景。<br>\n                </div>\n            </div>\n        </ul>\n    </div>\n</div>\n<div ng-show = "spreadclass == \'qq\'">\n    <div class="tuiguang_one tuiguang_same">\n        <h1><span>1. 登录手机QQ扫描二维码</span></h1>\n        <div class="weixin_friend" style="margin-bottom:40px">\n            <ul class="clearfix">\n                <li><img ng-src="{{CLIENT_CDN}}assets/images/help.png" alt="" /></li>\n                <li><img ng-src="{{CLIENT_CDN}}assets/images/main/qq_03.jpg" alt="" /></li>\n                <li><img ng-src="{{CLIENT_CDN}}assets/images/main/qq_05.jpg" alt="" /></li>\n            </ul>\n        </div>\n        <div class="weixin_step">\n            <ul class="clearfix">\n                <li><img ng-src="{{CLIENT_CDN}}assets/images/main/qq_10.jpg" alt="" /></li>\n                <li><img ng-src="{{CLIENT_CDN}}assets/images/main/qq_11.jpg" alt="" /></li>\n                <li><img ng-src="{{CLIENT_CDN}}assets/images/main/qq_12.jpg" alt="" /></li>\n            </ul>\n        </div>\n    </div>\n    <div class="tuiguang_two tuiguang_same">\n        <h1><span>2.复制场景网址或二维码到QQ</span></h1>\n        <div class="weixin_list">\n            <p class="medth">方法一</p>\n            <div class="weixin_list_con">\n                <p>复制场景网址， 到QQ群组或空间推广场景网址</p>\n            </div>\n        </div>\n        <div class="weixin_list">\n            <p class="medth">方法二</p>\n            <div class="weixin_list_con">\n                <p>复制场景二维码， 到QQ群组或空间推广场景二维码</p>\n            </div>\n        </div>\n    </div>\n</div>\n<!--扩展网址--> \n<div ng-show = "spreadclass == \'qr-code\'" ng-include="\'main/tab/qrcode.tpl.html\'">\n</div>\n<!-- 二维码 -->\n<div ng-show = "spreadclass == \'erweima\'" ng-include="\'main/tab/ercode.tpl.html\'"></div>\n');
    }
    ]),
    b.module("main/userGuide.tpl.html", []).run(["$templateCache", function(a) {
        a.put("main/userGuide.tpl.html", '<div style="position: fixed; left: 0; top: 0; bottom: 0; right: 0; background: rgba(0,0,0,0.8); z-index: 10000;" ng-show="firstLogin" ng-click="firstLogin = false;" ng-controller="userGuideCtrl">\n    <div style="width: 1000px; margin: 0 auto;">\n        <img style="margin: 109px 66px 0 30px; float: right;" ng-src="{{CLIENT_CDN}}assets/images/chuangjian.png">\n        <img style="margin: 140px 0 0 0; float: right;" ng-src="{{CLIENT_CDN}}assets/images/guide_main.png">\n    </div>\n</div>')
    }
    ]),
    b.module("my/myscene.tpl.html", []).run(["$templateCache", function(a) {
        a.put("my/myscene.tpl.html", '<div class="myscene contain-bg">\n    <div class="main clearfix">\n        <div class="content">\n            <div class="fl">\n                <iframe style="border: 0; width: 322px; height: 641px;" ng-src="{{customUrl}}"></iframe>\n            </div>  \n            <div class="rcont" data-ng-init = "init()">\n                 <div class="bom" style="background-color:#FFF;">\n                                      <div class="share_content">\n                        <p class="second-title"><em>1</em>点击图标，手机扫一扫，分享给更多人</p>\n                        <div class="clearfix icon-contain">\n                            <div class="scene-img" qr-code qr-url="{{canvasUrl}}"></div>\n                            <ul class="share-icon clearfix">\n                                <li class="qq">\n                                    <span class="eqf-qq"></span>\n                                    <div class="sao-qrcode">\n                                        <div class="icon-down">\n                                            <div class="erweima" qr-code qr-url="{{canvasUrl}}"></div>\n                                            <div>\n                                                <h2>使用QQ分享</h2>\n                                                <p><span>1</span>打开QQ软件,点击右上角</p>\n                                                <p><span>2</span>选择扫一扫，扫描场景二维码</p>\n                                                <p><span>3</span>点击右上角分享图标，即可分享场景</p>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </li>\n                                <li class="wechat">\n                                    <span class="eqf-wechat"></span>\n                                    <div class="sao-qrcode" >\n                                        <div class="icon-down">\n                                            <div class="erweima" qr-code qr-url="{{canvasUrl}}"></div>\n                                            <div>\n                                                <h2>使用微信分享</h2>\n                                                <p><span>1</span>打开手机微信，点击右上角“+”</p>\n                                                <p><span>2</span>选择扫一扫，扫描场景二维码</p>\n                                                <p><span>3</span>点击右上角分享图标，即可分享场景</p>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </li>\n                                <li class="weibo">\n                                    <span class="eqf-weibo"></span>\n                                    <div class="sao-qrcode" >\n                                        <div class="icon-down">\n                                            <div class="erweima" qr-code qr-url="{{canvasUrl}}"></div>\n                                            <div>\n                                                <h2>使用新浪微博分享</h2>\n                                                <p><span>1</span>打开手机新浪微博,点击右上角</p>\n                                                <p><span>2</span>选择扫一扫，扫描场景二维码</p>\n                                                <p><span>3</span>点击右上角分享图标，即可分享场景</p>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </li>\n                                <li class="qqzone">\n                                    <span class="eqf-qqzone"></span>\n                                    <div class="sao-qrcode" >\n                                        <div class="icon-down">\n                                            <div class="erweima" qr-code qr-url="{{canvasUrl}}"></div>\n                                            <div>\n                                                <h2>使用QQ空间分享</h2>\n                                                <p><span>1</span>打开QQ空间，点击底部“+”</p>\n                                                <p><span>2</span>选择二维码，扫描场景二维码</p>\n                                                <p><span>3</span>点击右上角分享图标，即可分享场景</p>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </li>\n                                <li class="uc">\n                                    <span class="eqf-uc"></span>\n                                    <div class="sao-qrcode" >\n                                        <div class="icon-down">\n                                            <div class="erweima" qr-code qr-url="{{canvasUrl}}"></div>\n                                            <div>\n                                                <h2>使用UC浏览器分享</h2>\n                                                <p><span>1</span>打开手机uc浏览器,点击右上角</p>\n                                                <p><span>2</span>点击底部图标</p>\n                                                <p><span>3</span>再此点击右下角分享，即可分享场景</p>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </li>\n                                <li class="liulanqi">\n                                    <span class="eqf-qqliulanqi"></span>\n                                    <div class="sao-qrcode" >\n                                        <div class="icon-down">\n                                            <div class="erweima" qr-code qr-url="{{canvasUrl}}"></div>\n                                            <div>\n                                                <h2>使用QQ浏览器分享</h2>\n                                                <p><span>1</span>打开手机QQ浏览器</p>\n                                                <p><span>2</span>点击扫一扫,点击底部图标</p>\n                                                <p><span>3</span>点击弹出面板中的分享，即可分享场景</p>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </li>\n                                <li class="yixin">\n                                    <span class="eqf-yixin"></span>\n                                    <div class="sao-qrcode" >\n                                        <div class="icon-down">\n                                            <div class="erweima" qr-code qr-url="{{canvasUrl}}"></div>\n                                            <div>\n                                                <h2>使用易信分享</h2>\n                                                <p><span>1</span>打开手机易信</p>\n                                                <p><span>2</span>点击右上角图标“+”，扫描场景</p>\n                                                <p><span>3</span>点击右上角分享图标“：”即可分享场景</p>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </li>\n                                <li class="tieba">\n                                    <span class="eqf-tieba"></span>\n                                    <div class="sao-qrcode" >\n                                        <div class="icon-down">\n                                            <div class="erweima" qr-code qr-url="{{canvasUrl}}"></div>\n                                            <div>\n                                                <h2>使用贴吧分享</h2>\n                                                <p><span>1</span>打开贴吧软件,点击右上角编辑</p>\n                                                <p><span>2</span>“进入发表主题”</p>\n                                                <p><span>3</span>点击添加图片,拍摄场景二维码</p>\n                                                <p><span>4</span>点击”发帖“，即可完成</p>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </li>\n                                <li class="laiwang">\n                                    <span class="eqf-laiwang"></span>\n                                    <div class="sao-qrcode" >\n                                        <div class="icon-down">\n                                            <div class="erweima" qr-code qr-url="{{canvasUrl}}"></div>\n                                            <div>\n                                                <h2>使用来往分享</h2>\n                                                <p><span>1</span>打开来往软件</p>\n                                                <p><span>2</span>点击右上角+，选择扫一扫</p>\n                                                <p><span>3</span>点击右上角分享图标“…”，</p>\n                                                <p><span>4</span>即可分享场景</p>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </li>                                \n                            </ul>\n                        </div>\n                                <div class="edit-scene">\n                            <a ng-if="!branchid" href="#/scene/create/{{sceneId}}?pageId=1" class="btn-main hint--bottom hint--rounded" data-hint="编辑场景">编辑场景</a>\n                        </div>\n                    </div>\n                </div>                \n            </div> \n            </div> \n\n    </div>\n</div>\n<div class="my-data clearfix" id="myData" ng-if="totalItems">\n    <ul class="data-head">\n        <li class="active">收集数据</li>\n    </ul>\n    <div class="data-item">\n        <div style="float:left;">数据项：</div>\n        <ul class="clearfix">\n            <li ng-repeat="header in dataHeaders track by $index">\n                <div class="icheckbox_square-blue table-checkbox" ng-class="{checked: header.selected, hover: !header.selected && header.hovered == true}">\n                    <input class="check-box" type="checkbox" ng-mouseenter="header.hovered = true;" ng-mouseleave="header.hovered = false;" ng-model="header.selected" name="iCheck" ng-change="selectHeader(header,$index,header.selected)">\n                </div>\n                <label>{{header.title}}</label>\n            </li>\n        </ul>\n    </div>\n    <div ng-show="dataContain">\n        <div class="clearfix export" id="collectData">\n            <span class="data_title" ng-click="dataDelete()">删除</span>\n            <div ng-show="!showUp" class="no-header">\n                <a class="btn-main data-btn hint--left hint--rounded" ng-click="dataOutNoHeader()" data-hint="有修改表单的使用此方式，导出没有名称的数据">\n                    <span class="export_excel eqf-download"></span>\n                </a>\n            </div>\n            <div ng-show="showUp" class="btn-group no-header">\n                <a class="btn-main data-btn dropdown-toggle hint--left hint--rounded" data-toggle="dropdown" data-hint="有修改表单的使用此方式，导出没有名称的数据">\n                    <span class="export_excel eqf-download"></span>\n                </a>\n                <div class="data-page dropdown-menu">\n                    <ul>\n                        <li ng-repeat = "dataPageNum in dataPageNums" ng-click="dataOutNoHeaderPage(dataPageNum.start,dataPageNum.end)">{{dataPageNum.start}}-{{dataPageNum.end}}页</li>\n                    </ul>\n                </div>\n            </div>\n            <div ng-show="!showUp" style="float:right;">\n                <a class="btn-main data-btn" ng-click="dataOutDirect()" >\n                    <span class="export_excel">导出excel</span>\n                </a>\n            </div>\n            <div ng-show="showUp" class="btn-group" style="float:right;">\n                <a class="btn-main data-btn dropdown-toggle" data-toggle="dropdown">\n                    <span class="export_excel">导出excel</span>\n                    <span class="eqf-down2"></span>\n                </a>\n                <div class="data-page dropdown-menu">\n                    <ul>\n                        <li ng-repeat = "dataPageNum in dataPageNums" ng-click="dataOutPage(dataPageNum.start,dataPageNum.end)">{{dataPageNum.start}}-{{dataPageNum.end}}页</li>\n                    </ul>\n                </div>\n            </div>        \n        </div>      \n        <div class="data" style="margin-bottom:20px;">\n            <div class="table-list">\n                <table class="header_table">\n                    <tr>\n                        <td style="width:80px;">\n                            <div class="icheckbox_square-blue table-checkbox"  ng-class="{checked: allSelect.selected, hover: !allSelect.selected && allhovered == true}">\n                                <input class="check-box" type="checkbox" ng-mouseenter="allhovered = true;" ng-mouseleave="allhovered = false;" ng-change="selectAll()" ng-model="allSelect.selected" name="iCheck">\n                            </div>\n                        </td>\n                        <td class="data_header" ng-style="{width: tdW}" ng-repeat="header in dataShow track by $index">{{header.title}}</td>\n                    </tr>\n                    <tr ng-repeat="data in dataShowList">\n                        <td>\n                            <div class="icheckbox_square-blue table-checkbox" ng-class="{checked: data.selected, hover: !data.selected && data.hovered == true}">\n                                <input class="check-box" type="checkbox" ng-mouseenter="data.hovered = true;" ng-mouseleave="data.hovered = false;" ng-model="data.selected" name="iCheck" ng-change="selectData(data)">\n                            </div>\n                        </td>\n                        <td title="{{item}}" ng-repeat="item in data track by $index">{{item}}</td>\n                    </tr>\n                </table>\n            </div>\n            <div ng-show="totalItems > 10">\n                <pagination style="float: left;" first-text="首页" last-text="尾页" previous-text="上一页" next-text="下一页" max-size="10" items-per-page="10" total-items="totalItems" ng-model="page.currentPage" ng-change="pageChanged(page.currentPage)" boundary-links="true" rotate="true" num-pages="numPages"></pagination>\n                <div class="current_page">\n                    <input type="text" ng-model="toPage" ng-keyup="$event.keyCode == 13 ? pageChanged(toPage) : null">\n                    <a ng-click="pageChanged(toPage)" class="go">GO</a>\n                    <span>当前: {{page.currentPage}} / {{numPages}} 页</span>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>    \n<script type="text/javascript">\n</script>\n')
    }
    ]),
    b.module("my/sceneSetting.tpl.html", []).run(["$templateCache", function(a) {
        a.put("my/sceneSetting.tpl.html", '<div class="myscene scene-setting min-contain">\n	<div class="header">\n		<div class="operations">\n			<div class="eqx-logo"><a href="#/main"><img ng-src="{{logoSrc}}" /></a></div>\n			<div class="operation">\n				<ul>\n					<li class="edit" ng-click="editScene()"><span class="edit-scene">编辑场景</span></li>\n					<li class="save" ng-click="saveSceneSettings(scene)"><span class="save-setting">保存设置</span></li>\n				</ul>\n			</div>\n		</div>\n	</div>\n	<div class="main clearfix">\n	    <div class="content">\n			<div class="rcont">\n			  <div class="top" style = "height: auto;">\n			        <div class = "setting-panel">\n			            <div class="alert alert-warning" role="alert" ng-if = "invalidText">\n			                {{invalidText}}\n			            </div>\n			            <form class="form-horizontal" role="form" name = "myForm" novalidate>\n				            <div class="form_img_input clearfix">\n						        <div class="title">\n						            <h1 title="场景基本信息设置">基本设置</h1>\n						        </div>\n				                <div class="form-group form_upload col-sm-2">\n				                    <div class = "cover-panel" style = "margin-left: 20px;">\n				                        <div class = "cover-list" >\n				                          <nobr>\n				                            <ul>\n				                                <li class="cover-img" style = "" title="更换此场景封面"><a ng-click = "openImageModal()" style="display:block;"><img style = "width:190px; height:190px;" ng-src="{{PREFIX_FILE_HOST +  scene.cover}}" /><em>更换场景封面</em></a></li>\n				                            </ul>\n				                          </nobr>\n				                    	</div>\n				                    </div>\n				                </div>\n				            	<div class="form_input_groups col-sm-8">\n					                <div class="form-group control-group">\n					                    <label for="name" class="col-sm-3 control-label">场景名称</label>\n					                    <div class="col-sm-9">\n					                        <input name = "name" type="text" class="form-control name" id="name" placeholder="场景名称" ng-model = "scene.name">\n					                    </div>\n					                </div>\n					                <div class="form-group">\n					                    <label for="type" class="col-sm-3 control-label">场景类型</label>\n					                    <div class="col-sm-9">\n					                        <select ng-model="scene.type" ng-options="scenetype.value as scenetype.name for scenetype in types" id = "type" class = "form-control"></select>\n					                    </div>\n					                </div>\n									<div class="form-group">\n										<label for="page_mode" class="col-sm-3 control-label">翻页方式</label>\n										<div class="col-sm-3">\n											<select ng-model="scene.pageMode" ng-options="pagemode.id as pagemode.name for pagemode in pagemodes" id = "page_mode" class = "form-control"></select>\n										</div>\n										<div class="col-sm-3" style="padding-left: 0;padding-top: 5px">\n											<input style="margin: 0;" type="checkbox" ng-init="scene.property.triggerLoop=true;" ng-model="scene.property.triggerLoop"/> 循环\n											<input style="margin: 0;" type="checkbox" ng-model="scene.property.autoFlip" /> <span>自动翻页</span>\n										</div>\n										<div class="col-sm-3" ng-show="scene.property.autoFlip">\n											<select ng-model="scene.property.autoFlipTime" ng-options="autoFlipTime.id as autoFlipTime.name for autoFlipTime in autoFlipTimes" id = "page_mode" class = "form-control" style="padding:6px 10px;">\n												<option value="">选择翻页频率</option>\n											</select>\n										</div>\n									</div>\n					                <div class="form-group">\n					                    <label for="description" class="col-sm-3 control-label">场景描述</label>\n					                    <div class="col-sm-9">\n					                        <textarea ng-model = "scene.description" class="form-control" rows="2" id = "description" name = "description" ng-change="maxLength30()" placeholder="你可以写下30个汉字或60个英文字符的场景描述哦！"></textarea>\n					                    </div>\n					                </div>\n					            </div>\n					        </div>\n							<!--<div ng-if="isLoadingLogoAccessible" class="loading-logo">-->\n							<div ng-if="false" class="loading-logo"><!-- LOGO加载先不上 -->\n								<div class="title">\n									<h1 class="title">加载设置</h1>\n								</div>\n								<div class="logo-option">\n									<span class="upload-logo" ng-click="uploadLoadingLogo()">\n                                        <span ng-if="!scene.loadingLogo"><i class="fa fa-plus"></i></span>\n                                        <img ng-if="scene.loadingLogo" ng-src="{{PREFIX_FILE_HOST + scene.loadingLogo}}" style="width: 100%;height: 100%;"/>\n                                        <span class="setting-logo-tip">设置logo</span>\n                                    </span>\n                                    <div class="logo-tip">\n                                        <span class="logo-title">设置加载logo</span>\n                                        <p class="logo-description">\n                                            请上传128*128px，大小30k以内的gif、png、jpeg图片<br/>\n                                            该功能消耗<strong style="color: red;">500</strong>秀点，一次消耗，可多次更换，复制后场景，需重新消耗秀点\n                                        </p>\n                                    </div>\n								</div>\n							</div>\n				<div class="eq-show">\n								<div class="title">\n									<h1 class="title">友情展示</h1>\n								</div>\n								<!-- 免费更换尾页 -->\n								<section class="eq-free">\n									<div class="select-option" ng-class="{\'selected\': eqShowType == \'eqFree\'}">\n										<input id="eqFree" style="display: none;" class="option" type="radio" ng-model="eqShowType" value="eqFree" ng-click="switchToAdState(eqADTypeChoice.FREEPAGE)">\n										<label for="eqFree" class="option-name">' + your_webname + '尾页</label>\n									</div>\n									<div class="scene-last-cover" ng-show="eqShowType == \'eqFree\'">\n										<nobr>\n											<ul>\n												<li class="last-cover-img" ng-click="chooseLastPage(null)">\n													<span class="lp-list default-last-page" ng-class="{checked: !scene.property.lastPageId}">默认</span>\n												</li>\n												<li class="last-cover-img" ng-repeat="pageTpl in pageTpls" ng-click="chooseLastPage(pageTpl.id)">\n													<img ng-class="{checked: scene.property.lastPageId == pageTpl.id}" class="lp-list"\n														 ng-src="{{PREFIX_FILE_HOST + pageTpl.properties.thumbSrc}}"/>\n												</li>\n											</ul>\n										</nobr>\n									</div>\n								</section>\n								<!-- 友情链接：底标 -->\n								<section class="eq-link">\n									<div class="select-option" ng-class="{\'selected\': eqShowType == \'eqLink\'}">\n										<input id="eqLink" style="display: none;" class="option" type="radio" ng-model="eqShowType" value="eqLink" ng-click="switchToAdState(eqADTypeChoice.DEFAULT_BOTTOM)">\n										<label for="eqLink" class="option-name">' + your_webname + '底标\n											<span class="option-tips"><span class="price">消耗' + guding_qi_xd + '或' + custome_qi_xd + '个金币</span>&nbsp;|&nbsp;<span class="mine">当前秀点余额<span class="price">{{(userXd | fixnum) || 0}}</span>个</span>&nbsp;<span class="get-xd"><a href="?c=pay" target = "_blank">获取秀点</a></span></span>\n										</label>\n									</div>\n									<div class="bottom-label-link" ng-show="eqShowType == \'eqLink\'">\n                                        <div class="bottom-label-info clearfix">\n											<input id="defaultBottomLabel" class="option" ng-model="scene.property.eqAdType" type="radio" value="2" ng-value="2" ng-click="switchToAdState(eqADTypeChoice.DEFAULT_BOTTOM)"/>\n                                            <label for="defaultBottomLabel" class="option-name">\n												<span class="default-bottom-label">雷锋站长技术支持</span>\n												<span class="option-tips"><span class="price">消耗15个秀点</span></span>\n                                            </label>\n                                        </div>\n										<div class="bottom-label-info clearfix">\n											<input id="customBottomLabel" type="radio" class="option" ng-model="scene.property.eqAdType" value="3" ng-value="3" ng-click="switchToAdState(eqADTypeChoice.CUSTOM_BOTTOM)"/>\n											<label for="customBottomLabel" class="option-name">\n												<span class="option-tips">自定义 <span class="price">消耗30个秀点</span></span>\n											</label>\n											<div class="custom-label-info">\n												<label for="changeMessage" class="col-sm-2 control-label">名称</label>\n												<div class="col-sm-3">\n													<input type="text" ng-model="scene.property.bottomLabel.name" id="changeMessage" placeholder="请填写名称" ng-disabled="scene.property.eqAdType != 3"/>\n												</div>\n												<label for="linkAddress" class="col-sm-2 control-label">链接地址</label>\n												<div class="col-sm-4">\n													<input type="text" ng-model="scene.property.bottomLabel.url" id="linkAddress" placeholder="名称链接地址" ng-disabled="scene.property.eqAdType != 3"/>\n												</div>\n												<section style="margin-left: 15px;">\n													<div class="form-group">\n														<div class = "cover-panel" style = "margin-left: 20px;">\n															<div class = "cover-list col-sm-11 bottom-list">\n																<nobr>\n																	<ul>\n																		<li ng-repeat="bottomPageTpl in bottomPageTpls" ng-click="chooseCustomBottomLabel(bottomPageTpl.id)">\n																			<a><img ng-class="{checked: scene.property.eqAdType == 3 && scene.property.bottomLabel.id == bottomPageTpl.id}"\n																					ng-src="{{PREFIX_FILE_HOST + bottomPageTpl.properties.thumbSrc}}"/></a>\n																		</li>\n																	</ul>\n																</nobr>\n															</div>\n														</div>\n													</div>\n												</section>\n											</div>\n										</div>\n									</div>\n								</section>\n								<!-- 取消展示：全部隐藏？ -->\n								<section class="eq-hide">\n									<div class="select-option" ng-class="{\'selected\': eqShowType == \'eqHide\'}">\n										<input id="eqHide" style="display: none;" class="option" type="radio" ng-model="eqShowType" value="eqHide" ng-click="switchToAdState(eqADTypeChoice.HIDE)">\n										<label for="eqHide" class="option-name">去掉' + your_webname + '展示\n											<span class="option-tips"><span class="price">消耗100个秀点</span>&nbsp;|&nbsp;<span class="mine">当前秀点余额<span class="price">{{(userXd | fixnum) || 0}}</span>个</span>&nbsp;<span class="get-xd"><a href="?c=pay" target = "_blank">获取秀点</a></span></span>\n										</label>\n									</div>\n								</section>\n							</div>\n							<div class="share-scene">\n								<div class="title">\n									<h1 class="title">场景共享</h1>\n								</div>\n								<div class="select-option">\n									<input type="checkbox" class="option" checked disabled ng-if="scene.applyPromotion == 2"/>\n									<input id="eqSample" type="checkbox" class="option" ng-true-value="1" ng-false-value="0"\n										   ng-model="scene.applyPromotion" ng-if="scene.applyPromotion != 2" ng-disabled="scene.accessCode">\n									<label for="eqSample" class="option-name">申请雷锋站长推荐\n										<span class="samp-tip"><span class="eqf-exclaquestion-sign" tooltip-html-unsafe="场景达到1000次展示，将有机会被推进到“案例中心”" tooltip-placement="right" tooltip-append-to-body="true"></span></span>\n										<span class="option-tips" ng-switch="scene.applyPromotion">\n											<span class="not-yet" ng-switch-default>未申请<a style="padding-left:10px;" href="http://www.48ym.com/forum.php?mod=viewthread&tid=8492" target="_blank">申请技巧</a></span>\n											<span class="in-progress" ng-switch-when="1">申请中</span>\n											<span class="you-passed" ng-switch-when="2">审核通过</span>\n											<span class="not-passed" ng-switch-when="-1">审核未通过</span>\n										</span>\n									</label>\n								</div>\n								<div class="select-option">\n									<input type="checkbox" class="option" checked disabled ng-if="scene.applyTemplate == 2"/>\n									<input id="eqTemplate" type="checkbox" class="option" ng-true-value="1" ng-false-value="0"\n										   ng-model="scene.applyTemplate" ng-if="scene.applyTemplate != 2" ng-disabled="scene.accessCode || !scene.publishTime">\n									<label for="eqTemplate" class="option-name">申请为样例模版\n										<span class="samp-tip"><span class="eqf-exclaquestion-sign" tooltip="申请成功后送100秀点，并作为样例允许公开展示和使用，发布之后才能申请。" tooltip-placement="right" tooltip-append-to-body="true"></span></span>\n										<span class="option-tips" ng-switch="scene.applyTemplate">\n											<span class="not-yet" ng-switch-default>未申请<a style="padding-left:10px;" href="http://www.48ym.com/forum.php?mod=viewthread&tid=8491" target="_blank">申请技巧</a></span>\n											<span class="in-progress" ng-switch-when="1">申请中</span>\n											<span class="you-passed" ng-switch-when="2">审核通过</span>\n											<span class="not-passed" ng-switch-when="-1">审核未通过</span>\n										</span>\n									</label>\n								</div>\n                                <div class="select-option" ng-if="isTemplatePaymentAccessible && scene.applyTemplate != 0 && scene.price != -1">\n                                    <label for="tplPrice" class="option-name" style="margin-left: 20px;">使用秀点\n                                        <select ng-model="scene.price" id="tplPrice" ng-options="price.value as price.name for price in tplPrices" style="width: 100px;"></select>\n										<span class="samp-tip"><span class="eqf-exclaquestion-sign" tooltip="作为样例被使用时需支付，样例设计者获得90%的秀点" tooltip-placement="right" tooltip-append-to-body="true"></span></span>\n                                    </label>\n                                </div>\n                                <div class="select-option eq-activity" ng-if="activities.length">\n                                    <input id="joinInActivity" type="checkbox" class="option" ng-checked="scene.promIds" style="visibility: hidden;">\n                                    <label for="joinInActivity" class="option-name">参加活动\n										<span class="samp-tip"><span class="eqf-exclaquestion-sign" tooltip="参加活动" tooltip-placement="right" tooltip-append-to-body="true"></span></span>\n                                        <!-- <span class="option-tips"><a ng-click="moreActivities()">更多活动</a></span> -->\n                                    </label>\n                                    <div class="activities">\n                                        <span class="activity" ng-repeat="activity in activities" ng-init="isApplied = isActivityApplied(activity)"\n                                              ng-class="{\'selected\': isApplied}" ng-click="isApplied = !isApplied;changeThisActivity(activity, isApplied);">{{activity.title}}</span>\n                                    </div>\n                                </div>\n								<div class="select-option" ng-show="userProperty.type ==2 && scene.status != -1 && scene.status != -2">\n									<input id="eqEnterpriseTemplate" type="checkbox" class="option" ng-true-value="3" ng-false-value="0" ng-model="scene.isTpl">\n									<label for="eqEnterpriseTemplate" class="option-name">设置为企业样例\n										<span class="samp-tip"><span class="eqf-exclaquestion-sign" tooltip="成为企业样例后，子账号可免费使用" tooltip-placement="right" tooltip-append-to-body="true"></span></span>\n									</label>\n								</div>\n								<!--<div class="select-option" ng-if="isScenePasswordAccessible">-->\n								<div class="select-option" ng-if="false"><!-- 密码设置这期不上 -->\n									<input id="accessPassword" type="checkbox" class="option" ng-checked="scene.accessCode" style="visibility: hidden;">\n									<label for="accessPassword" class="option-name">设置场景密码\n										<input name="accessCode" type="text" class="password" id="accessCode" placeholder="请设置4位数字的密码" ng-model="scene.accessCode" maxlength="4" ng-change="fourNumberPassword()"\n											   ng-disabled="scene.applyPromotion == \'1\' || oldSceneApplyState.applyPromotion == \'1\' || oldSceneApplyState.applyPromotion == \'2\' || scene.applyTemplate == \'1\' || oldSceneApplyState.applyTemplate == \'1\' || oldSceneApplyState.applyTemplate == \'2\'">\n										<span class="samp-tip"><span class="eqf-exclaquestion-sign" tooltip="请设置4位数字的密码" tooltip-placement="right" tooltip-append-to-body="true"></span></span>\n									</label>\n								</div>\n								<div class = "changjing_caozuo" style="text-align: left;">\n									<a href="#/scene/create/{{sceneId}}?pageId=1" class="btn-secondary" style="margin-right:10px; display: none;">编辑场景</a>\n									<a ng-click = "saveSceneSettings(scene)" style="margin-left: 30px;" class="btn-save">保存设置</a>\n								</div>\n							</div>\n			            </form>\n			        </div>\n			    </div>\n			</div>\n		</div>\n	</div>\n</div>\n<div ng-include="\'footer.tpl.html\'"></div>');
    }
    ]),
    b.module("my/upload.tpl.html", []).run(["$templateCache", function(a) {
        a.put("my/upload.tpl.html", '<div nv-file-drop="" uploader="uploader">\n\n        <div class="container">\n\n            <div class="row">\n\n                <div class="col-md-3">\n                    <div ng-show="uploader.isHTML5">\n                        <!-- 3. nv-file-over uploader="link" over-class="className" -->\n                        <div ng-show="category.fileType != \'2\'" class="well my-drop-zone" nv-file-over="" uploader="uploader">\n                            拖拽图片到此区域\n                        </div>\n                        <div ng-show="category.fileType == \'2\'" class="well my-drop-zone" nv-file-over="" uploader="uploader">\n                            拖拽音乐到此区域\n                        </div>\n                    </div>\n\n                    <!-- Example: nv-file-select="" uploader="{Object}" options="{Object}" filters="{String}" -->\n                    \n                    <div id="upload_btn" class="btn-main">\n                        <span ng-show="category.fileType == \'0\' || category.fileType == \'1\'">选择图片</span>\n                        <span ng-show="category.fileType == \'2\' || category.fileType == \'4\'">选择音乐</span>\n                        <input type="file" id="uploadBtn" ng-click = "removeQueue()" nv-file-select="" uploader="uploader" multiple/>\n                    </div>\n                    <br/>\n\n                </div>\n\n                <div class="col-md-9" style="margin-bottom: 40px">\n                    <!-- <p>等待上传图片个数: {{ uploader.queue.length }}</p> -->\n                    <p ng-show="category.fileType == \'1\' && !category.headerImage && !category.coverImage">每次最多上传5张图片，上传图片建议大小在3M以内，格式为jpg\\bmp\\png\\gif</p>\n                    <p ng-show="category.fileType == \'0\'">上传图片建议像素为640px*1008px，上传图片大小在3M以内，格式为jpg\\bmp\\png\\gif</p>\n                    <p ng-show="category.fileType == \'2\' || category.fileType == \'4\'">上传音乐大小不超过{{category.limitSize / 1024 / 1024}}M，格式为mp3</p>\n                    <p ng-show = "category.fileType == \'1\' && (category.headerImage || category.coverImage)">上传图片建议像素为250px*250px，上传图片大小在3M以内，格式为jpg\\bmp\\png\\gif</p>\n                    <table class="table">\n                        <thead>\n                            <tr>\n                                <th width="50%">名称</th>\n                                <th ng-show="uploader.isHTML5">大小</th><!-- \n                                <th ng-show="uploader.isHTML5">进度</th>\n                                <th>操作</th> -->\n                            </tr>\n                        </thead>\n                        <tbody>\n                            <tr ng-repeat="item in uploader.queue">\n                                <td>\n                                    <strong>{{ item.file.name }}</strong>\n                                    <!-- Image preview -->\n                                    <!--auto height-->\n                                    <!--<div ng-thumb="{ file: item.file, width: 100 }"></div>-->\n                                    <!--auto width-->\n                                    <!-- <div ng-show="uploader.isHTML5" ng-thumbnail="{ file: item._file, height: 100 }"></div> -->\n                                    <!--<div ng-thumbnail="{ file: item._file, height: 100 }"></div>\n                                    fixed width and height -->\n                                    <!--<div ng-thumb="{ file: item.file, width: 100, height: 100 }"></div>-->\n                                </td>\n                                <td ng-show="uploader.isHTML5" nowrap>{{ item.file.size/1024/1024|number:2 }} MB</td>\n                                 <td ng-show="uploader.isHTML5">\n                                    <div class="progress" style="margin-bottom: 0;">\n                                        <div class="progress-bar" role="progressbar" ng-style="{ \'width\': item.progress + \'%\' }"></div>\n                                    </div>\n                                </td>\n                                <!--<td nowrap>\n                                    <button type="button" class="btn btn-success btn-xs" ng-click="item.upload()" ng-disabled="item.isReady || item.isUploading || item.isSuccess">\n                                        <span class="glyphicon glyphicon-upload"></span> 上传\n                                    </button>\n                                    <button type="button" class="btn btn-warning btn-xs" ng-click="item.cancel()" ng-disabled="!item.isUploading">\n                                        <span class="glyphicon glyphicon-ban-circle"></span> 取消\n                                    </button>\n                                    <button type="button" class="btn btn-danger btn-xs" ng-click="item.remove()">\n                                        <span class="glyphicon glyphicon-trash"></span> 删除\n                                    </button>\n                                </td> -->\n                            </tr>\n                        </tbody>\n                    </table>\n\n                    <div>\n                        <!-- <div>\n                            上传进度:\n                            <div class="progress" style="">\n                                <div class="progress-bar" role="progressbar" ng-style="{ \'width\': uploader.progress + \'%\' }"></div>\n                            </div>\n                        </div> -->\n                        <button type="button" class="btn btn-secondary btn-s" ng-click="uploader.uploadAll()" ng-disabled="!uploader.getNotUploadedItems().length">\n                            <span class="glyphicon glyphicon-upload"></span> 上传\n                        </button>\n                       <!--  <button type="button" class="btn btn-warning btn-s" ng-click="uploader.cancelAll()" ng-disabled="!uploader.isUploading">\n                            <span class="glyphicon glyphicon-ban-circle"></span> 取消\n                        </button> -->\n                        <button type="button" class="btn btn-danger btn-s" ng-click="uploader.clearQueue()" ng-disabled="!uploader.queue.length">\n                            <span class="glyphicon glyphicon-trash"></span> 删除\n                        </button>\n                    </div>\n\n                </div>\n\n            </div>\n\n        </div>\n\n    </div>')
    }
    ]),
    b.module("notifications.tpl.html", []).run(["$templateCache", function(a) {
        a.put("notifications.tpl.html", '<div ng-class="[\'alert\', \'alert-\'+notification.type]" ng-repeat="notification in notifications.getCurrent()" notification-fadeout>\n    <button class="close" ng-click="removeNotification(notification)">x</button>\n    {{notification.message}}\n</div>\n')
    }
    ]),
    b.module("reg/agreement.tpl.html", []).run(["$templateCache", function(a) {
        a.put("reg/agreement.tpl.html", '<div class="about">\n    <div class="header">\n        <div class="content">\n            <div class="logo"><img ng-src="{{CLIENT_CDN}}assets/images/logo.png" alt=""></div>\n        </div>\n    </div>\n    <div class="banner">\n        <img ng-src="{{CLIENT_CDN}}assets/images/contact1.jpg"/>\n    </div>\n    <div class="main clearfix">\n    	<div class="reg_xy_Box">\n            <h1>雷锋站长注册协议</h1>\n            <div class="reg_xy">\n                <p>甲方：北龙中网（北京）科技有限责任公司</p>\n                <p>乙方：“雷锋站长”的注册用户（以下简称用户或“您”）</p>\n                <p class="para">您确认：在您开始“雷锋站长”产品试用或购买前，您已充分阅读、理解并接受本协议的全部内容，一旦您选择“同意”并开始使用本服务或完成购买流程，即表示您同意遵循本协议之所有约定。不具备前述条件的，您应立即终止注册或停止使用本服务。</p>\n                <p class="para">甲方有权随时对协议内容进行单方面的变更，并以在eqshow.cn公告的方式予以公布，无需另行单独通知您；若您在本协议内容公告变更后继续使用本服务，表示您已充分阅读、理解并接受修改后的协议内容，也将遵循修改后的协议内容使用本服务；若您不同意修改后的协议内容，您应停止使用本服务。您可以访问 http://www.eqshow.cn来了解最新版本的服务条款。</p>\n                </p>\n                <p>帐户注册及条款</p>\n                <p>1.  您保证具有法律规定的完全民事权利能力和民事行为能力，能够独立承担民事责任的自然人、法人或其他组织；本协议内容不会被您所属国家或地区的法律禁止。\n                <p>2.  具体操作使用人应该是自然人。不允许采用注册机或者类似的自动化方式注册账户。\n                <p>3.  当您注册时应当按网站要求提供您真实的信息及其他必要的信息以完成注册。\n                <p>4.  您的登录信息只能用于一个人，不允许多人共享登录信息。您可以在网站允许的前提下注册多个登录用户名密码。\n                <p>5.  您应当保护好自己的用户名及密码信息不被泄露。“雷锋站长”无法也不会保护因为您泄露用户名或密码导致的数据风险。\n                <p>6.  同一个用户只能拥有一个免费账户。\n                <p>7.  对于您以及您的账户所创建的内容负责。\n                <p>8.  您不得恶意攻击“雷锋站长”服务。\n                <p>9.  您不得复制、转售或转授权任何部分或者全部的”雷锋站长”服务。\n                <p>10. 甲方有权但并非义务删除以下内容：非法、歧视、恐吓、诽谤、色情、淫秽或者违反中国法律的。\n                <p>11. 您不得以口头或者文字方式攻击（包括恐吓、报复等）甲方客户、员工、成员或本产品及服务的其他使用者。\n                <p>12. 您不得上传或者发布垃圾邮件，短信，或上传计算机病毒程序或者恶意代码。\n                <p>13. 如果您的账户流量使用明显超过平均用户带宽使用，我们保留停用您的账户的权利，直到您降低您的流量使用。\n                <p>14. 您在本协议期间应遵守全部中国法律、法规和规章。\n                <p>15. 如果甲方因乙方的任何触犯中国法律法规的行为或违反本协议的行为而承受任何损失或损害，乙方应该采取所有行动使甲方免于承担责任，并对由此产生的全部损失和损害对乙方承担赔偿责任。\n                <p>16. 如果乙方存在任何触犯中国法律法规的行为或违反本协议的行为，甲方有权根据行为的严重性自行决定立即暂停或终止乙方对本服务的使用，甲方无须就服务暂停或终止对乙方承担任何责任，并且无须返还乙方已支付的当月费用。\n\n                <p>付费相关条款\n                <p>1.  “雷锋站长”产品目前仅提供免费产品供您使用，但甲方保留未来推出“雷锋站长”付费产品、功能或服务的权利。\n                <p>2.  您有权自由选择决定是否使用“雷锋站长”中的付费产品、功能或服务。\n                <p>产品服务条款\n                <p>1.  甲方将以专业的方式提供产品及服务，但并不保证：1) 产品及服务满足您的所有需求或您的所有期待； 2) 产品及服务没有任何失误或缺陷； 或3) 产品及服务中的所有错误都会被修正。甲方无须对任何第三方提供的产品或服务负责，亦不对第三方产品或服务提供任何保证。\n                <p>2.  甲方保留不断修改调整这项服务的权利，而无需事先通知乙方。\n                知识产权条款\n                <p>1.  您提交的各种内容版权归属于您。\n                <p>2.  您应当了解并授权“雷锋站长”及“雷锋站长”许可的用户可以传播、二次编辑、分享您通过雷锋站长编辑生成的作品。\n                <p>3.  甲方提供的服务及产品（包括但不限于观感、设计、图标、代码等）的版权、商标权、专利权及其他知识产权均归属于甲方。除非获得甲方明确书面允许，您不得复制、重用任何HTML/CSS, JavaScript或者任何视觉设计，也不得对甲方产品进行反向工程、分解或进行编译或其他修改。\n                <p>4.  本协议中未明确授予您的权利将由甲方保留。\n                <p>责任限制\n                在任何情况下、甲方均无须对任何间接性、后果性、惩戒性、偶然性、特殊性或刑罚性的损害(包括但不限于乙方因使用甲方服务而遭受的利润、收入损失、或预期的节约成本的损失或商誉损失等）承担责任，即使乙方已被告知该等损失的可能性。甲方对乙方承担的全部责任总额，无论因何原因（基于合同法、侵权法或其他法规）或何种行为方式产生，始终不超过乙方在当月服务期内因使用甲方服务而已经支付给甲方的费用。\n                服务取消与终止条款\n                <p>1.  您清楚的了解终止服务的后果。无需邮件或者电话确认，您可以在任何时候通过点击账户链接并执行相应操作来终止您的账户及相应的所有信息。\n                <p>2.  一旦终止，所有隶属于这个账户的数据及信息将由甲方作删除处理，并且无法恢复。\n                <p>3.  一旦终止账户，账户之下的用户将无法访问任何相关的服务。\n                <p>其他条款\n                <p>1.  您了解甲方使用第三方的运营商和网络提供商提供必要的硬件、软件、存储或网络来运行雷锋站长服务。甲方无需因为第三方的、或者不在甲方控制范围内的原因（如不可抗力）造成的运行问题（如服务中断、停顿、中止等）负责。\n                <p>2.  如果本协议的某一条款或某一条款的一部分无效或不可执行，不影响本协议其他条款的有效性，无效或不可执行的条款将被视作已从本协议中删除。\n                <p>3.  本协议受中华人民共和国法律管辖。 在执行本协议过程中如发生纠纷，双方应及时协商解决。协商不成时，任何一方均应向甲方所在地人民法院提起诉讼。\n                <p>4.  若有任何疑问，请通过浏览http://www.eqxiu.com网站下方的联系方式与我们联系。\n\n            </div>\n        </div>\n    </div>\n</div>\n<div ng-include="\'footer.tpl.html\'"></div>')
    }
    ]),
    b.module("reg/reg.tpl.html", []).run(["$templateCache", function(a) {
        a.put("reg/reg.tpl.html", '<div><a ng-href="{{weiChatUrl}}">登录测试</a></div>')
    }
    ]),
    b.module("sample/sample.tpl.html", []).run(["$templateCache", function(a) {
        a.put("sample/sample.tpl.html", '<div class="sample contain min_contain">	\n	    <header>\n	        <div class="we_nav content_center">\n	            <div class="link_list">\n	                <ul class="clearfix">\n	                    <li class="bg_hover"><a>用户案例</a></li>\n	                    <li ng-hide="isAuthenticated()"><a ng-click = "login()">登录</a></li>\n	                    <li ng-hide="isAuthenticated()" class=""><a ng-click = "register()">注册</a></li>\n	                    <li ng-show="isAuthenticated()"><a href="#/main">进入</a></li>\n	                </ul>\n	            </div>                  \n	            <div id="logo"><a href="#/home"><img ng-src="{{logoSrc}}" alt=""></a></div>\n	        </div>    \n	    </header>\n	    <div class="content_center">\n<!-- 		    <div class="pv_contain clearfix">\n		    	<div class="img_pv_contain">\n			    	<div class="pv_images" >\n						<ul>\n							<li  class="con_list" ng-repeat="dayTop in dayTop" ng-show="page == \'day\'">\n							<a ng-href="{{PREFIX_CLIENT_HOST + \'/v-\' + dayTop.code}}" target="_blank">\n								<div class="pv_images_cont">\n									<div ng-hide="showCode2 == true"><img ng-src="{{PREFIX_FILE_HOST + dayTop.image.imgSrc}}" alt="" width="235px" /></div>\n									<div ng-show="showCode2 == true" qr-code qr-url="{{PREFIX_FILE_HOST + dayTop.image.imgSrc}}" class="qrcode">\n									\n									</div>\n									<p class="anli_name" title="{{dayTop.name}}">{{dayTop.name}}</p>\n								</div>\n							</a>\n							<p class="changj_pv"><span class="er_name"><em>{{dayTop.userName}}</em><a ng-mouseover="showCode2 = true" ng-mouseleave="showCode2 = false" href="">二维码</a></span><span class="changj_show_num">展示:{{dayTop.showCount | fixnum}}</span></p>\n							\n						</li>\n						</ul>\n						<ul>\n							<li class="con_list" ng-repeat="monthTop in monthTop" ng-show="page == \'month\'">\n							<a ng-href="{{PREFIX_CLIENT_HOST + \'/v-\' + monthTop.code}}" target="_blank">\n								<div class="pv_images_cont">\n									<div ng-hide="showCode1 == true"><img ng-src="{{PREFIX_FILE_HOST + monthTop.image.imgSrc}}" alt="" width="235px" /></div>\n									<div ng-show="showCode1 == true" qr-code qr-url="{{PREFIX_CLIENT_HOST + \'/v-\' + monthTop.code}}" class="qrcode">\n									</div>\n								</div>\n								<p class="anli_name" title="{{monthTop.name}}">{{monthTop.name}}</p>\n							</a>\n							<p class="changj_pv"><span class="er_name"><em>{{monthTop.userName}}</em><a ng-mouseover="showCode1 = true" ng-mouseleave="showCode1 = false" href="">二维码</a></span><span class="changj_show_num">展示:{{monthTop.showCount | fixnum}}</span></p>\n							\n							</li>\n						</ul>\n						<ul>\n							<li class="con_list" ng-repeat="weekTop in weekTop" ng-show="page == \'week\'">\n							<a ng-href="{{PREFIX_CLIENT_HOST + \'/v-\' + weekTop.code}}" target="_blank">\n								<div class="pv_images_cont" >\n									<div ng-hide="showCode3 == true"><img ng-src="{{PREFIX_FILE_HOST + weekTop.image.imgSrc}}" alt="" width="235px" /></div>\n									<div ng-show="showCode3 == true" qr-code qr-url="{{PREFIX_CLIENT_HOST + \'/v-\' + weekTop.code}}" class="qrcode">\n									</div>\n									<p class="anli_name" title="{{weekTop.name}}">{{weekTop.name}}</p>\n								</div>\n\n							</a>\n							<p class="changj_pv"><span class="er_name"><em>{{weekTop.userName}}</em><a ng-mouseover="showCode3 = true" ng-mouseleave="showCode3 = false" href="">二维码</a></span><span class="changj_show_num">展示:{{weekTop.showCount | fixnum}}</span></p>\n							\n						</li>\n						</ul>\n			    	</div>		    			    			    			    	\n		 		</div>\n		    	<div class="pv_nav">\n		    		<h1><img ng-src="{{CLIENT_CDN}}assets/images/sample/desr.png" alt="" /></h1>\n		    		<ul class="clearfix">\n		    			<li ng-class="{hover:page == \'month\'}" ng-click="page = \'month\'">本月排名</li><li ng-class="{hover:page == \'week\'}" ng-click="page = \'week\'">本周排名</li><li ng-click="page = \'day\'" ng-class="{hover:page == \'day\'}">昨日排名</li>\n		    		</ul>\n		    	</div>\n		    </div> -->\n		    <div class="header_con">	\n			    <div class="sample_cat clearfix" data-ng-init="load()">\n			    	<div class="sample_images mains">\n			    		<div class="clearfix">\n							<div class="con_list" ng-repeat = "home in homes">\n								<a ng-href="{{PREFIX_CLIENT_HOST + \'/v-\' + home.code}}" target="_blank">\n									<div ng-show="showCode == true" class="cj_img qrcode" qr-code qr-url="{{PREFIX_CLIENT_HOST + \'/v-\' + home.code}}">\n										<!-- <img ng-src="{{PREFIX_SERVER_HOST + \'eqs/qrcode/\' + home.code + \'.png\'}}" alt="" width="235px" /> -->\n									</div>\n									<div ng-hide="showCode == true" class="cj_img"><img ng-src="{{PREFIX_FILE_HOST + home.image.imgSrc}}" alt="" width="235px" /></div>\n									<p class="anli_name" title="{{home.name}}">{{home.name}}</p>\n								</a>\n								<p class="clearfix"><span class="er_name"><em>{{home.userName}}</em><a ng-mouseover="showCode = true" ng-mouseleave="showCode = false" href="">二维码</a></span>场景展示:{{home.showCount | fixnum}}</p>\n							</div>\n						</div>\n						<div class="mores" ng-init = "showMoreButton = true;" ng-hide = \'homes.length < 9\'>\n					    	<a ng-click="showMore(type)" ng-show = \'showMoreButton\'>查看更多</a>\n					    	<p ng-show = "!showMoreButton" style="font-size:16px;">没有更多了</p>\n					    </div>\n					    <p style="text-align:center;margin-top:100px;" ng-show = \'homes.length <= 0\'>该分类下暂无场景</p>\n			    	</div>\n			    	<div class="sample_cats">\n				    	<div class="sample_fix fixed">\n				    		<div class="cat-list">\n					    		<h1><img ng-src="{{CLIENT_CDN}}assets/images/sample/case.png" alt="" /></h1>\n					    		<ul class="clearfix">\n				                    <li id="one1" ng-class="{hover:typeindex == \'all\'}" ng-click="getHomes(\'all\', null, 1, 9);type=null">全部案例</li>\n				                    <li ng-repeat = "sceneType in sceneTypes" ng-class = "{hover: typeindex == $index}" ng-click = "getHomes($index, sceneType.value, 1, 9)">\n				                        {{sceneType.name}}\n				                    </li>\n					    		</ul>\n					    	</div>\n				    		<div>\n				    							    		</div>\n				    	</div>\n			    	</div>	\n			    </div>    \n			</div>\n		</div>	\n</div>\n<div ng-include="\'footer.tpl.html\'"></div>\n\n')
    }
    ]),
    b.module("scene/console.tpl.html", []).run(["$templateCache", function(a) {
        a.put("scene/console.tpl.html", '<div>\n<div ng-show="comp_type==\'bg\'" ng-include="\'scene/console/bg.tpl.html\'" ng-controller="BgConsoleCtrl"></div>\n</div>')
    }
    ]),
    b.module("scene/console/angle-knob.tpl.html", []).run(["$templateCache", function(a) {
        a.put("scene/console/angle-knob.tpl.html", '<div class="sliderContainer">\n	<div class="sliderKnob"></div>\n</div>')
    }
    ]),
    b.module("scene/console/anim.tpl.html", []).run(["$templateCache", function(a) {
        a.put("scene/console/anim.tpl.html", '<div ng-if="activeTab == \'anim\'" ng-controller="AnimConsoleCtrl">\n	<div class="anim_area">\n		<div class="anim-panels" ng-if="animations.length">\n			<section ng-repeat="animation in animations track by $index">\n				<div class="style_list" ng-init="opea.show=true" ng-click="opea.show=!opea.show">\n			        <b class="caret" ng-if="opea.show"></b>\n			        <b class="caret off" ng-if="!opea.show"></b>\n			        动画&nbsp;{{$index+1}}\n			        <span style="padding-right: 10px;cursor:pointer;" class="fr" ng-click="removeAnim($index, $event)"><img title="删除此动画" ng-src="{{CLIENT_CDN + \'assets/images/delete.png\'}}" ></span>\n			    </div>\n			    <div ng-if="opea.show" class="style_list_angel clearfix">\n			        <label>方式</label>\n		        	<div class="flo_lef touming">\n		        		<select style="width:100px;border:1px solid #C9C9C9;" ng-model="types[$index]" ng-change="animation.type=types[$index].id; changeAnimation(animation, $index)" ng-options="animType.name group by animType.cat for animType in animTypeEnum">\n		            		<option value="-1">无</option>\n		        		</select>	        		\n		    		</div>\n			    </div>\n			    <div ng-if="opea.show && animation.type == 7" class="style_list_angel clearfix">\n			        <label>速度</label>\n		        	<div class="clearfix touming">\n			        	<div class="num" style="text-align:right;margin-top:4px;">\n			        		<input type="checkbox" value="" ng-model="animation.linear" ng-true-value="1" style="margin-right:2px;margin-top:0px;"/>匀速\n			        	</div>		        			        		\n		    		</div>\n			    </div>			    \n			    <div class="row" ng-if="animation.type != -1 && animation.type != null && opea.show">            \n			        <form role="form">\n			            <div class="style_list_angel clearfix" ng-show="animation.type == 1 || animation.type == 2 || animation.type == 17 || animation.type == 19">\n			                <label>方向</label>\n			                <div class="flo_lef touoming"><select style="color:#999" class="form-control" ng-model="directions[$index]" ng-change="animation.direction=directions[$index].id;changeAnimation(animation, $index)" ng-options="animDirection.name for animDirection in animDirectionEnum">\n			                </select></div>\n			            </div>\n			            <div class="style_list_angel">\n			                <label>时间</label>\n			                <div class="touming clearfix">\n			                    <p class="num"><input limit-input class="input_kuang short" type="number" step="0.1" min="0" max="20" ng-model="animation.duration" /></p>\n			                    <div class="num" style="width:100px;" ui-slider min="0" max="20" use-decimals step="0.1" ng-model="animation.duration"></div>\n			                </div>\n			            </div>              \n			            <div class="style_list_angel">\n			                <label>延迟</label>\n			                <div class="touming clearfix">\n			                    <p class="num"><input limit-input class="input_kuang short" type="number" step="0.1" min="0" max="20" class="form-control" ng-model="animation.delay"/></p>\n			                    <div class="num" style="width:100px;" ui-slider min="0" max="20" use-decimals step="0.1" ng-model="animation.delay"></div>\n			                </div>\n			            </div>\n			            <div class="style_list_angel">\n			                <label>次数</label>\n			                <div class="touming clearfix">\n			                    <p class="num" style="float:left;margin-right:10px;"><input ng-disabled  = "animation.count" limit-input class="input_kuang short" type="number" min="1" max="10" class="form-control" ng-model="animation.countNum" /></p>\n			                    <div class="num" style="text-align:right;margin-top:0px;"><input type="checkbox" value="" id="xunhuan" ng-model="animation.count" style="margin-right:2px;margin-top:0px;" />循环</div>\n			                </div>\n			                              \n			            </div>\n			        </form>                 \n			    </div>\n			</section>\n		</div>\n		<div class="add-anim">\n			<a ng-click="addAnim()" class="add-anims"><span class="eqf-plus2"></span><span>添加动画</span></a>\n			<a style="margin-top:10px;" ng-click="previewAnim()" class="broad-anim"><span class="eqf-eye"></span><span>播放动画</span></a>\n		</div>\n	</div>\n	<div class="modal-footer">\n		<a class="btn-main" ng-click="cancel()">确定</a>\n		<a class="btn-grey0" ng-click="clear()">清除动画</a>\n	</div>\n</div>')
    }
    ]),
    b.module("scene/console/audio.tpl.html", []).run(["$templateCache", function(a) {
        a.put("scene/console/audio.tpl.html", '<div class="dialog-contain ">\n    <div class="dialog-head">\n        <h1>音乐素材</h1>\n        <p ng-show=\'!authError\'>选择音乐库中音乐或把喜欢的乐曲上传到我的音乐中</p>\n        <p ng-show = \'authError\'>{{authError}}</p>\n    </div>\n<!--	<div class="category_list nav-list">\n		<ul class="category_list_container clearfix">\n			<li ng-class="{active: category.value == model.bgAudio.type}" ng-repeat="category in categoryList" ng-click="model.bgAudio.type = category.value">\n				{{category.name}}\n			</li>\n		</ul>\n	</div>-->\n	<div class="dialog-content bg_console clearfix" style="background-color:#E7E7E7;">\n		<div class="fl" style="width:100px;">\n			<ul class="nav nav-tabs tabs-left" style="padding-top:0;"><!-- \'tabs-right\' for right tabs -->\n				<li ng-class="{active: !isMySound}">\n					<a ng-click="selectTab(false)">音乐库</a>\n				</li>\n				<li ng-class="{active: isMySound}">\n					<a ng-click="selectTab(true)">我的音乐</a>\n				</li>\n			</ul>\n		</div>\n		<div class="fl bg-rig">\n			<div id="bg_contain" class="tab-head">\n				<!--<form class="form-contain" role="form">-->\n	<!--			<div ng-if="model.bgAudio.type == \'1\'" class="form-list audio_area clearfix">\n					<lable class="form-label">链接地址：</lable>\n					<div class="form-input">\n						<input class="" type="text" ng-model="model.type1" placeholder="请输入mp3文件链接">\n					</div>\n				</div>-->\n<!--				<div ng-if="isMySound" class="sound-list clearfix">\n					<ul>\n						<li ng-repeat="s in sounds">\n							{{s.name}}\n						</li>\n					</ul>\n	&lt;!&ndash;				<div class="form-input" style="margin-left:0;">\n						<select class="float-lf selectcartoon" ng-change="selectAudio(2)" ng-model="model.selectedMyAudio" ng-options="myAudio.name for myAudio in myAudios" id="nb_musicurl">\n						<option value="">选择我的音乐</option>\n						</select>\n						<p style="text-align:left;"><a href="http://www.48ym.com/forum.php?mod=viewthread&tid=7505" target="_blank" style="font-size:12px;"> 如何裁剪音乐？</a></p>\n					</div>\n					<span class="btn-main" ng-click="goUpload()">上传音乐</span>\n					<div ng-if = "model.type2" style = "margin-top:10px;">\n						<audio ng-src="{{model.type2}}" controls="controls">\n						</audio>\n					</div>&ndash;&gt;\n				</div>-->\n<!--				<div ng-if="!isMySound" class="sound-list clearfix">\n					<ul>\n						<li ng-repeat="reservedAudio in reservedAudios">\n							{{reservedAudio.name}}\n						</li>\n					</ul>\n					&lt;!&ndash;<div class="category_list" style = " width: 100%; padding: 0px 0 5px 10px; margin-bottom: 10px; border-bottom: 1px solid #ccc; text-align: left;">\n	<ul class="category_list_container clearfix"> <li class="category_item"  ng-click="changeCategory(\'all\')" ng-class="{active: \'all\' == categoryId}">\n			全部\n								</li>\n		 <li ng-class="{active: category.value == categoryId}" class="category_item" ng-repeat="category in categoryList2" ng-click="changeCategory(category.value); getChildCategory(category.value);sysTagIndex = -1;">\n {{category.name}}\n	</li></ul>	</div><select class="float-lf selectcartoon" ng-change="selectAudio(3)" ng-model="model.selectedAudio" ng-options="reservedAudio.name for reservedAudio in reservedAudios" id="nb_musicurl">\n						<option value="">选择音乐库文件</option>\n					</select>\n					<div ng-if = "model.type3" style = "margin-top:10px;">\n						<audio  ng-src="{{model.type3}}" controls="controls">\n						</audio>\n					</div>&ndash;&gt;\n				</div>-->\n				<div class="tab-pane">\n					<div class="img_list">\n						<div class="sound-list clearfix">\n							<ul>\n								<li style="cursor:pointer;" ng-class="{active: sound.src == s.src}" ng-click="selectSound($index)" ng-repeat="s in sounds">\n                                       <span>\n                                           <a class="sound eqf-play" title="{{s.isPlaying ? \'暂停\' : \'播放\'}}" ng-class="{\'eqf-play\': !s.isPlaying, \'eqf-stop\': s.isPlaying}" ng-click="playSound($event, $index)"></a>\n                                           <a class="del eqf-delete" title="删除" ng-show="isMySound" ng-click="deleteMySound($event, $index)"></a>\n                                       </span>{{s.name}}\n								</li>\n							</ul>\n						</div>\n					</div>\n				</div>\n				<div class="fanye_foot clearfix">\n					<div class="pagination_container fl">\n						<pagination style="float: left" previous-text="&lsaquo;" next-text="&rsaquo;" first-text="首页" last-text="尾页" max-size="5" items-per-page="pagination.pageSize" total-items="pagination.totalItems" ng-model="pagination.currentPage" ng-change="getSounds(pagination.currentPage)" boundary-links="true" rotate="true" num-pages="pagination.numPages"></pagination>\n						<div class="current_page">\n							<input type="text" ng-model="toPage" ng-keyup="$event.keyCode == 13 ? getSounds(toPage) : null">\n							<a ng-click="getSounds(toPage)" class="go">GO</a>\n							<span>当前: {{pagination.currentPage}} / {{pagination.numPages}} 页</span>\n						</div>\n					</div>\n					<div style="text-align:right;">\n						<a class="btn-main login" ng-click="confirm()">确定</a>\n						<a class="btn-grey0 cancel" ng-click="cancel()">取消</a>\n					</div>\n				</div>\n			</div>\n		<!--</form>-->\n		</div>\n	</div>\n</div>\n')
    }
    ]),
    b.module("scene/console/bg.tpl.html", []).run(["$templateCache", function(a) {
        a.put("scene/console/bg.tpl.html", '<div class="dialog-contain ">\n    <div class="dialog-head">\n        <h1>素材库</h1>\n        <a ng-show="fileType ==\'0\'" class="bbs-help-tip-media" target="_blank" href="http://www.48ym.com/forum.php?mod=viewthread&tid=1921&page=1&extra=#pid6652">\n            <span class="eqf-exclaquestion-sign"></span></a>\n        <a ng-show="fileType ==\'1\'" class="bbs-help-tip-media" target="_blank" href="http://www.48ym.com/forum.php?mod=viewthread&tid=1934&page=1&extra=#pid6696">\n            <span class="eqf-exclaquestion-sign"></span></a>\n        <p ng-show =\'!authError\'>选择素材库的图片或上传图片，选择即可使用(一次性最多上传6张)</p>\n        <p ng-show = \'authError\'>{{authError}}</p>\n    </div>\n    <div class="dialog-content bg_console clearfix" style="background-color:#f0f0f0;">\n        <div class="fl" style="width:100px;">\n             <ul class="nav nav-tabs tabs-left" style="padding-top:0;"><!-- \'tabs-right\' for right tabs -->\n                <li ng-class="{active: systemImages}">\n                    <a href="" ng-show="fileType == \'0\'" ng-click="switchToSystemImages(\'true\');getSystemFiles();" data-toggle="tab">背景库</a>\n                    <a href="" ng-show="fileType == \'1\'" ng-click="switchToSystemImages(\'true\');getSystemFiles();" data-toggle="tab">图片库</a>\n                </li>\n                <li ng-class="{active: !systemImages && !userTagId}">\n                    <a href="" ng-show="fileType == \'0\'" ng-click="switchToSystemImages(\'false\');getUserFiles(0)" data-toggle="tab">我的背景</a>\n                    <a href="" ng-show="fileType == \'1\'" ng-click="switchToSystemImages(\'false\');getUserFiles(0)" data-toggle="tab">我的图片</a>\n                </li>\n                <li class="add-tag" ng-if="type != \'p\' && type !=\'n\'">\n                    <a ng-click="createTag();" style="border-bottom:none;"><span class="eqf-plus"></span>&nbsp;添加分组</a>\n                </li>\n                <li class="my-bg-upload bg-img-upload">\n                    <div class="hint--top hint--rounded" data-hint="上传图片大小不超过3M，支持上传格式：jpg、png、gif">\n                        <span class="eqf-upload"></span><em>上传</em>\n                        <input type="file" nv-file-select="" uploader="uploader" multiple="multiple" style="width:200px;height: 55px;overflow: hidden;position: absolute;top: 0;right: 0;left:-50px;bottom:0;cursor: pointer;opacity:0;">  \n                    </div>\n                        \n                </li>\n              </ul>\n              <ul class="nav nav-tabs tabs-left user-tabs" style="padding-top:0">\n                <li ng-class="{active: userTagId == tag.id && !systemImages}" ng-repeat="tag in tagList" ng-click="switchToSystemImages(\'false\');getUserFiles(tag.id)" ng-hover resource="tag">\n                    <a href="" data-toggle="tab">\n                        <span class="eqf-no del-tag" ng-if="tag.show && type != \'p\' && type != \'n\'" style="float:right;margin-top:15px;opacity:0.8;" ng-click="deleteTag(tag.id, $index)"></span>\n                        {{tag.name}}\n                    </a>\n                </li>\n              </ul>\n        </div>\n        <div class="fl bg-rig clearfix">\n            <div class="tab-content" id="bg_contain">\n                <div class="tab-pane active tab-head" ng-show="systemImages">\n                    <div class="img_list">\n                        <!--系统分类-->\n                        <div class="category_list clearfix">\n                            <ul class="category_list_container clearfix" ng-init="$parent.sysCatId = \'0\'">\n                                <li class="category_item" ng-class="{\'active\': sysCatId == \'0\'}" ng-click="getSysCatAndList(\'0\')">\n                                最新\n                                </li>\n                                <li class="category_item" ng-class="{\'active\': sysCatId == sysCategory.value}" ng-repeat="sysCategory in sysCategoryList" ng-click="getSysCatAndList(sysCategory.value)">\n                                    {{sysCategory.name}}\n                                </li>\n                                <li ng-show="fileType == \'0\'" class="category_item" ng-class="{\'active\': sysCatId == \'pure\'}" ng-click="getSysCatAndList(\'pure\')">\n                                纯色背景\n                                </li>\n                            </ul>                   \n                        </div>\n                        <div class="cat_two_list clearfix">\n                            <ul>\n                                <li ng-repeat = "sysTag in sysTagList" ng-class="{\'active\': sysTagId == sysTag.id}" ng-click="getSysImgByTag(sysTag.id);" style="cursor:pointer;">\n                                    {{sysTag.name}}\n                                </li>\n                            </ul>\n                        </div>\n                    </div>\n                </div>\n                <!--非系统图库-->\n                <div class="tab-pane active tab-head" ng-show="!systemImages && type != \'p\' && type != \'n\'">\n                    <div class="my-bg">\n                        <span style="float:right" ng-if="!userTagId">\n                            <a class="manage-all" ng-show="!mangeObj.manageAll" ng-click="mangeObj.manageAll = true;">\n                                管理\n                            </a>\n                            <a class="mul-del" ng-show="mangeObj.manageAll" ng-click="deleteFile();">\n                                删除\n                            </a>\n                            <a class="cancel-all" ng-show="mangeObj.manageAll" ng-click="cancelSelect();mangeObj.manageAll = false;">\n                                取消选择\n                            </a>\n                        </span> \n                        <span>                       \n                            <a class="assign-group drop-area" ng-click="showObj.showGroup=!showObj.showGroup">\n                                分组&nbsp;&nbsp;&nbsp;\n                                <span class="eqf-down2"></span>\n                            </a>\n                            <span ng-if="userTagId && mangeObj.manageAll" style="cursor:pointer;" class="cancel-all" ng-click="unbindTag(userTagId);">移除</span>\n                        </span>\n                    </div>\n                    <div class="group-panel" ng-if="showObj.showGroup && tagList.length" auto-close>\n                        <ul>\n                            <li ng-repeat="tag in tagList" ng-click="assignTag(tag.id)">\n                                {{tag.name}}\n                            </li>\n                        </ul>\n                    </div>\n                </div>\n                <div class="img_list">\n                    <div class="img_list_container photo_list">\n                        <ul class="img_box clearfix">\n                            <li ng-if="!systemImages && uploader.queue.length" class="imgList" ng-repeat="item in uploader.queue.slice().reverse()">\n                                <div class="progress" style="position: absolute;top: 50%;width: 100%;margin-top: -10px;width: 90%;margin-left: 5%;">\n                                    <div style="background-color:#08a1ef" class="progress-bar" role="progressbar" ng-style="{ \'width\': item.progress + \'%\' }"></div>\n                                </div>\n                            </li>\n                            <li id="userlist" ng-if="sysCatId != \'pure\'" class="imageList" ng-repeat="img in imgList" ng-click="replaceByClick(img, $shape, $event)" ng-hover resource="img">\n                                <img ng-src="{{PREFIX_FILE_HOST + img.tmbPath}}" responsive-image file="img" ng-class="{\'add-shadow\': img.show && systemImages && type != \'p\' && type != \'n\'}"/>\n                                <!--<img ng-if="fileType == \'1\'" ng-src="{{PREFIX_FILE_HOST + img.tmbPath}}" responsive-image file="img" ng-class="{\'add-shadow\': img.show && systemImages && type != \'p\'}"/>-->\n                                <div class="img-mask" ng-show="type == \'p\' || type == \'n\' || ((selectedImages.length || img.show || img.selected || mangeObj.manageAll) && !systemImages)" ng-click="$event.stopPropagation();">\n                                    <a class="del-file ope-img" ng-if="!mangeObj.manageAll && !userTagId && type != \'p\' && type != \'n\'" ng-click="deleteFile(img.id)">\n                                        <span class="eqf-no ope-icon"></span>\n                                    </a>\n                                    <a class="sel-file ope-img" ng-class="{\'sel-active\': img.selected, \'hide-del\': mangeObj.manageAll || userTagId || type == \'p\' || type == \'n\'}" ng-click="switchSelect(img, $shape, $event)" >\n                                        <span class="eqf-yes ope-icon"></span>\n                                    </a>\n                                </div>\n                            </li>\n                            <li id="userlist" class="imageList" ng-repeat="img in imgList" ng-if="fileType == \'0\' && sysCatId == \'pure\'" ng-hover resource="img" ng-click="replaceByClick(img)" ng-class="{\'add-shadow\': img.show && systemImages && type != \'p\' && type != \'n\'}">\n                                <div ng-style="{\'background-color\': img.color}" style="position: relative;height:100%;width:63px;margin: 0 auto;"></div>\n                                <!-- <div class="img-mask" ng-show="img.show || img.selected" ng-click="$event.stopPropagation();">\n                                    <a class="del-file ope-img" ng-if="!mangeObj.manageAll" ng-click="deleteFile(img.id)">\n                                        <span class="eqf-no ope-icon"></span>\n                                    </a>\n                                    <a class="sel-file ope-img" ng-class="{\'sel-active\': img.selected}"  ng-click="switchSelect(img, $shape, $event)">\n                                        <span class="eqf-yes ope-icon"></span>\n                                    </a>\n                                </div> -->\n                            </li>\n                        </ul>\n                    </div>\n                    <div class="fanye_foot clearfix">\n                        <div class="fr" ng-click="replaceImage();"><a class="btn-main" href="" style="color:#FFF;">确定</a></div>\n                        <div class="btn-grey0 cancel fr" style="margin-right:10px;" ng-click="cancel()">\n                            <a style="color:#fff;">取消</a>\n                        </div>\n                        <div class="pagination_container fl" ng-show="numPages > 1">\n                            <pagination style="float: left" previous-text="&lsaquo;" next-text="&rsaquo;" first-text="首页" last-text="尾页" max-size="5" items-per-page="pageSize" total-items="totalItems" ng-model="$parent.currentPage" boundary-links="true" rotate="true" num-pages="numPages"></pagination>\n                            <div class="current_page">\n                                <input type="text" ng-model="$parent.toPage" ng-keyup="$event.keyCode == 13 ? getImgByPage() : null">\n                                <a ng-click="getImgByPage()" class="go">GO</a>\n                                <span>当前: {{currentPage}} / {{numPages}} 页</span>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>');
    }
    ]),
    b.module("scene/console/button.tpl.html", []).run(["$templateCache", function(a) {
        a.put("scene/console/button.tpl.html", '<div class="dialog-contain">\n    <div class="dialog-head">\n        <h1>按钮名称</h1>\n        <a class="bbs-help-tip-media" target="_blank" href="http://www.48ym.com/forum.php?mod=viewthread&tid=5051&extra="><span class="eqf-exclaquestion-sign"></span></a>\n        <p ng-show="!authError">可以设置提交按钮</p>\n        <p ng-show="authError">{{authError}}</p>\n    </div>\n    <div class="modify_area tel_title tab-same clearfix" style="padding-left:30px;">\n		<span ng-repeat = "button in buttons track by $index" ng-class = "{spanborder: $index == btnIndex}">\n			<a ng-style = "button.btnStyle" ng-click = "chooseTabButton(button, $index)">{{button.text}}</a>\n		</span>\n    </div>\n    <div class="dialog-content">\n        <form class="form-contain" role="form">\n            <div class="modify_area form-list clearfix" style="margin-left: 100px;">\n                <label class="form-label">按钮名称：</label>\n                <div class="form-input" style="width: 400px;">\n                    <input type="text" maxlength="15" ng-model="model.title" ng-keyup="$event.keyCode == 13 ? confirm() : null" autofocus stop-propagation style="width: 290px;"/>\n                    <span class="title-tip">{{model.title.length}}/15</span>\n                </div>\n            </div>           \n        </form>\n    </div>\n</div>\n<div class="btn-contain btn-small">\n    <a class="btn-main login" ng-click="confirm()">确定</a>\n    <a class="btn-grey0 cancel" ng-click="cancel()">取消</a>\n</div>')
    }
    ]),
    b.module("scene/console/category.tpl.html", []).run(["$templateCache", function(a) {
        a.put("scene/console/category.tpl.html", '<div class="modal-header">\n    <span>创建分类</span>\n</div>\n<div class="modal-body add-new-cat">\n    <input type="text" ng-model="category.name" placeholder="分类名称" autofocus stop-propagation/>\n</div>\n<p ng-show="authError" style="text-align:center;font-size:12px;color:#ff0000">{{authError}}</p>\n<div class="btn-contain btn-small">\n    <a ng-click="confirm()" class="btn-main login">确定</a>\n    <a ng-click="cancel();" class="btn-grey0">取消</a>\n</div>    ')
    }
    ]),
    b.module("scene/console/counter.tpl.html", []).run(["$templateCache", function(a) {
        a.put("scene/console/counter.tpl.html", '<div class="dialog-contain counter">\n    <div class="dialog-head">\n        <h1>计数</h1>\n        <a class="bbs-help-tip-media" target="_blank" href="http://www.48ym.com/forum.php?mod=viewthread&tid=9364&extra="><span class="eqf-exclaquestion-sign"></span></a>\n        <p ng-show = \'!authError\'>可以更换自己的图标</p>\n        <p ng-show = \'authError\'>{{authError}}</p>\n    </div>\n    <div class="tab-same">\n        <span ng-class="{\'spanborder\': model.properties.icon == \'eqf-love\'}">\n            <a ng-click="chooseEqfont(\'eqf-love\')"><span class="eqf-love"></span></a>\n        </span>\n        <span ng-class="{\'spanborder\': model.properties.icon == \'eqf-good\'}">\n            <a ng-click="chooseEqfont(\'eqf-good\')"><span class="eqf-good"></span></a>\n        </span>\n        <span ng-class="{\'spanborder\': model.properties.icon == \'eqf-flower2\'}">\n            <a ng-click="chooseEqfont(\'eqf-flower2\')"><span class="eqf-flower2"></span></a>\n        </span>\n        <span ng-class="{\'spanborder\': model.properties.icon == \'eqf-vote\'}">\n            <a ng-click="chooseEqfont(\'eqf-vote\')"><span class="eqf-vote"></span></a>\n        </span>\n        <div ng-class="{\'spanborder\': model.properties.imgSrc}" class="auto-upload hint--top hint--rounded" data-hint="上传图片大小不超过3M，支持上传格式：jpg、png、gif" ng-click="openImageModal()">\n            <em class="eqf-upload" style="font-size:16px;"></em><em>自定义</em>\n        </div>\n    </div>\n    <div class="form_console dialog-content">\n        <div class="modify_area">\n            <div class="counter-group" ng-if="model.properties.imgSrc">\n                <span class="title">计数图标</span>\n                <div class="form-image btn-small counter-choice">\n                    <img style="width: 115px;height: 115px;" ng-src="{{PREFIX_FILE_HOST + model.properties.imgSrc}}" alt="按钮图片"/>\n                    <a class="btn-main btn-picture" ng-click="openImageModal()">更换图片</a>\n                </div>\n            </div>\n            <div class="counter-group">\n                <span class="title">颜色</span>\n                <div class="counter-choice">\n                    <a class="color-picker" ng-style="{backgroundColor: model.properties.color}" ng-model="model.properties.color" colorpicker="rgba" ></a>\n                    <input class="color-picker-input" ng-model="model.properties.color" type="text" />\n                </div>\n            </div>\n            <div class="counter-group">\n                <span class="title">字号</span>\n                <div class="counter-choice">\n                    <div class="btn-group">\n                        <label class="btn btn-counter" ng-model="model.properties.size" btn-radio="\'counter-l\'">大</label>\n                        <label class="btn btn-counter" ng-model="model.properties.size" btn-radio="\'counter-m\'">中</label>\n                        <label class="btn btn-counter" ng-model="model.properties.size" btn-radio="\'counter-s\'">小</label>\n                    </div>\n                </div>\n            </div>\n            <div class="counter-group">\n                <span class="title">布局</span>\n                <div class="counter-choice">\n                    <div class="btn-group">\n                        <label class="btn btn-counter" ng-model="model.properties.layout" btn-radio="\'counter-lr\'">左右</label>\n                        <label class="btn btn-counter" ng-model="model.properties.layout" btn-radio="\'counter-tb\'">上下</label>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n<div class="btn-contain btn-small">\n    <a class="btn-main login" ng-click="confirm()">确定</a>\n    <a class="btn-grey0 cancel" ng-click="cancel()">取消</a>\n</div>')
    }
    ]),
    b.module("scene/console/cropimage.tpl.html", []).run(["$templateCache", function(a) {
        a.put("scene/console/cropimage.tpl.html", '<div class="dialog-contain cropimage">\n    <div class="dialog-head">\n        <h1>图片裁切</h1>\n        <p style="margin-top:0">请根据您的需要，点击自定义或匹配单签上方按钮进行裁切</p>\n    </div>\n	<div class="crop-content dialog-content">\n		<div class="crop-control">\n			<ul>\n				<li ng-class="{active: !fit}">\n					<div class="pl">\n						<div class="check" ng-click="fit = false"></div>\n						<div class="cha text-center">自定义</div>\n					</div>\n					<div class="pr">\n						<div class="kuan cha" ng-show="!fit">宽度: <span class="cropWidth"></span></div>\n						<div class="kuan cha" ng-show="!fit">高度: <span class="cropHeight"></span></div>\n						<div class="kuan cha"><input type="checkbox" ng-disabled="fit" ng-model="lockRatio"/>锁定当前比例</div>\n					</div>\n				</li>\n				<li ng-class="{active: fit}">\n					<div class="pl">\n						<div class="check" ng-click="fit = true"></div>\n						<div class="cha text-center">匹配当前</div>\n					</div>\n					<div class="pr">\n						<div class="kuan cha" ng-show="fit">宽度: <span class="cropWidth"></span></div>\n						<div class="kuan cha" ng-show="fit">高度: <span class="cropHeight"></span></div>\n						<div class="kuan cha">匹配当前图片框比例</div>\n					</div>\n				</li>\n				<li class="crop-btn fr">\n					<a class=" btn-main" href="" ng-click="crop()">确定</a>\n					<a class=" btn-grey0" style="margin-top:20px;" href="" ng-click="cancel()">取消</a>\n				</li>\n			</ul>\n		</div>\n		<div class="image_crop ">\n			<img id="target">\n		</div>\n	</div>\n</div>')
    }
    ]),
    b.module("scene/console/fake.tpl.html", []).run(["$templateCache", function(a) {
        a.put("scene/console/fake.tpl.html", '<div class="modal-footer">\n	<div class="alert alert-info" role="alert">此功能为高级账号功能，点击按钮免费申请成为高级账号！</div>\n    <a class="btn-main login" target="_blank" style="width: 188px;" ng-href="http://www.48ym.com/forum.php?mod=viewthread&tid=77">免费成为高级账号</a>\n</div>\n<div class="anim_area" style="padding: 0 20px 20px;">\n	<img title="点击上方按钮成为高级账号" ng-show="type==\'style\'" src="{{CLIENT_CDN}}assets/images/create/fakestyle.png"/>\n	<img title="点击上方按钮成为高级账号" ng-show="type==\'anim\'" src="{{CLIENT_CDN}}assets/images/create/fakeanim.png"/>\n</div>')
    }
    ]),
    b.module("scene/console/imageCrop.tpl.html", []).run(["$templateCache", function(a) {
        a.put("scene/console/imageCrop.tpl.html", '<div class="dialog-contain cropimage">\n    <div class="dialog-head">\n        <h1>{{cropOption.title}}</h1>\n        <p style="margin-top:0">{{cropOption.desc}}</p>\n    </div>\n    <div class="crop-content dialog-content clearfix">\n        <div class="image_crop crop-img-cut" ctype="{{cropOption.type}}" ng-class="{\'bg-crop\': !cropOption.showItems}">\n            <img id="target" eqx-crop-preview ng-src="{{PREFIX_FILE_HOST + cropOption.imgSrc}}">\n        </div>\n        <div class="cut-size" ng-show="cropOption.showItems">\n            <ul>\n                <li ng-repeat="item in cropOption.cropItems">\n                    <input type="radio" id="{{item.desc}}" name="cropSize" ng-model="cropOption.currentItem" ng-value="item" ng-change="cropItemChange(item)">\n                    <label for="{{item.desc}}">{{item.desc}}</label>\n                    <span ng-if="item.lock != null">\n                        <input type="checkbox" id="lock" ng-model="item.lock" ng-change="cropItemChange(item)">\n                        <label for="lock">锁定</label>\n                    </span>\n                </li>\n            </ul>\n        </div>\n    </div>\n    <div class="btn-contain btn-small">\n        <a class="btn-main login" ng-click="ok()">确定</a>\n        <a class="btn-grey0 cancel" ng-click="cancel()">取消</a>\n    </div>    \n</div>')
    }
    ]),
    b.module("scene/console/input.tpl.html", []).run(["$templateCache", function(a) {
        a.put("scene/console/input.tpl.html", '<div class="dialog-contain ">\n    <div class="dialog-head">\n        <h1>输入框组件</h1>\n		<a class="bbs-help-tip-media" target="_blank" href="http://www.48ym.com/forum.php?mod=viewthread&tid=1935&page=\n"><span class="eqf-exclaquestion-sign"></span></a>\n        <p ng-show =\'!authError\'>在场景中添加输入框可以用来收集数据信息</p>\n        <p ng-show = \'authError\'>{{authError}}</p>\n    </div>\n	<div class="modify_area  tel_title tab-same clearfix" style="padding-left:30px;">\n		<span ng-repeat = "button in buttons track by $index" ng-class = "{spanborder: $index == btnIndex}">\n			<a style="border-width: 2px !important;" ng-style = "button.btnStyle" ng-click = "chooseTabButton(button, $index)">{{button.text}}</a>\n		</span>\n	</div>\n	<div class="form_console dialog-content">\n		<div class="modify_area">\n			<span class="label">输入框名称：</span>\n			<input type="text" maxlength="15" ng-model="model.title" ng-keyup="$event.keyCode == 13 ? confirm() : null" autofocus stop-propagation/>\n			<input type="checkbox" id="checkbox_required" ng-model="model.required" ng-true-value="required" style="margin-top:0;margin-left:5px;" />\n			<label for="checkbox_required" style="font-weight: lighter; margin:0;font-size:12px;">必填</label>\n		\n			<div class="customized_container">\n				<input type="radio" id="input_name" ng-model="model.type" ng-change="model.title=\'姓名\'" value="501" /><label for="input_name">姓名</label>\n				<input type="radio" id="input_phone" ng-model="model.type" ng-change="model.title=\'手机\'" value="502" /><label for="input_phone">手机</label>\n				<input type="radio" id="input_email" ng-model="model.type" ng-change="model.title=\'邮箱\'" value="503" /><label for="input_email">邮箱</label>\n				<input type="radio" id="input_text" ng-model="model.type" ng-change="model.title=\'文本\'" value="5" /><label for="input_text">文本</label>\n			</div>\n		</div>\n	</div>\n</div>\n<div class="btn-contain btn-small">\n    <a class="btn-main login" ng-click="confirm()">确定</a>\n    <a class="btn-grey0 cancel" ng-click="cancel()">取消</a>\n</div>')
    }
    ]),
    b.module("scene/console/link-component.tpl.html", []).run(["$templateCache", function(a) {
        a.put("scene/console/link-component.tpl.html", '<div class="dialog-contain link-component">\n    <div class="dialog-head">\n        <h1>链接组件</h1>\n        <a class="bbs-help-tip-media" target="_blank" href="http://www.48ym.com/forum.php?mod=viewthread&tid=9364&extra="><span class="eqf-exclaquestion-sign"></span></a>\n        <p ng-show =\'!authError\'>两种链接：可以跳转到场景外部的链接，或者内部导航链接</p>\n        <p ng-show = \'authError\'>{{authError}}</p>\n    </div>\n    <div class="tab-same">\n        <span ng-repeat = "button in buttons track by $index" ng-class = "{spanborder: $index == btnIndex}">\n			<a ng-style = "button.btnStyle" ng-click = "chooseTabButton(button, $index)">{{button.text}}</a>\n		</span>\n        <div ng-class="{\'spanborder\': model.imgSrc}" class="auto-upload hint--top hint--rounded" data-hint="上传图片大小不超过3M，支持上传格式：jpg、png、gif" ng-click="openImageModal()">\n            <em class="eqf-upload" style="font-size:16px;"></em><em>自定义</em>\n        </div>\n    </div>\n    <div class = "link-modal dialog-content">\n        <form class="form-contain">\n            <div class="form-list clearfix" ng-if="!model.imgSrc">\n                <label for="buttonName" class="form-label">按钮名称：</label>\n                <div class="form-input">\n                    <input id="buttonName" class="btn-name" style="height:35px;width:300px;" type="text" ng-model="model.title" ng-keyup="$event.keyCode == 13 ? confirm() : null" autofocus stop-propagation/>\n                </div>\n            </div>\n            <div class="form-list clearfix" ng-if="model.imgSrc">\n                <label class="form-label">按钮图片：</label>\n                <div class="form-image btn-small">\n                    <img ng-src="{{PREFIX_FILE_HOST + model.imgSrc}}" alt="按钮图片"/>\n                    <a class="btn-main btn-picture" ng-click="openImageModal()">更换图片</a>\n                </div>\n            </div>\n            <div class="form-list clearfix" style="position: relative;">\n                <label for="externalRadio" class="form-label">\n                    <input type="radio" name="externalRadio" id="externalRadio" ng-model = "model.url.link" value="external" ng-change = "changed()" style="margin:0px;">网站地址：\n                </label>\n                <div class="form-input">\n                    <input class = "" style="height:35px;width:300px;" type="text" ng-model = "model.url.externalLink" name="externalLink" id="externalLink" placeholder = "网站地址" ng-disabled = "url.link == \'internal\'" ng-change = "selectRadio(\'external\')"  limit-link-length stop-propagation/>\n                    <a style = "font-size: 16px;display: inline-block; margin-top: 5px;background-image: url(\'assets/images/create/delete.png\'); width: 14px; height: 14px;" ng-show = "url.link == \'external\'" class = "delete-link" ng-click = "removeLink(\'external\')"></a>\n                </div>\n                <a href="http://dwz.cn/" style="text-decoration: underline;color: #08A1EF;position: absolute;top: 10px;right: -30px;" target="_blank">生成短链接</a>\n            </div>\n            <div class="form-list clearfix">\n                <label for="internalRadio" class="form-label">\n                    <input type="radio" name="internalRadio" id="internalRadio" value="internal" ng-model = "model.url.link" ng-change = "changed()" style="margin:0px;">场景页面：\n                </label>\n                <div class="form-input">\n                    <select style = "width:300px;" ng-model="model.url.internalLink" ng-options="page.id as page.name for page in pageList" ng-disabled = "url.link == \'external\'" ng-change = "selectRadio(\'internal\')"></select>\n                    <a style = "display: inline-block;font-size: 16px; background-image: url(\'assets/images/create/delete.png\'); width: 14px; height: 14px;" ng-show = "url.link == \'internal\'" ng-click = "removeLink(\'internal\')"></a>\n                </div>\n            </div>\n        </form>\n    </div>\n</div>\n<div class="btn-contain btn-small">\n    <a class="btn-main login" ng-click="confirm()">确定</a>\n    <a class="btn-grey0 cancel" ng-click="cancel()">取消</a>\n</div>')
    }
    ]),
    b.module("scene/console/link.tpl.html", []).run(["$templateCache", function(a) {
        a.put("scene/console/link.tpl.html", '<div class="dialog-contain">\n    <div class="dialog-head">\n        <h1>链接组件</h1>\n        <p style="margin-top:0">可以链接到场景其他页面或者链接网站地址</p>\n    </div>\n	<div class = "link-modal dialog-content">\n		<form class="form-contain">\n			<div class="form-list clearfix">\n	            <label for="externalRadio" class="form-label">\n	            	<input type="radio" name="externalRadio" id="externalRadio" ng-model = "url.link" value="external" ng-change = "changed()" style="margin:0px;">网站地址：\n				</label>\n	            <div class="form-input">\n	                <input class = "" style="height:35px;width:300px;" type="text" ng-model = "url.externalLink" name="externalLink" id="externalLink" placeholder = "网站地址" ng-disabled = "url.link == \'internal\'" ng-change = "selectRadio(\'external\')"  limit-link-length/>\n					<a style = "font-size: 16px;display: inline-block; margin-top: 5px;background-image: url(\'assets/images/create/delete.png\'); width: 14px; height: 14px;" ng-show = "url.link == \'external\'" class = "delete-link" ng-click = "removeLink(\'external\')"></a>\n	            </div>\n				<a href="http://dwz.cn/" style="text-decoration: underline;color: #08A1EF;position: absolute;top: 10px;right: -30px;" target="_blank">生成短链接</a>\n	        </div>\n	        <div class="form-list clearfix">\n	            <label for="internalRadio" class="form-label">\n	            	<input type="radio" name="internalRadio" id="internalRadio" value="internal" ng-model = "url.link" ng-change = "changed()" style="margin:0px;">场景页面：\n				</label>\n				<div class="form-input">\n					<select style = "width:300px;" ng-model = "url.internalLink" ng-options = "page.name for page in pageList" ng-disabled = "url.link == \'external\'" ng-change = "selectRadio(\'internal\')"></select>\n					<a style = "display: inline-block;font-size: 16px; background-image: url(\'assets/images/create/delete.png\'); width: 14px; height: 14px;" ng-show = "url.link == \'internal\'" ng-click = "removeLink(\'internal\')"></a>					\n				</div>\n	        </div>\n		</div>\n	</div>\n</div>\n<div class = "btn-contain btn-small">\n	<a class = "btn-main login" ng-click = "confirm()">确定</a>\n	<a class = "btn-grey0 cancel" ng-click = "cancel()">取消</a>\n</div>')
    }
    ]),
    b.module("scene/console/map.tpl.html", []).run(["$templateCache", function(a) {
        a.put("scene/console/map.tpl.html", '<div class="map_console">\n	<div id="l-map"></div>\n	<div class="search_area">\n		<div class="input-group">\n		  <input type="text" class="form-control" ng-model="search.address" ng-keyup="$event.keyCode == 13 ? searchAddress() : null" placeholder="请输入地名">\n		  <span class="input-group-btn">\n		    <button ng-click="searchAddress()" class="btn btn-default" type="button">搜索</button>\n		  </span>\n		</div><!-- /input-group -->\n		<div id="r-result">\n			<ul class="list-group">\n				<li class="list-group-item" ng-repeat="address in searchResult" ng-click="setPoint(address.point.lat, address.point.lng, address.address)">\n					{{address.address}}	\n				</li>\n			</ul>\n		</div>\n	</div>\n</div>\n<div class="modal-footer">\n    <a class="btn-main login" style="width: 88px;" ng-click="resetAddress()">确定</a>\n    <a class="btn-grey0 cancel" style="width: 88px;" ng-click="cancel()">取消</a>\n</div>')
    }
    ]),
    b.module("scene/console/microweb.tpl.html", []).run(["$templateCache", function(a) {
        a.put("scene/console/microweb.tpl.html", '<div class="button_console">\n	<div class="modify_area">\n		<div>导航样式:\n			<ul>\n				<li ng-click = "selectColor(color)" ng-class = "{colorborder: model.color == color.backgroundColor}" style = "display: inline-block; margin: 10px;" ng-repeat = "color in backgroundColors"><div style = "width: 50px; height: 30px; margin: 10px; cursor:pointer;" ng-style = "color"></div></li>\n			</ul>\n		</div>\n	</div>\n	<div class = "divider" style = "margin-top: 10px; height: 1px; background: #ccc;"></div>\n	<div class="modify_area">\n		<div>\n			<ul class="clearfix" style="left:50%;margin-left:-160px;position:relative;height:65px;">\n				<li class = "title_color" ng-class = "{colorborder:labelIndex == $index && labelName.mousedown,selectedcolor: labelName.selected,whitecolor: labelName.color.backgroundColor == \'#fafafa\'}" ng-click = "switchLabel(labelName, $index)" style = "display: inline-block;float:left;" ng-repeat = "labelName in labelNames"><div style = "margin: 10px; width:50px; height: 30px;line-height:30px; border: 1px solid #ccc; cursor: pointer;" ng-style = "labelName.color">{{labelName.title}}</div></li>\n			</ul>\n		</div>\n		<span class="label">导航名称：</span>\n		<input type="text" ng-model="model.title" ng-change = "changeLabelName()" ng-keyup="$event.keyCode == 13 ? confirm() : null" placeholder = "导航名称" maxlength = "4"/>\n	</div>\n\n	<div class="modify_area">\n		<span class="label">链接页面：</span>\n		<select style = "width: 181px; height: 30px; display: inline-block;" ng-model = "model.link" ng-options = "page.name for page in pageList" ng-change = "selectLink(model.link)"></select>\n	</div>\n\n	<div class="modify_area" style = "color: #ff0000">\n		至少选择两个标签，并分别添加链接\n	</div>\n	\n</div>\n<div class="modal-footer">\n    <a class="btn-main login" style="width: 88px;" ng-click="confirm()">确定</a>\n    <a class="btn-grey0 cancel" style="width: 88px;" ng-click="cancel()">取消</a>\n</div>')
    }
    ]),
    b.module("scene/console/pictures.tpl.html", []).run(["$templateCache", function(a) {
        a.put("scene/console/pictures.tpl.html", '<div class="dialog-contain ">\n    <div class="dialog-head">\n        <h1>图集组件</h1>\n        <p ng-show=\'!authError\'>图集中可以添加多张图片</p>\n        <p ng-show=\'authError\'>{{authError}}</p>\n    </div> \n    <div class="pic-contain">\n        <div class="pic-head clearfix pic-same">\n            <div class="select-img">\n                <a ng-click="choosePic()">选择图片</a>\n                <span>最多可选择6张图片</span>\n            </div>\n            <div class="select-style clearfix">\n                <select ng-model="properties.picStyle" ng-options="pic.desc for pic in picStyles">\n                    <!--<option value ="">图片轮播</option>-->\n                    <!--<option value ="">翻书效果</option>-->\n                    <!--<option value="">轮播效果</option>-->\n                    <!--<option value="">上下效果</option>-->\n                </select>\n                <span class="bg-color" ng-style="{\'background-color\': properties.bgColor}"></span>\n                <span class="select-bg-color" colorpicker="rgba" ng-model="properties.bgColor">背景颜色</span>\n            </div>\n        </div> \n        <div class="pic-img-list pic-same">\n            <ul class="clearfix">\n                <li eqx-pictures-image-click ng-class="{hover: currentImageIndex === $index}" ng-repeat="img in properties.children track by $index">\n                    <img class="pic-img" ng-src="{{PREFIX_FILE_HOST + img.src}}"/>\n                    <i class="delete-img"><img ng-src="{{CLIENT_CDN}}assets/images/bg_07.png" /></i>\n                </li>\n            </ul>\n        </div>\n        <div class="pic-preview" ng-style="{\'background-color\': properties.bgColor, width: position.width, height: position.height}">\n            <!--<img eqx-image-crop ng-src="{{CLIENT_CDN}}assets/images/scene6.jpg" />\n            <div class="operation">\n                <a class="quxiao ">取消</a><a class="finish">完成</a>\n            </div>\n            <div class="shape">\n                <span><a>自由裁切</a>|<a>正方形</a>|<a>标准</a></span>\n            </div>-->\n        </div>\n        <div class="operation-pre">\n            <!--<a class="enhance">增强</a><a class="rotation">旋转</a>--><a class="cut" eqx-pictures-image-crop>裁切</a>\n        </div>\n        <div class="pic-same pic-play clearfix">\n            <div class="set-play clearfix">\n               <!--  class=on  开启 off 关闭 -->\n                <span ng-show="properties.autoPlay"><span class="button on" ng-click="properties.autoPlay = false"><i></i></span>已开启自动播放</span>\n                <span ng-show="!properties.autoPlay"><span class="button off" ng-click="properties.autoPlay = true"><i></i></span>已关闭自动播放</span>\n            </div>\n            <div class="btn-content btn-contain" style="padding:0">\n                <a class="btn-grey0 cancel" style="margin-right:8px;" ng-click="cancel()">取消</a>\n                <a class="btn-main login" ng-click="ok()">确定</a>\n            </div>\n        </div>\n    </div>\n</div>')
    }
    ]),
    b.module("scene/console/pictures1.tpl.html", []).run(["$templateCache", function(a) {
        a.put("scene/console/pictures1.tpl.html", '<div class="dialog-contain cropimage">\n    <div class="dialog-head">\n        <h1>{{imageOption.title}}</h1>\n        <a class="bbs-help-tip-media" target="_blank" href="http://www.48ym.com/forum.php?mod=viewthread&tid=1938&page=1&extra=#pid6709">\n            <span class="eqf-exclaquestion-sign"></span></a>\n        <p style="margin-top:0">{{imageOption.desc}}</p>\n    </div>\n    <div class="crop-content dialog-content clearfix">\n        <div class="image-con" style="width:100%" ng-hide="imageOption.showCrop">\n            <div class="add-img" ng-click="addPictures($event, 0, \'first\')">点击此处，添加图片<p style="padding-top: 5px;font-size: 14px;">（最多可添加6张图片）</p></div>\n        </div>\n        <div class="clearfix" ng-show="imageOption.showCrop">\n            <div class="picture-img">\n                <div class="image_crop" ng-class="{\'bg-crop\': !cropOption.showItems}">\n                    <img id="img_preview" eqx-pictures-crop-preview index="{{imageOption.currentImage.index}}" ng-src="{{imageOption.currentImage.src ? PREFIX_FILE_HOST + imageOption.currentImage.src : \'\'}}">\n                    <!--<a class="eqf-left nav-left"></a>-->\n                    <!--<a class="eqf-right nav-right"></a>-->\n                </div>\n                <div class="img-abbre">\n                    <ul class="clearfix">\n                        <li ng-repeat="child in properties.children" ng-class="{active: imageOption.currentImage.index === $index}" ng-style="{\'background-image\':  child.src ? \'url(\' + PREFIX_FILE_HOST + child.src + \')\' : \'\'}" ng-click="changePicture($index)">\n                            <div class="img-set" ng-show="child.src.length">\n                                <div class="delete-img hint--top hint--rounded" data-hint="删除图片" ng-click="delPicture($index)">\n                                    <span class="eqf-no"></span>\n                                </div>\n                                <div class="abbre hint--bottom hint--rounded" data-hint="更换图片" ng-click="addPictures($event, $index)">\n                                    <span class="eqf-top-pic"></span>\n                                </div>\n                            </div>\n                            <p class="eqf-plus2" ng-hide="child.src.length" ng-click="addPictures($event, $index, \'more\')"></p>\n                        </li>\n                    </ul>\n                </div>\n            </div>\n            <div class="cut-size picture-size" ng-show="cropOption.showItems">\n                <ul>\n                    <li ng-repeat="item in cropOption.cropItems">\n                        <input type="radio" id="{{item.desc}}" name="cropSize" ng-model="cropOption.currentItem" ng-value="item" ng-change="cropItemChange(item)">\n                        <label for="{{item.desc}}">{{item.desc}}</label>\n                        <span ng-if="item.lock != null">\n                            <input type="checkbox" id="lock" ng-model="item.lock" ng-change="cropItemChange(item)">\n                            <label for="lock">锁定</label>\n                        </span>\n                    </li>\n                </ul>\n                <ul style="margin-top:10px;" class="picture-set">\n                    <li class="clearfix"><span class="switch-circle on" ng-class="{on: properties.autoPlay, off: !properties.autoPlay}" ng-click="properties.autoPlay = !properties.autoPlay"><i></i></span>{{properties.autoPlay ? \'自动切换\' : \'手动切换\'}}</li>\n                    <li><p>切换时间：{{properties.interval / 1000}}秒</p></li>\n                    <li class="switch-time" style="padding-top: 5px;">\n                        <div ui-slider step="1000" min="1000" max="5000" ng-model="properties.interval" ng-class="{disable: !properties.autoPlay}"></div>\n                        <div class="time-mark" ng-hide="properties.autoPlay"></div>\n                    </li>\n                    <li><p>切换动画</p></li>\n                    <li>\n                        <select style="width:100%" ng-model="properties.picStyle" ng-options="pic.desc for pic in picStyles"></select>\n                    </li>\n                </ul>\n            </div>\n        </div>\n    </div>\n    <div class="btn-contain btn-small">\n        <a class="btn-main login" ng-click="ok()" ng-show="imageOption.showCrop">确定</a>\n        <a class="btn-grey0 cancel" ng-click="cancel()" ng-style="{\'margin-left\': imageOption.showCrop ? 25 : 0}">取消</a>\n    </div>\n</div>\n<div class="loading-mask" ng-show="imageOption.showLoading">\n    <img ng-src="{{CLIENT_CDN}}assets/images/oval.svg">\n</div>')
    }
    ]),
    b.module("scene/console/radio-checkbox.tpl.html", []).run(["$templateCache", function(a) {
        a.put("scene/console/radio-checkbox.tpl.html", '<div class="dialog-contain ">\n    <div class="dialog-head">\n        <h1>{{model.type ==\'r\' ? \'单选\':\'多选\'}}框组件</h1>\n        <a ng-show="model.type ==\'r\'" class="bbs-help-tip-media" target="_blank" href="http://www.48ym.com/forum.php?mod=viewthread&tid=9374&extra="><span class="eqf-exclaquestion-sign"></span></a>\n        <a ng-show="model.type ==\'c\'" class="bbs-help-tip-media" target="_blank" href="http://www.48ym.com/forum.php?mod=viewthread&tid=9375&extra="><span class="eqf-exclaquestion-sign"></span></a>\n        <p ng-show =\'!authError\'>最多可以添加八个{{model.type ==\'r\' ? \'单选\':\'多选\'}}选项</p>\n        <p ng-show = \'authError\'>{{authError}}</p>\n    </div>\n    <div class="modify_area  tel_title tab-same clearfix" style="padding-left:30px;">\n		<span ng-repeat = "button in buttons" ng-class = "{spanborder: $index == btnIndex}">\n			<a ng-style = "button.btnStyle" ng-click = "chooseTabButton(button, $index)">\n                <input type="radio" ng-if="model.type == \'r\'" style="margin-top: -1px;"/>\n                <input type="checkbox" ng-if="model.type == \'c\'" style="margin-top: -1px;"/>\n                <span>{{model.type ==\'r\' ? \'单选\':\'多选\'}}选项</span>\n            </a>\n		</span>\n    </div>\n    <div class="form_console dialog-content input-content">\n        <div class="input-preview" style="border-color:  {{buttons[btnIndex].btnStyle.borderColor}}">\n            <div class="preview-title" ng-style="buttons[btnIndex].properties.titleStyle">{{model.title?model.title:\'标题演示\'}}</div>\n            <div class="preview-options" >\n                <div class="preview-option" ng-repeat="option in model.options" ng-style="buttons[btnIndex].properties.optionStyle">\n                    <input type="radio" disabled ng-if="model.type == \'r\'" style="margin-top: -1px;"/>\n                    <input type="checkbox" disabled ng-if="model.type == \'c\'" style="margin-top: -1px;"/>\n                    <span>{{option.label}}</span>\n                </div>\n            </div>\n        </div>\n        <div class="modify_area input-design">\n            <div class="input-title">\n                <div>\n                    <span class="title">标题</span>\n                    <span class="title-tip">{{model.title.length}}/42</span>\n                </div>\n                <textarea class="form-control" ng-model="model.title" placeholder="请输入标题" id="radioTitle" rows="3" maxlength="42" stop-propagation autofocus style="width: 400px;"></textarea>\n                <span style="position: relative;display: inline-block;vertical-align: middle;height: 74px;line-height: 74px;">\n                    <label for="checkbox_required" style="font-weight: lighter; margin:0;font-size:12px;position: absolute;width: 47px;">\n                        <input type="checkbox" id="checkbox_required" ng-model="model.required" ng-true-value="required" style="margin-top:0;margin-left:5px;" />必填\n                    </label>\n                </span>\n            </div>\n            <div class="input-options">\n                <div class="input-option">\n                    <span class="option">选项</span>\n                    <span class="option-tip">（您可以添加八个选项，每个选项最多请不要超过42字）</span>\n                </div>\n                <div id="optionGroupContainer" class="option-group-container" style="position:relative;">\n                    <div class="option-group" ng-repeat="option in model.options">\n                        <textarea class="option-label form-control" rows="2" ng-model="option.label" maxlength="42" stop-propagation></textarea>\n                        <div class="operations">\n                            <span class="eqf-delete2" ng-click="deleteTheOption($index)"></span>\n                            <span class="eqf-plus" ng-click="addNewOption($index)"></span>\n                        </div>\n                    </div>\n                </div>\n                <div class="input-tip clearfix">\n                    <span class="add-option" ng-click="addNewOption(model.options.length)">\n                        <span class="eqf-plus2"></span>增加选项</span>\n                    <span class="page-indicator">{{model.options.length}}/8</span>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n<div class="btn-contain btn-small">\n    <a class="btn-main login" ng-click="confirm()">确定</a>\n    <a class="btn-grey0 cancel" ng-click="cancel()">取消</a>\n</div>');
    }
    ]),
    b.module("scene/console/randomevent.tpl.html", []).run(["$templateCache", function(a) {
        a.put("scene/console/randomevent.tpl.html", '<div class="dialog-contain">\n    <div class="dialog-head">\n        <h1>随机事件</h1>\n        <p ng-show="!authError">可以从素材库中添加图片</p>\n        <p ng-show="authError">{{authError}}</p>\n    </div>\n    <div class="dialog-content">\n        <ul>\n            <li ng-click="choosePic()" ng-hide="picList.length >= 10">\n                <a href="">添加</a>\n            </li>\n            <li ng-repeat="pic in picList">\n                <div class="img-set">\n                    <div class="delete-img hint--top hint--rounded" data-hint="删除图片" ng-click="delImage($index)">\n                        <span class="eqf-no"></span>\n                    </div>\n                    <div class="abbre hint--bottom hint--rounded" data-hint="更换图片" ng-click="replaceImage($index)">\n                        <span class="eqf-top-pic"></span>\n                    </div>\n                </div>\n                <img ng-src="{{PREFIX_FILE_HOST + pic.src}}" responsive-image />\n            </li>\n        </ul>\n    </div>\n</div>\n<div class="btn-contain btn-small">\n    <a class="btn-main login" ng-click="confirm()">确定</a>\n    <a class="btn-grey0 cancel" ng-click="cancel()">取消</a>\n</div>')
    }
    ]),
    b.module("scene/console/rating.tpl.html", []).run(["$templateCache", function(a) {
        a.put("scene/console/rating.tpl.html", '<div class="dialog-contain rating-content">\n    <div class="dialog-head">\n        <h1>评分</h1>\n        <a class="bbs-help-tip-media" target="_blank" href="http://www.48ym.com/forum.php?mod=viewthread&tid=9376&extra="><span class="eqf-exclaquestion-sign"></span></a>\n        <p ng-show = \'!authError\'>请输入少于12个字的评分标题</p>\n        <p ng-show = \'authError\'>{{authError}}</p>\n    </div>\n    <div class="tab-same">\n        <span ng-class="{\'spanborder\': model.properties.icon == \'eqf-star\'}">\n            <a ng-click="chooseEqfont(\'eqf-star\')"><span class="eqf-star"></span></a>\n        </span>\n        <span ng-class="{\'spanborder\': model.properties.icon == \'eqf-love\'}">\n            <a ng-click="chooseEqfont(\'eqf-love\')"><span class="eqf-love"></span></a>\n        </span>\n        <span ng-class="{\'spanborder\': model.properties.icon == \'eqf-roll\'}">\n            <a ng-click="chooseEqfont(\'eqf-roll\')"><span class="eqf-roll"></span></a>\n        </span>\n        <span ng-class="{\'spanborder\': model.properties.icon == \'eqf-flower\'}">\n            <a ng-click="chooseEqfont(\'eqf-flower\')"><span class="eqf-flower"></span></a>\n        </span>\n    </div>\n    <div class="form_console dialog-content rating-preview-design">\n        <div class="comp_rating rating rating-preview">\n            <div class="rating-title">{{model.title?model.title:\'预览标题\'}}</div>\n            <div class="rating-icons">\n                <span class="{{model.properties.icon}} {{model.properties.size}}" ng-style="{color: model.properties.color}"></span>\n                <span class="{{model.properties.icon + \'-line\'}} {{model.properties.size}}" ng-style="{color: model.properties.color}"></span>\n                <span class="{{model.properties.icon + \'-line\'}} {{model.properties.size}}" ng-style="{color: model.properties.color}"></span>\n                <span class="{{model.properties.icon + \'-line\'}} {{model.properties.size}}" ng-style="{color: model.properties.color}"></span>\n                <span class="{{model.properties.icon + \'-line\'}} {{model.properties.size}}" ng-style="{color: model.properties.color}"></span>\n            </div>\n        </div>\n        <div class="modify_area rating rating-design">\n            <div class="rating-group">\n                <span class="title">标题</span>\n                <div class="rating-choice">\n                    <input type="text" class="form-control" ng-model="model.title" placeholder="评分：" maxlength="12" id="ratingTitle" stop-propagation autofocus/>\n                    <span class="title-tip">{{model.title.length}}/12</span>\n                    <span style="display: inline-block;position: relative;vertical-align: middle;height: 35px;line-height: 35px;">\n                        <label for="checkbox_required" style="font-weight: lighter; margin:0;font-size:12px;position: absolute;width: 50px;">\n                            <input type="checkbox" id="checkbox_required" ng-model="model.properties.required" ng-true-value="required" style="margin-top:0;margin-left:5px;" class="ng-pristine ng-valid">必填\n                        </label>\n                    </span>\n                </div>\n            </div>\n            <div class="rating-group">\n                <span class="title" style="vertical-align: top;line-height: 28px;height: 28px;">颜色</span>\n                <div class="rating-choice">\n                    <eqd-input-color select-color="model.properties.color" default-color="\'rgba(255, 147, 7, 1)\'" x="24" stop-propagation></eqd-input-color>\n                    <!--<a class="color-picker" ng-style="{backgroundColor: model.properties.color}" ng-model="model.properties.color" colorpicker="rgba" ></a>-->\n                    <!--<input class="color-picker-input" ng-model="model.properties.color" type="text" stop-propagation/>-->\n                </div>\n            </div>\n            <div class="rating-group">\n                <span class="title">大小</span>\n                <div class="rating-choice">\n                    <div class="btn-group">\n                        <label class="btn btn-rating" ng-model="model.properties.size" btn-radio="\'rating-l\'">大</label>\n                        <label class="btn btn-rating" ng-model="model.properties.size" btn-radio="\'rating-m\'">中</label>\n                        <label class="btn btn-rating" ng-model="model.properties.size" btn-radio="\'rating-s\'">小</label>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n<div class="btn-contain btn-small">\n    <a class="btn-main login" ng-click="confirm()">确定</a>\n    <a class="btn-grey0 cancel" ng-click="cancel()">取消</a>\n</div>')
    }
    ]),
    b.module("scene/console/scene-setting-component.tpl.html", []).run(["$templateCache", function(a) {
        a.put("scene/console/scene-setting-component.tpl.html", '<div class="scene-setting-component">\n    <div class="setting-bg" ng-click="$parent.sceneSetting.showFlag = false"></div>\n    <div class="scene-setting-info fade">\n        <div class="alert alert-warning" role="alert" ng-if="invalidText">\n            {{invalidText}}\n        </div>\n        <form class="form-horizontal" role="form" name="myForm" novalidate>\n            <div class="basic-setting clearfix">\n                <div class="title">\n                    <h2 title="场景基本信息设置">基本设置</h2>\n                </div>\n                <div class="content clearfix">\n                    <div class="basic-info clearfix">\n                        <div class="left">\n                            <div class="cover-img">\n                                <a ng-click = "openImageModal()">\n                                    <img style="width:150px; height:150px;" ng-src="{{PREFIX_FILE_HOST +  scene.cover}}" />\n                                    <em>更换封面</em>\n                                </a>\n                            </div>\n                        </div>\n                        <div class="right">\n                            <div class="setting-group setting-name">\n                                <label for="name" class="setting-label">场景名称</label>\n                                <div class="setting-value">\n                                    <input name = "name" type="text" class="form-control name" id="name" placeholder="场景名称" ng-model="scene.name" stop-propagation>\n                                </div>\n                            </div>\n                            <div class="setting-group setting-description">\n                                <label for="description" class="setting-label">场景描述</label>\n                                <div class="setting-value">\n                                    <textarea ng-model = "scene.description" class="description form-control" rows="2" id = "description" name = "description" ng-change="maxLength30()" placeholder="你可以写下30个汉字或60个英文字符的场景描述哦！" stop-propagation></textarea>\n                                </div>\n                            </div>\n                            <div class="setting-group">\n                                <label for="type" class="setting-label">场景类型</label>\n                                <div class="setting-value">\n                                    <select ng-model="scene.type" ng-options="scenetype.value as scenetype.name for scenetype in types" id = "type" class = "scene-type form-control"></select>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                             </div>\n            </div>\n                    </form>\n        <div class="setting-operations">\n            <a ng-click="cancelSceneSetting()" class="btn-grey0 cancel">取消</a>\n            <a ng-click="publishScene()" style="margin-left: 30px;" class="btn-main save">发布</a>\n        </div>\n    </div>\n</div>')
    }
    ]),
    b.module("scene/console/setting.tpl.html", []).run(["$templateCache", function(a) {
        a.put("scene/console/setting.tpl.html", '<div id="comp_setting">\n		<div class="style_head clearfix">\n		<ul class="clearfix">\n			<li><a ng-click="activeTab = \'style\'" ng-class="{hover:activeTab == \'style\'}">样式</a></li>\n			<li><a ng-click="activeTab = \'anim\'" ng-class="{hover:activeTab == \'anim\'}">动画</a></li>\n					</ul>\n	</div>\n	<div class="style_content">\n		<div ng-include="\'scene/console/anim.tpl.html\'"></div>\n		<div ng-include="\'scene/console/style.tpl.html\'"></div>\n		<div ng-include="\'scene/console/trigger.tpl.html\'"></div>\n	</div>		\n	\n</div>')
    }
    ]),
    b.module("scene/console/shape.tpl.html", []).run(["$templateCache", function(a) {
        a.put("scene/console/shape.tpl.html", '<div class="dialog-contain ">\n    <div class="dialog-head">\n        <h1>形状组件</h1>\n        <p>你可以从形状库中选择喜欢得形状添加到页面</p>\n    </div>\n    <div class="dialog-content bg_console clearfix" style="background-color:#fff;">\n        <div class="svg-panel" render-shape-element>\n            <ul></ul>\n        </div>\n        <div class="fanye_foot clearfix">\n            <div class="pagination_container fl">\n                <pagination style="float: left" previous-text="&lsaquo;" next-text="&rsaquo;" first-text="首页" last-text="尾页" max-size="5" items-per-page="pageSize" total-items="totalItems" ng-model="$parent.currentPage" boundary-links="true" rotate="true" num-pages="numPages"></pagination>\n                <div class="current_page">\n                    <input type="text" ng-model="$parent.toPage" ng-keyup="$event.keyCode == 13 ? getImgByPage() : null">\n                    <a ng-click="getImgByPage()" class="go">GO</a>\n                    <span>当前: {{currentPage}} / {{numPages}} 页</span>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n<div class="btn-contain btn-small">\n    <a class="btn-main login" ng-click="confirm()">确定</a>\n    <a class="btn-grey0 cancel" ng-click="cancel()">取消</a>\n</div>');
    }
    ]),
    b.module("scene/console/sound-component.tpl.html", []).run(["$templateCache", function(a) {
        a.put("scene/console/sound-component.tpl.html", '<div class="dialog-contain ">\n    <div class="dialog-head">\n        <h1>音效组件</h1>\n        <a class="bbs-help-tip-media" target="_blank" href="http://www.48ym.com/forum.php?mod=viewthread&tid=10990&extra="><span class="eqf-exclaquestion-sign"></span></a>\n        <p ng-show=\'!authError\'>音效不能大于100kb</p>\n        <p ng-show=\'authError\'>{{authError}}</p>\n    </div>\n    <div class="modify_area  tel_title tab-same clearfix">\n		<span ng-repeat = "button in buttons track by $index" ng-class = "{spanborder: $index == btnIndex}">\n			<!-- <a ng-class = "{btn1: $index==0, btn2: $index == 1, btn3: $index ==2, btn4: $index ==3}" ng-click = "chooseTelButton(button, $index, $event)" selected><span class = "glyphicon glyphicon-earphone"></span>{{button.text}}</a> -->\n			<a ng-style = "button.btnStyle" ng-click = "chooseTabButton(button, $index)">{{button.text}}</a>\n		</span>\n        <div ng-class="{\'spanborder\': model.imgSrc}" class="auto-upload hint--top hint--rounded" data-hint="上传图片大小不超过3M，支持上传格式：jpg、png、gif" ng-click="openImageModal()">\n            <em class="eqf-upload" style="font-size:16px;"></em><em>自定义</em>\n        </div>\n    </div>\n    <div class="button_console dialog-content">\n        <form class="form-contain" form="role">\n            <div class="form-list clearfix" ng-if="!model.imgSrc">\n                <label for="buttonName" class="form-label">按钮名称：</label>\n                <div class="form-input">\n                    <input id="buttonName" class="btn-name" type="text" ng-model="model.title" ng-keyup="$event.keyCode == 13 ? confirm() : null" autofocus stop-propagation/>\n                </div>\n            </div>\n            <div class="form-list clearfix" ng-if="model.imgSrc">\n                <label class="form-label">按钮图片：</label>\n                <div class="form-image btn-small">\n                    <img ng-src="{{PREFIX_FILE_HOST + model.imgSrc}}" alt="按钮图片"/>\n                    <a class="btn-main btn-picture" ng-click="openImageModal()">更换图片</a>\n                </div>\n            </div>\n            <div class="form-list clearfix">\n                <label for="btnSound" class="form-label">音效：</label>\n                <div class="form-input">\n                    <a id="btnSound" class="btn-main" ng-click="openSoundModal()">设置音效</a>\n                </div>\n            </div>\n            <div class="form-list clearfix" ng-show="model.sound.name">\n                <label class="form-label">已选择：</label>\n                <div class="form-input"><span>{{model.sound.name}}</span></div>\n            </div>\n        </form>\n    </div>\n</div>\n<div class="btn-content btn-contain btn-small">\n    <a class="btn-main login" ng-click="confirm()">确定</a>\n    <a class="btn-grey0 cancel" ng-click="cancel()">取消</a>\n</div>')
    }
    ]),
    b.module("scene/console/sound.tpl.html", []).run(["$templateCache", function(a) {
        a.put("scene/console/sound.tpl.html", '<div class="dialog-contain ">\n    <div class="dialog-head">\n        <h1 ng-if="type == 4">音效设置</h1>\n        <h1 ng-if="type == 2">音乐素材</h1>\n        <p ng-show=\'type == 4 && !selectSoundError\'>你可以从音效库中选择，也可以把你喜欢的音效上传使用(一次性最多上传6首)</p>\n        <p ng-show=\'type == 2 && !selectSoundError\'>选择音乐库中音乐或把喜欢的乐曲上传到我的音乐中(一次性最多上传6首)</p>\n        <p ng-show=\'selectSoundError\'>{{selectSoundError}}</p>\n    </div>\n    <div class="dialog-content bg_console clearfix" style="background-color:#E7E7E7;position:relative;">\n        <div ng-show="soundAction" style="position:absolute;left:0;right:0;top:0;bottom:0;background-color:#000;z-index: 1;opacity: 0.2">\n        </div>\n        <div class="sound-action-upload" ng-show="soundAction">\n            <p>可以通过右侧“添加外链”或“上传”按钮上传您喜爱的音乐，上传的音乐将被保存至服务器中，您可以随时随地访问并使用它们请确保上传的文件大小不超过4m，格式为mp3\n                请注意：文件大小会影响最终浏览效果，如果为了实现更加流畅的浏览和加载效果，请尽量减少文件大小。了解如何减少文件大小，请查看<a href="http://www.48ym.com/forum.php?mod=viewthread&tid=7505" target="_blank">如何裁剪音乐</a></p>\n            <div class="know">\n                <input type="checkbox" ng-model="actionShow" ng-change="isCheckbox(actionShow)">不再提示\n                <span style="position:relative;">\n                    <a class="btn-main">知道了</a>\n                    <input type="file" ng-click="closeAction()" nv-file-select="" uploader="uploader" multiple="multiple" style="width:90px;height: 35px;overflow: hidden;position: absolute;top:-10px;right: 0;left:10px;bottom:0;cursor: pointer;opacity:0;">\n                </span>\n            </div>\n        </div>\n\n        <div class="fl" style="width:100px;">\n            <ul class="nav nav-tabs tabs-left" style="padding-top:0;"><!-- \'tabs-right\' for right tabs -->\n                <li ng-class="{active: !isMySound}" ng-show="type == 2">\n                    <a ng-click="selectTab(false)">音乐库</a>\n                </li>\n                <li ng-class="{active: !isMySound}" ng-show="type == 4">\n                    <a ng-click="selectTab(false)">音效库</a>\n                </li>\n                <li ng-class="{active: isMySound}" ng-show="type == 2">\n                    <a ng-click="selectTab(true)">我的音乐</a>\n                </li>\n                <li ng-class="{active: isMySound}" ng-show="type == 4">\n                    <a ng-click="selectTab(true)">我的音效</a>\n                </li>\n                <li class="add-tag">\n                    <a ng-click="urlLink()"><span class="eqf-link3" style="color:#666;padding-right:10px;" ></span>添加外链</a>\n                </li>\n                <li class="my-bg-upload">\n                    <div class="my-upload-action" ng-if="alertAction" ng-click="popSoundAction()">\n                    </div>\n                    <div class="sound-upload form">\n                        <div class="form-menus">\n                            <div class="popover right">\n                                <div class="arrow"></div>\n                                <div class="popover-content" style="font-size:12px;">\n                                    链接如何减少文件大小，请查看<a style="padding:0;font-size:12px;display:inline;margin:0;height:20px;line-height:20px;border:none;color:#08a1ef!important" href="http://www.48ym.com/forum.php?mod=viewthread&tid=7505" target="_blank">如何裁剪音乐</a>\n                                </div>\n                            </div>\n                        </div>\n                        <span class="eqf-upload" ></span><em>上传</em>\n                        <input type="file" nv-file-select="" uploader="uploader" multiple="multiple" style="width:200px;height: 55px;overflow: hidden;position: absolute;top: 0;right: 0;left:0;bottom:0;cursor: pointer;opacity:0;">\n                    </div>\n                </li>\n            </ul>\n        </div>\n        <div class="fl bg-rig" style="min-height:396px;">\n            <div>\n                <audio style="margin: 25px 0 0 20px;height:30px;"  eqx-audio></audio>\n                <div style="margin-left: 20px; font-size: 14px; width: 540px;height:40px;line-height:40px;overflow:hidden">\n                    <span ng-show="sound.name">已选择：{{sound.name | maxLength: 17}}\n                    <a class="eqf-no" style="margin-left: 20px;" title="清除" ng-click="clear()"></a>\n                </span>\n                </div>\n            </div>\n            <div class="tab-content" id="bg_contain">\n                <div class="tab-pane tab-head active">\n                    <div class="tab-pane">\n                        <div class="img_list">\n                            <div class="sound-action" ng-show="actionContent">\n                                <p>可以通过右侧“添加外链”或“上传”按钮上传您喜爱的音乐，上传的音乐将被保存至服务器中，您可以随时随地访问并使用它们<br />\n                                    请确保上传的文件大小不超过4m，格式为mp3<br />\n                                    请注意：文件大小会影响最终浏览效果，如果为了实现更加流畅的浏览和加载效果，请尽量减少文件大小。了解如何减少文件大小，请查看<a href="http://www.48ym.com/forum.php?mod=viewthread&tid=7505" target="_blank">如何裁剪音乐</a></p>\n                            </div>\n                            <div class="sound-list clearfix" ng-show="!actionContent">\n                                <ul style="height:300px;overflow:hidden;">\n                                    <li style="cursor:pointer;" ng-class="{active: isSoundSelected(type, sound, s)}" ng-click="selectSound(s,type, isSoundSelected(type, sound, s))" ng-repeat="s in sounds">\n                                       <span>\n                                           <em>{{s.size}}</em>\n                                           <a class="sound eqf-play" title="{{s.isPlaying ? \'暂停\' : \'播放\'}}" ng-class="{\'eqf-play\': !s.isPlaying, \'eqf-stop\': s.isPlaying}" ng-click="playSound($event, $index)"></a>\n                                           <a class="del eqf-no" title="删除" ng-show="isMySound" ng-click="deleteMySound($event, $index)"></a>\n                                       </span>\n                                        <div class="linkName" title="{{s.name}}">{{s.name}}<em style="padding-left:10px;" class="eqf-link3" ng-show="s.isValue"></em></div>\n                                    </li>\n                                </ul>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class="img_list " style="padding-top:0;">\n                    <div class="fanye_foot sound-pagination clearfix">\n                        <div class="pagination_container fl" ng-show="pagination.totalItems > 10">\n                            <pagination style="float: left" previous-text="&lsaquo;" next-text="&rsaquo;" first-text="首页" last-text="尾页" max-size="5" items-per-page="pagination.pageSize" total-items="pagination.totalItems" ng-model="pagination.currentPage" ng-change="getSounds(pagination.currentPage)" boundary-links="true" rotate="true" num-pages="pagination.numPages"></pagination>\n                            <div class="current_page">\n                                <input type="text" ng-model="toPage" ng-keyup="$event.keyCode == 13 ? getSounds(toPage) : null">\n                                <a ng-click="getSounds(toPage)" class="go">GO</a>\n                                <span>当前: {{pagination.currentPage}} / {{pagination.numPages}} 页</span>\n                            </div>\n                        </div>\n                        <div style="text-align:right;">\n                            <a class="btn-grey0" ng-click="cancel()" style="margin-right:10px;">取消</a>\n                            <a class="btn-main" ng-click="ok()">确定</a>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>')
    }
    ]),
    b.module("scene/console/soundLink.tpl.html", []).run(["$templateCache", function(a) {
        a.put("scene/console/soundLink.tpl.html", '<div class="dialog-contain ">\n    <div class="dialog-head">\n        <h1>外部链接</h1>\n        <p ng-show=\'!authError\'>可从外部使用链接添加音乐</p>\n        <p ng-show = \'authError\'>{{authError}}</p>\n    </div>\n    <div class="dialog-content">\n        <form class="form-contain" role="form">\n            <div class="form-list audio_area clearfix">\n                <lable class="form-label">链接地址：</lable>\n                <div class="form-input">\n                    <input type="text" class="link" ng-model="soundLink.src" ng-click="selectLink()" placeholder="请输入mp3格式的音乐链接" />\n                </div>\n            </div>\n        </form>\n    </div>\n</div>\n<div class="btn-contain btn-small">\n    <a class="btn-main login" ng-click="confirm()">确定</a>\n    <a class="btn-grey0 cancel" ng-click="cancel()">取消</a>\n</div>')
    }
    ]),
    b.module("scene/console/style.tpl.html", []).run(["$templateCache", function(a) {
        a.put("scene/console/style.tpl.html", '<div ng-if="activeTab == \'style\'" ng-controller="StyleConsoleCtrl">\n	<div class="yangshi">\n		<section>\n			<div class="style_list" ng-init="showBasic=true" ng-click="showBasic = !showBasic; showBorder = false; showShadow = false;">\n				<b class="caret" ng-show="showBasic"></b><b class="caret off" ng-show="!showBasic"></b>基础样式\n			</div>\n			<div ng-show="showBasic"  class="style_con_hei">\n				<div class="style_list_angel clearfix">\n					<label>背景颜色</label>\n					<div class="color_select clearfix">\n						<a class="input_kuang flo_lef" ng-style="{backgroundColor: model.backgroundColor}" ng-model="model.backgroundColor" colorpicker="rgba" ></a>\n			    		<input class=" flo_right" style="width:115px;" style-input elem-id="{{elemDef.id}}" ng-model="model.backgroundColor" css-item="backgroundColor" type="text" />\n			    	</div>\n				</div>\n				<div class="style_list_angel clearfix" ng-show="elemDef.type == \'2\' ||elemDef.type == \'8\' || (\'\'+elemDef.type).charAt(0) == \'6\' || elemDef.type == \'r\' || elemDef.type == \'c\' || elemDef.type == \'h\'">\n			  		<label>文字颜色</label>\n			  		<div class="color_select clearfix">\n			  			<a class="input_kuang flo_lef" ng-style="{backgroundColor: model.color}" ng-model="model.color" colorpicker="rgba" ></a>\n			  			<input class=" flo_right" style="width:115px;" style-input elem-id="{{elemDef.id}}" ng-model="model.color" css-item="color" type="text" />\n			    	</div>\n			  	</div>\n				<div class="style_list_angel clearfix">\n					<label>透明度</label>\n					<div class="touming clearfix">\n				  		<p class="num"><input class="short" type="number" min="0" max="100" limit-input style-input elem-id="{{elemDef.id}}" css-item="opacity" ng-model="model.opacity"/></p>\n						<div style="width: 100px;" ui-slider min="0" max="100" ng-model="model.opacity"></div>\n				  	</div>\n			  	</div>				  	\n			  	<div class="style_list_angel clearfix" ng-show="elemDef.type == \'8\' || (\'\'+elemDef.type).charAt(0) == \'6\' || elemDef.type == \'2\' || (\'\'+elemDef.type).charAt(0) == \'5\'">\n			  		<div>\n						<label>边距</label>\n						<div class="touming clearfix">\n					  		<p class="num"><input class="short" min="0" max="20" limit-input class="input_kuang short" type="number" style-input css-item="padding" ng-model="model.paddingTop"/></p>				\n					  		<div style="width: 100px;" ui-slider min="0" max="20" ng-model="model.paddingTop"></div>\n					  	</div>\n					</div>\n				</div>\n				<div class="style_list_angel clearfix" ng-show="elemDef.type == \'8\' || (\'\'+elemDef.type).charAt(0) == \'6\' || elemDef.type == \'2\' || (\'\'+elemDef.type).charAt(0) == \'5\'">\n					<div>\n						<label>行高</label>\n						<div class="touming clearfix">\n					  		<p class="num"><input class="short" min="0" max="3" limit-input step="0.1" class="input_kuang short" type="number" style-input css-item="lineHeight" ng-model="model.lineHeight"/></p>			\n					  		<div style="width: 100px;" use-decimals step="0.1" ui-slider min="0" max="3" ng-model="model.lineHeight"></div>\n					  	</div>\n					</div>\n				</div>								\n			</div>\n		</section>\n		<section>\n			<div class="style_list" ng-init="showBorder=true"  ng-click="showBorder = !showBorder; showBasic=false;showShadow=false;">\n				<b class="caret" ng-show="showBorder"></b><b class="caret off" ng-show="!showBorder"></b>边框样式\n			</div>\n			<div ng-show="showBorder" class="style_con_hei">\n				<div class="style_list_angel clearfix">\n					<label>边框尺寸</label>\n					<div class="touming clearfix">\n				  		<p class="num"><input class="input_kuang short" limit-input type="number" min="0" max="20" style-input css-item="borderWidth" ng-model="model.borderWidth"/></p>				\n				  		<div style="width: 100px;" ui-slider min="0" max="20" ng-model="model.borderWidth"></div>\n				  	</div>\n				</div>\n				<div class="style_list_angel clearfix">\n			  		<label>边框弧度</label>\n			    	<div class="touming clearfix">\n			    		<p class="num"><input class="input_kuang short" type="number" min="0" max="{{maxRadius}}" limit-input style-input css-item="borderRadius" ng-model="model.borderRadius" /></p>  		\n				  		<div class="num" style="width:100px;" ui-slider min="0" max="{{maxRadius}}" ng-model="model.borderRadius"></div>\n			    	</div>\n			  	</div>	\n				<div class="style_list_angel clearfix">\n					<label>边框样式</label>\n					<div class="touming">\n						<select style="border:1px solid #ccc;height:20px;" style-input css-item="borderStyle" ng-model="model.borderStyle">\n							<option value="solid">直线</option>\n							<option value="dashed">破折线</option>\n							<option value="dotted">点状线</option>\n							<option value="double">双划线</option>\n							<option value="groove">3D凹槽</option>\n							<option value="ridge">3D垄状</option>\n							<option value="inset">3D内嵌</option>\n							<option value="outset">3D外嵌</option>\n						</select>\n					</div>\n			  	</div>\n				<div class="style_list_angel clearfix">\n					<label>边框颜色</label>\n					<div class="color_select clearfix">\n						<input class="flo_right short"  style="width:115px;" style-input ng-model="model.borderColor" css-item="borderColor" type="text" />\n						<a class="input_kuang flo_lef" ng-style="{backgroundColor: model.borderColor}" ng-model="model.borderColor" colorpicker="rgba"></a>\n						\n			    	</div>\n			  	</div>\n			  	<div class="style_list_angel clearfix">\n					<div>\n						<label>旋转</label>\n						<div class="touming clearfix">\n					  		<p class="num"><input min="0" max="360" limit-input style-input css-item="transform" class="input_kuang short" type="number"  ng-model="model.transform"/></p>			\n					  		<div style="width: 100px;" ui-slider min="0" max="360" ng-model="model.transform"></div>\n					  	</div>\n					</div>\n				</div>			  	\n			</div>\n		</section>\n		<section>\n			<div class="style_list" ng-init="showShadow=true" ng-click="showShadow = !showShadow; showBasic=false;showBorder=false;">\n				<b class="caret" ng-show="showShadow"></b><b class="caret off" ng-show="!showShadow"></b>阴影样式\n			</div>\n			<div ng-show="showShadow" class="style_con_hei">\n				<div class="style_list_angel clearfix">\n					<label>大小</label>\n					<div class="touming clearfix">\n						<div style="width: 100px;" ui-slider min="0" max="20" ng-model="tmpModel.boxShadowSize"></div>\n						<p class="num"><input limit-input class="input_kuang short" min="0" max="20" type="number" style-input css-item="boxShadow" ng-model="tmpModel.boxShadowSize"/></p>\n					</div>\n			  	</div>\n			  	<div class="style_list_angel clearfix">\n					<label>模糊</label>\n					<div class="touming clearfix">\n						<div style="width: 100px;" ui-slider min="0" max="20" ng-model="tmpModel.boxShadowBlur"></div>\n						<p class="num"><input limit-input class="input_kuang short" min="0" max="20" type="number" style-input css-item="boxShadow" ng-model="tmpModel.boxShadowBlur"/></p>\n					</div>\n			  	</div>\n			  	<div class="style_list_angel clearfix">\n					<label>颜色</label>\n					<div class="clearfix color_select">\n			    		<input class=" flo_right short" style="width:115px;" style-input  ng-model="tmpModel.boxShadowColor" css-item="boxShadow" type="text" />	\n						<a class="input_kuang flo_lef" ng-style="{backgroundColor: tmpModel.boxShadowColor}" ng-model="tmpModel.boxShadowColor" colorpicker="rgba" colorpicker-fixed-position="true"></a>\n			    	</div>\n				</div>	\n			  	<div class="style_list_angel clearfix">\n					<label>方向</label>\n					<div class="clearfix">\n				  		<div class="fr">\n				  			<p class="num" style="margin-top:18px;"><input style="width:58px;margin-right:5px;padding:0;" min="0" max="359" limit-input class="input_kuang" type="number" style-input css-item="boxShadow" ng-model="tmpModel.boxShadowDirection" /></p></div>					\n				  		<angle-knob class="flo_lef" style="display: block;position: relative;height: 55px;margin-left:28px;margin-top:5px;"></angle-knob>\n				  	</div>\n				</div>\n			</div>\n		</section>\n	</div>\n	<div class="modal-footer">\n		<a class="btn-main" ng-click="cancel()">确定</a>\n		<a class="btn-grey0" ng-click="clear()">清除样式</a>\n	</div>\n</div>\n')
    }
    ]),
    b.module("scene/console/lycc.tpl.html", []).run(["$templateCache", function(a) {
        a.put("scene/console/lycc.tpl.html", '<div class="dialog-contain ">\n    <div class="dialog-head">\n        <h1>留言组件</h1>\n               </div>\n	<div class="modify_area  tel_title tab-same clearfix">\n	<span    class="ng-scope">			<a ng-style="button.btnStyle" ng-click="chooseTabButton(button, $index)" class="ng-binding" style="width: 100px; height: 40px; background-color: rgb(255, 255, 255); text-align: center; border: 1px solid rgb(63, 184, 22); line-height: 40px; color: rgb(0, 0, 0);">默认按纽</a>	</span>	<div ng-class="{\'spanborder\': model.imgSrc}" class="auto-upload hint--top hint--rounded" data-hint="上传图片大小不超过3M，支持上传格式：jpg、png、gif" ng-click="openImageModal()">\n			<em class="eqf-upload" style="font-size:16px;"></em><em>自定义</em>\n		</div>\n	</div>\n	<div class="button_console dialog-content">\n		<form class="form-contain" form="role">\n			<div class="form-list clearfix" ng-if="!model.imgSrc">\n	            <label for="buttonName" class="form-label">按钮名称：</label>\n	            <div class="form-input">\n	                <input id="buttonName" class="btn-name" type="text" ng-model="model.title" ng-keyup="$event.keyCode == 13 ? confirm() : null" autofocus stop-propagation/>\n	            </div>\n	        </div>\n			<div class="form-list clearfix" ng-if="model.imgSrc">\n	            <label class="form-label">按钮图片：</label>\n	            <div class="form-image btn-small">\n					<img ng-src="{{PREFIX_FILE_HOST + model.imgSrc}}" alt="按钮图片"/>\n					<a class="btn-main btn-picture" ng-click="openImageModal()">更换图片</a>\n	            </div>\n	        </div>\n			<div class="form-list clearfix" style="display:none">\n	            <label for="phoneNumber" class="form-label">手机/电话：</label>\n	            <div class="form-input">\n	                <input id="phoneNumber" class = "tel-button" type="text" placeholder = "010-88888888" ng-model="model.number" ng-keyup="$event.keyCode == 13 ? confirm() : null" stop-propagation/>\n	            </div>\n	        </div>	        \n		</form>\n	</div>\n</div>\n<div class="btn-content btn-contain btn-small">\n    <a class="btn-main login" ng-click="confirm()">确定</a>\n    <a class="btn-grey0 cancel" ng-click="cancel()">取消</a>\n</div>')
    }
    ]),
    b.module("scene/console/tel.tpl.html", []).run(["$templateCache", function(a) {
        a.put("scene/console/tel.tpl.html", '<div class="dialog-contain ">\n    <div class="dialog-head">\n        <h1>电话组件</h1>\n		<a class="bbs-help-tip-media" target="_blank" href="http://www.48ym.com/forum.php?mod=viewthread&tid=9373&extra="><span class="eqf-exclaquestion-sign"></span></a>\n        <p ng-show=\'!authError\'>填写按钮名称和联系号码，点击可以直接拨打</p>\n        <p ng-show=\'authError\'>{{authError}}</p>\n    </div>\n	<div class="modify_area  tel_title tab-same clearfix">\n		<span ng-repeat = "button in buttons track by $index" ng-class = "{spanborder: $index == btnIndex}">\n			<!-- <a ng-class = "{btn1: $index==0, btn2: $index == 1, btn3: $index ==2, btn4: $index ==3}" ng-click = "chooseTelButton(button, $index, $event)" selected><span class = "glyphicon glyphicon-earphone"></span>{{button.text}}</a> -->\n			<a ng-style = "button.btnStyle" ng-click = "chooseTabButton(button, $index)">{{button.text}}</a>\n		</span>\n		<div ng-class="{\'spanborder\': model.imgSrc}" class="auto-upload hint--top hint--rounded" data-hint="上传图片大小不超过3M，支持上传格式：jpg、png、gif" ng-click="openImageModal()">\n			<em class="eqf-upload" style="font-size:16px;"></em><em>自定义</em>\n		</div>\n	</div>\n	<div class="button_console dialog-content">\n		<form class="form-contain" form="role">\n			<div class="form-list clearfix" ng-if="!model.imgSrc">\n	            <label for="buttonName" class="form-label">按钮名称：</label>\n	            <div class="form-input">\n	                <input id="buttonName" class="btn-name" type="text" ng-model="model.title" ng-keyup="$event.keyCode == 13 ? confirm() : null" autofocus stop-propagation/>\n	            </div>\n	        </div>\n			<div class="form-list clearfix" ng-if="model.imgSrc">\n	            <label class="form-label">按钮图片：</label>\n	            <div class="form-image btn-small">\n					<img ng-src="{{PREFIX_FILE_HOST + model.imgSrc}}" alt="按钮图片"/>\n					<a class="btn-main btn-picture" ng-click="openImageModal()">更换图片</a>\n	            </div>\n	        </div>\n			<div class="form-list clearfix">\n	            <label for="phoneNumber" class="form-label">手机/电话：</label>\n	            <div class="form-input">\n	                <input id="phoneNumber" class = "tel-button" type="text" placeholder = "010-88888888" ng-model="model.number" ng-keyup="$event.keyCode == 13 ? confirm() : null" stop-propagation/>\n	            </div>\n	        </div>	        \n		</form>\n	</div>\n</div>\n<div class="btn-content btn-contain btn-small">\n    <a class="btn-main login" ng-click="confirm()">确定</a>\n    <a class="btn-grey0 cancel" ng-click="cancel()">取消</a>\n</div>')
    }
    ]),
    b.module("scene/console/trigger.tpl.html", []).run(["$templateCache", function(a) {
        a.put("scene/console/trigger.tpl.html", '<div ng-if="activeTab == \'trigger\'" ng-controller="TriggerConsoleCtrl" eqx-trigger>\n    <div class="trigger-area">\n        <div class="trigger-panels">\n            <div class="style_list_angel clearfix">\n                <label>触发动作</label>\n                <div class="flo_lef touming">\n                    <select style="width:100px;border:1px solid #C9C9C9;" ng-model="sendType" ng-options="v.title for (k, v) in sendTypes" />           \n                </div>\n            </div>\n            <div class="style_list_angel clearfix">\n                <label>触发源</label>\n                <div class="flo_lef touming">\n                    <span ng-show="triggerOriginal">{{triggerOriginal}}</span> \n                    <a ng-show="!triggerOriginal" ng-click="selectTriggerOriginal();">点击元素选择触发源</a>      \n                </div>\n            </div>\n        </div>\n        <div class="event-list">\n            <div ng-repeat="triggerEvent in triggerEvents track by $index" ng-init="sendIndex = $index">\n                <div class="select-exist-elem" ng-show="triggerEvent.value == 1">\n                    <section>\n                        <div class="style_list" ng-init="opea.show=true" ng-click="opea.show=!opea.show">\n                            <b class="caret" ng-if="opea.show"></b>\n                            <b class="caret off" ng-if="!opea.show"></b>\n                            {{triggerEvent.title}}\n                            <span style="padding-right: 10px;cursor:pointer;" class="fr" ng-click="removeTrigger($index, $event)"><img title="删除此触发" ng-src="{{CLIENT_CDN + \'assets/images/delete.png\'}}" ></span>\n                        </div>              \n                        <div class="row" ng-if="opea.show">            \n                            <form role="form">\n                                <div class="style_list_angel">\n                                    <label>延迟时间</label>\n                                    <div class="touming clearfix">\n                                        <p class="num"><input limit-input class="input_kuang short" type="number" step="0.1" min="0" max="20" ng-model="triggerEvent.delay" /></p>\n                                        <div class="num" style="width:100px;" ui-slider min="0" max="20" use-decimals step="0.1" ng-model="triggerEvent.delay"></div>\n                                    </div>\n                                </div>  \n                                <div class="select-trigger-item">\n                                    <div class="add-trigger-item" ng-show="!triggerEvent.handles.length">\n                                        <a ng-click="addTriggerItem(triggerEvent, $index);">点击元素添加需要触发的元素</a>\n                                    </div> \n                                    <ul ng-show="triggerEvent.handles.length">\n                                        <li ng-repeat="handle in triggerEvent.handles">\n                                            <div ng-repeat="id in handle.ids">\n                                                <a ng-show="handle.type == 1" ng-click="switchShow(false, handle, id, sendIndex)">\n                                                    <span class="eqf-dengpao1" style="color: #08a1ef;"></span> \n                                                    显示\n                                                </a>\n                                                    <a ng-show="handle.type == 2" ng-click="switchShow(true, handle, id, sendIndex)">\n                                                    <span class="eqf-dengpao1"></span> \n                                                    隐藏\n                                                </a>\n                                                <a hover-element id="id" style="cursor: pointer;"><span id="{{\'tip_\' + id}}"></span> {{$index+1}}</a>\n                                                <a ng-click="cancelTriggerElem(id, sendIndex);">取消</a>\n                                            </div>\n                                        </li>\n                                    </ul>\n                                </div>            \n                            </form>                 \n                        </div>\n                    </section>\n                </div>\n                <div class="random-event" ng-show="triggerEvent.value == 2">\n                    <section>\n                        <div class="style_list" ng-init="opea.show=true" ng-click="opea.show=!opea.show">\n                            <b class="caret" ng-if="opea.show"></b>\n                            <b class="caret off" ng-if="!opea.show"></b>\n                            {{triggerEvent.title}}\n                            <span style="padding-right: 10px;cursor:pointer;" class="fr" ng-click="removeTrigger($index, $event)"><img title="删除此动画" ng-src="{{CLIENT_CDN + \'assets/images/delete.png\'}}" ></span>\n                        </div>              \n                        <div class="row" ng-if="opea.show">            \n                            <form role="form">\n                                <div class="style_list_angel">\n                                    <label>延迟时间</label>\n                                    <div class="touming clearfix">\n                                        <p class="num"><input limit-input class="input_kuang short" type="number" step="0.1" min="0" max="20" ng-model="triggerEvent.delay" /></p>\n                                        <div class="num" style="width:100px;" ui-slider min="0" max="20" use-decimals step="0.1" ng-model="triggerEvent.delay"></div>\n                                    </div>\n                                </div>  \n                                <div class="select-trigger-item">\n                                    <div class="add-trigger-item" ng-show="!triggerEvent.handles.length">\n                                        <a ng-click="addRandomImg(triggerEvent, $index);">点击添加随机图片</a>\n                                    </div> \n                                    <div ng-show="triggerEvent.handles.length">\n                                        <div ng-repeat="handle in triggerEvent.handles">\n                                            <div ng-repeat="id in handle.ids">\n                                                <span style="cursor:pointer;padding: 10px 20px;" hover-element id="id">随机图片 {{$index+1}}</span>\n                                                <a style="display: inline;" ng-click="cancelTriggerElem(id, sendIndex);">取消</a>\n                                            </div>\n                                        </fiv>\n                                    </div>\n                                </div>            \n                            </form>                 \n                        </div>\n                    </section>\n                </div>\n            </div>\n        </div>\n        <div class="trigger-btn" leave-panel>\n            <div class="event-panel" style="margin-bottom: 5px;">\n                <a ng-click="obj.showTriggerPanel = true;" class="add-trigger">\n                    <span class="eqf-plus2"></span><span>添加触发</span>\n                </a>\n                <div>\n                    <div class="arrow"></div>\n                    <ul ng-show="obj.showTriggerPanel">\n                        <li ng-repeat="eventType in eventTypes" ng-click="addTriggerEvent(eventType);obj.showTriggerPanel = false;">\n                            {{eventType.title}}\n                        </li>\n                    </ul>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class="modal-footer">\n        <a class="btn-main" ng-click="confirm()">确定</a>\n        <a class="btn-grey0" ng-click="clear()">清除</a>\n    </div>\n</div>')
    }
    ]),
    b.module("scene/console/ditu.tpl.html", []).run(["$templateCache", function(a) {
        a.put("scene/console/ditu.tpl.html", '<div class="dialog-contain ">\n    <div class="dialog-head">\n        <h1>地图组件</h1>\n           </div>\n	 <div class="video_console dialog-content">\n	<div class="div-iframe">\n<iframe id="iframemap" name="iframemap" frameBorder=0 scrolling=no  width="100%" height="503px;" ng-src="{{url}}"></iframe>  </div>	</div>\n</div>\n<div id="divditu_footer" class="btn-contain btn-small">\n    <a class="btn-main login" ng-click="confirm()">确定</a>\n    <a class="btn-grey0 cancel" ng-click="cancel()">取消</a>\n</div>')
    }
    ]),
    b.module("scene/console/video.tpl.html", []).run(["$templateCache", function(a) {
        a.put("scene/console/video.tpl.html", '<div class="dialog-contain ">\n    <div class="dialog-head">\n        <h1>视频组件</h1>\n		<a class="bbs-help-tip-media" target="_blank" href="http://www.48ym.com/forum.php?mod=viewthread&tid=1926&extra="><span class="eqf-exclaquestion-sign"></span></a>\n        <p ng-show=\'!authError\'>把视频通用代码复制到框中即可使用</p>\n        <p ng-show=\'authError\'>{{authError}}</p>\n    </div>\n	<div class="nav-list">\n		<ul>\n			<li class="active">视频</li>\n		</ul>\n	</div>    \n	<div class="video_console dialog-content">\n		<div class="modify_area" style="height:auto">\n			<div class="video_tip">\n				<span>视频通用代码：</span>\n				<span class="video_code"><a href="http://www.48ym.com/forum.php?mod=viewthread&tid=678&page=1&extra=#pid2706" target="_blank"><ins>什么是视频通用代码？</ins></a></span>\n			</div>\n			<div class="video_tip">\n				<textarea style="border-radius:0px;" class = "video_src" ng-model="model.src" ng-keyup="$event.keyCode == 13 ? confirm() : null"/>\n			</div>\n			<div class="video_tip">将视频的通用代码粘贴到文本框里即可。<a href="http://www.48ym.com/forum.php?mod=viewthread&tid=678&page=1&extra=#pid2706" target="_blank"><ins>查看帮助</ins></a></div>\n			<div class="video_tip">支持的视频：<a href="http://www.youku.com/" target="_blank"><ins>优酷</ins></a>、<a href="http://www.tudou.com/" target="_blank"><ins>土豆</ins></a>、<a href="http://v.qq.com/" target="_blank"><ins>腾讯视频</ins></a></div>\n		</div>	\n	</div>\n</div>\n<div class="btn-contain btn-small">\n    <a class="btn-main login" ng-click="confirm()">确定</a>\n    <a class="btn-grey0 cancel" ng-click="cancel()">取消</a>\n</div>');
    }
    ]),
    b.module("scene/create.tpl.html", []).run(["$templateCache", function(a) {
        a.put("scene/create.tpl.html", '<div class="create-bg" style="position: fixed;top: 0;left: 0;right: 0;bottom: 0;background-color: #d0cfd8"></div>\n<div class="creat_head">\n  <div class="creat_head_con clearfix">\n	<div class="creat_logo"><a href="#/main"  class="hint--bottom hint--rounded" data-hint="返回我的场景" ng-click="stopCopy()"><img ng-src="http://localhost/static/img/logo-my.png" /></a></div>\n	<div class="creat_con clearfix">\n		<ul class="comp_panel clearfix">\n		  <li comp-draggable="panel" ctype="2" class="comp-draggable text hint--bottom hint--rounded" data-hint="点击添加文本" ng-click="createComp(\'2\');">\n		  	<span class="eqf-top-word"></span>\n			<span>文本</span>\n		  </li>\n		  <li comp-draggable="panel" ctype="3" class="comp-draggable bg hint--bottom hint--rounded" data-hint="点击添加背景" ng-click="createComp(\'3\');">\n		  	<span class="eqf-top-background"></span>\n			<span>背景</span>\n		  </li>\n		  <li comp-draggable="panel" ctype="9" class="comp-draggable music hint--bottom hint--rounded" data-hint="点击添加音乐" ng-click="createComp(\'9\');">\n		  	<span class="eqf-top-music"></span>\n			<span>音乐</span>\n		  </li>  \n		 	  <li comp-draggable="panel" ctype="4" class="comp-draggable image hint--bottom hint--rounded" data-hint="点击添加图片" ng-click="createComp(\'4\');">\n		  	<span class="eqf-top-pic"></span>\n			<span>图片</span>\n		  </li>\n		  		 </ul>\n    </div>\n	<div class="create-action">\n \n		<ul>\n				<li class="act-border save hint--bottom hint--rounded" data-hint="点击保存场景" ng-click="saveScene(true)">\n				<span class="eqf-top-svae"></span>\n				<span class="create-save">保存</span>\n			</li>\n	 <li class="act-border setting hint--bottom hint--rounded" ng-class="{\'active\': sceneSetting.showFlag}" data-hint="点击预览场景" ng-click="sceneSetting.showFlag=!sceneSetting.showFlag">\n				<span class="eqf-scene-settingII"></span>\n				<span class="create-setting">发布</span>\n			</li>\n			<li class="publish hint--bottom hint--rounded" data-hint="点击预览场景" ng-click="test0100()">\n				<span class="eqf-scene-send"></span>\n				<span class="create-publish">预览</span>\n			</li>\n			<li class="act-border quit hint--bottom hint--rounded" data-hint="点击退出场景" >\n				<span class="eqf-top-quite"></span>\n				<span class="create-quit">退出</span>\n			</li> \n		</ul>\n	</div>\n	<div ng-hide="showToolBar();">\n		<div ng-show="isEditor" style="position: absolute;right: 225px;top: 20px;">\n			<select ng-model="tpl.obj.scene.isTpl">\n				<option value="0">非模板</option>\n				<option value="1">保存为pc模板</option>\n				<option value="2">保存为移动端模板</option>\n			</select>\n		</div>\n	</div>\n</div>\n</div>\n<div class="create_scene">\n  <div class="main clearfix" mouse-comp-select>\n	  <div class="content">\n		  <div class="phoneBox" multi-comp-drag>\n			<div edit-common edit-keymap>\n				<div class="top"></div>\n				<div class = "phone_menubar"></div>\n				<div class="scene_title_baner">\n				  <div ng-bind="tpl.obj.scene.name" class="scene_title"></div>\n				</div>\n				<div class="nr sortable" id="nr" element-anim paste-element></div>\n				<div class="bottom"></div>\n				<div class = "tips">为了获得更好的使用，建议使用谷歌浏览器（chrome）、360浏览器、IE11浏览器。</div>\n			</div>\n			<div class="phone_texiao">\n				<div id="editBG" style="height:70px;" ng-show="controlView.showBgTag">\n					<span class="hint--right hint--rounded" data-hint="更换背景" ng-click="replaceBg(currentBgDef)">背景</span>\n					<!-- <div style="margin:10px 0;border-bottom: 2px solid #666;"></div>\n					<a style = "color: #666;" class="hint--bottom hint--rounded" data-hint="删除当前页面的背景">\n						<span ng-click="removeBG($event)" class="eqf-wrong"></span>\n					</a> -->\n					<a style = "color: #666; margin-top: 10px;" class="hint--bottom hint--rounded" data-hint="编辑当前页面的背景">\n						<span ng-click="showEditBgPanel()" class="eqf-scene-settingII"></span>\n					</a>\n					<div class="manage-bg" style="display: none;margin-top: 5px;" ng-controller="editBgCtrl" ng-include="\'scene/edit/editbg/editbg.tpl.html\'">\n					</div>\n				</div>\n				<div id="editBGAudio" ng-click="openAudioModal()" ng-show="tpl.obj.scene.bgAudio">\n					<span class="hint--right hint--rounded" data-hint="更换音乐">音乐</span><!-- <div style="margin:10px 0;border-bottom: 2px solid #666;"></div> --><a style = "color: #666; margin-top: 10px;" class="hint--bottom hint--rounded" data-hint="删除当前页面的音乐"><span ng-click="removeBGAudio($event)" class="eqf-wrong"></span></a>\n				</div>\n				<div id="editScratch" ng-click="openPageEffectModal(tpl.obj.properties)" ng-show="tpl.obj.properties">\n					<span class="hint--right hint--rounded" data-hint="更换特效">{{effectName}}</span><!-- <div style="margin:10px 0;border-bottom: 2px solid #666;"></div> --><a style = "color: #666; margin-top: 10px;" class="hint--bottom hint--rounded" data-hint="删除当前页面特效"><span ng-click="removeScratch($event)" class="eqf-wrong"></span></a>\n				</div>\n			</div>\n			<div class="history">\n				<a data-hint="撤销(ctrl+z)" class="hint--left hint--rounded" ng-click="back()"><i class="eqf-bg" ng-class="{active: canBack}"></i></a>\n				<a data-hint="恢复(ctrl+y)" class="hint--left hint--rounded" ng-click="forward()"><i class="eqf-back" ng-class="{active: canForward}"></i></a>\n				<a data-hint="刷新预览" class="hint--left hint--rounded" style="margin-top:10px;" ng-click="refreshPage(tpl.obj, pageNum, $event)"><i class="eqf-eye2"></i></a>				\n				<a data-hint="网格设置" class="hint--left hint--rounded grid-guide" style="margin-top:10px;" ng-click="gridGuideSetting.showFlag = !gridGuideSetting.showFlag"><i class="eqf-wangge" ng-class="{\'active\': gridGuideSetting.isGridEnabled}"></i></a>\n				<div class="grid-guide-container" ng-class="{\'on\': gridGuideSetting.showFlag}" grid-guide-setting></div>\n			</div>\n		  </div>\n		 <div id = "containment" class="create_right"> \n			<div class="guanli">页面管理</div>\n			<div class = "nav_top">\n			  <div class="nav_top_list">\n				<a ng-click="duplicatePage()" class="hint--bottom hint--rounded" data-hint="复制当前页面">复制</a>\n	 <a ng-click = "creatCompanyTemplate()" class="hint--bottom hint--rounded" data-hint="当前页存为企业模板" ng-show="userProperty.type ==2">企业模版</a>\n				<a class="hint--bottom hint--rounded" data-hint="删除当前页" ng-click = "deletePage($event)" ng-show = "pages.length != 1">删除</a>\n			  </div>\n			</div>\n\n			<div class="nav_content">\n			  <ul id = "pageList" ui-sortable = "sortableOptions" ng-model="pages">\n				<li class = "blurClass" ng-repeat="page in pages track by $index" ng-click="navTo(page, $index, $event)" ng-init = "editableStatus[$index] = false" ng-class="{current: pageNum-1 == $index}" blur-children>\n					<span style = "float: left; margin-top: 17px; background: #fff; color: #666; font-weight: 200;border-radius:9px;width:18px;height:18px;padding:0px;text-align:center;line-height:18px;" class = "badge">{{$index+1}}</span>\n					<span style = "margin-left: 17px;font-size:14px;" class="hint--bottom hint--rounded" data-hint="点击重命名" ng-click = "editableStatus[$index] = true" ng-show = "!editableStatus[$index]">{{page.name}}</span>\n					<input style = "width: 80px; height: 25px; line-height: 25px; margin-left: 10px; color: #999;" type = "text" ng-model = "page.name" ng-show = "editableStatus[$index]" ng-blur = "editableStatus[$index] = false;savePageNames(page, $index)" ng-focus = "getOriginPageName(page)" maxlength = "7" custom-focus stop-propagation/>\n				</li>\n			  </ul>\n			  <div class = "page-list-label" ng-show="isEditor && pageList == true">  \n				  <label ng-repeat = "allchild in pageLabelAll">\n					  <input type="checkbox" name="" value="" ng-model = "allchild.ischecked">{{allchild.name}}\n				  </label>                                                 \n				  <div class="select-labels">\n					  <a ng-click="pageChildLabel()">确定</a>\n				  </div>\n			  </div>               \n			</div>\n			<div class="nav_bottom">\n			  <a ng-click="insertPage()" class="hint--bottom hint--rounded" data-hint="添加一页" >+</a>\n			 <!--  <a ng-click="duplicatePage()" class="duplicate_page">复制一页</a> -->\n			</div>\n\n			<div ng-show="isEditor" style="position: absolute;bottom: 20px;right: 268px;width: 100px;">\n			  <div class="btn-main" style="width: 100px;" ng-click="chooseThumb()">选择本页缩略图</div>\n			  <img width="100" ng-src="{{PREFIX_FILE_HOST + tpl.obj.properties.thumbSrc}}"></img>\n			</div>\n		  </div>\n		  <div ng-include="\'scene/edit/select/select.tpl.html\'" ng-controller="selectCtrl">\n	  </div>\n  </div>\n</div>\n<div class="scene-setting" ng-if="sceneSetting.showFlag" scene-setting-component></div>\n</div>\n     </div>\n')
    }
    ]),
    b.module("scene/createNew.tpl.html", []).run(["$templateCache", function(a) {
        a.put("scene/createNew.tpl.html", '<div class="dialog-contain">\n    <div class="dialog-head">\n        <h1>新建场景</h1>\n        <p ng-show = \'!authError\'>填写场景名称，点击创建即刻拥有自己的场景了</p>\n        <p ng-show = \'authError\'>{{authError}}</p>\n    </div>\n    <div class = "dialog-content">\n        <form name="resetForm" novalidate class="form-contain creat-newscene">\n<!--                 <div class="alert alert-warning" role="alert" ng-show="authReason">\n                    {{authReason}}\n                </div>\n                <div class="alert alert-danger" role="alert" ng-show="authError">\n                    {{authError}}\n                </div> -->\n                <div class="form-list">\n                    <input name="name" class="name" placeholder="请填写场景名称" type="text" ng-model="scene.name" required autofocus>            \n                </div>\n                \n                <div class="form-list">\n                    <select ng-model="scene.type" ng-options="scenetype.name for scenetype in scene.types" >\n                    </select>\n                </div>\n                <div class="form-list" ng-show = "false">\n                    <select ng-model="scene.pageMode" ng-options="pagemode.name for pagemode in pagemodes"></select>\n                </div>\n                <div class="btn-contain btn-small">\n                    <a class="btn-main login" ng-click="create()" ng-disabled=\'form.$invalid\'>创建</a>\n                    <a class="btn-grey0 cancel" ng-click="cancel()" ng-disabled=\'form.$invalid\'>取消</a>\n                </div>  \n        </form>\n        <p style="font-size:12px;text-align:center;margin-bottom:20px;color:#666;"><em style="color:red;">特别说明：</em>不允许有奖转发、诱导关注、医药、色情、不良风气等内容发布，详情<a target="_blank" style="color:red" href="http://www.48ym.com/forum.php?mod=viewthread&tid=890&extra=" >请查看审核规则</a></p>\n</div>\n')
    }
    ]),
    b.module("scene/createUserGuide.tpl.html", []).run(["$templateCache", function(a) {
        a.put("scene/createUserGuide.tpl.html", '<div class="create-user-guide" ng-show="firstLogin" ng-controller="CreateUserGuideCtrl">\n    <div class="carousel-user-guide">\n        <h2>用户引导<span ng-click="close()">&times;</span></h2>\n        <div class="carousel-user-guide-container">\n            <carousel interval="myInterval">\n                <slide ng-repeat="slide in userGuideSlides" active="slide.active">\n                    <img ng-src="{{slide.image}}">\n                </slide>\n            </carousel>\n            <button ng-show="currentIndex == 5" class="btn btn-main operation" ng-click="close()">我知道了</button>\n        </div>\n    </div>\n</div>')
    }
    ]),
    b.module("scene/edit/editbg/editbg.tpl.html", []).run(["$templateCache", function(a) {
        a.put("scene/edit/editbg/editbg.tpl.html", '<div class="arrow"></div>\n<ul class="">\n    <li ng-click="cropBg(currentBgDef)"><span class="eqf-cut"></span>裁剪</li>\n    <li ng-click="replaceBg(currentBgDef)"><span class="eqf-top-background"></span>更换</li>\n    <li ng-click="showBgEffect();"><span class="eqf-xiaoguo"></span>效果</li>\n    <li ng-click="removeBG($event)"><span class="eqf-scene-delete"></span>删除</li>\n</ul>\n\n<div class="bg-effect" switch-display style="display: none;">\n    <div class="arrow"></div>\n    <ul>\n        <li ng-class="{\'effect-selected\': currentBgDef.effect.type == \'scaleUp\'}" ng-click="scaleUpBg(currentBgDef)">\n            <span class="eqf-bigger"></span>放大\n            <!-- <span class="eqf-glyphicon-ok" style="margin-left: 50px"></span> -->\n            <span style="margin-left: 60px;" ng-show="currentBgDef.effect.type == \'scaleUp\'" class="eqf-glyphicon-remove" ng-click="removeBgEffect(\'scaleUp\', $event)"></span>\n        </li>\n        <li ng-class="{\'effect-selected\': currentBgDef.effect.type == \'scaleDown\'}" ng-click="scaleDownBg(currentBgDef)">\n            <span class="eqf-small"></span>缩小\n            <!-- <span class="eqf-glyphicon-ok" style="margin-left: 50px"></span> -->\n            <span style="margin-left: 60px;" ng-show="currentBgDef.effect.type == \'scaleDown\'" class="eqf-glyphicon-remove" ng-click="removeBgEffect(\'scaleDown\', $event)"></span>\n        </li>\n        <!-- <li ng-class="{\'effect-selected\': currentBgDef.effect.type == \'blur\'}">\n            <span class="eqf-mohu"></span>模糊\n            <span class="eqf-glyphicon-ok" style="margin-left: 50px" ng-click="blurBg(currentBgDef)"></span>\n            <span class="eqf-glyphicon-remove" ng-click="removeBgEffect(\'blur\')"></span>\n        </li>\n        <li ng-class="{\'effect-selected\': currentBgDef.effect.type == \'sharp\'}">\n            <span class="eqf-qingxi"></span>清晰\n            <span class="eqf-glyphicon-ok" style="margin-left: 50px" ng-click="sharpBg(currentBgDef)"></span>\n            <span class="eqf-glyphicon-remove" ng-click="removeBgEffect(\'sharp\')"></span>\n        </li> -->\n    </ul>\n</div>')
    }
    ]),
    b.module("scene/edit/select/select.tpl.html", []).run(["$templateCache", function(a) {
        a.put("scene/edit/select/select.tpl.html", '<div class="select-panel" ng-show="showSelectPanel" panel-draggable>\n    <div class="modal-header ng-scope">\n        <span>多选操作</span>\n    </div>\n    <div class="select-content">\n        <ul>\n            <li><a title="左对齐" eqx-align-left><span class="eqf-left5"></span></a></li>\n            <li><a title="水平居中对齐" eqx-align-horizontal-center><span class="eqf-middle"></span></a></li>\n            <li><a title="右对齐" eqx-align-right><span class="eqf-right7"></span></a></li>\n            <li><a title="上对齐" eqx-align-top><span class="eqf-top4"></span></a></li>\n            <li><a title="垂直居中对齐" eqx-align-vertical-center><span class="eqf-center"></span></a></li>\n            <li><a title="下对齐" eqx-align-bottom><span class="eqf-under2"></span></a></li>\n        </ul>\n        <ul>\n            <li><a title="复制" eqx-copy><span class="eqf-scene-copy"></span></a></li>\n            <li><a title="粘贴" eqx-paste ng-style="{opacity: pasteOpacity}"><span class="eqf-print"></span></a></li>\n            <li><a title="删除" eqx-delete-more><span class="eqf-scene-delete"></span></a></li>\n        </ul>\n    </div>\n</div>')
    }
    ]),
    b.module("scene/effect/falling.tpl.html", []).run(["$templateCache", function(a) {
        a.put("scene/effect/falling.tpl.html", '<div id = "page_panel" ng-if="effectType == \'fallingObject\'" class="dropdown-menu1 panel panel-default">\n    <div class="panel-heading">落物设置</div>\n    <div class="panel-body">\n      <form class="form-horizontal" role="form">\n        <div class="form-group form-group-sm" style="margin-bottom:10px;">\n          <label class="col-sm-5 control-label">环境图片</label>\n          <div class="col-sm-7">\n            <select ng-model = "falling.src" ng-options = "fallingObj.name for fallingObj in fallings">\n            </select>\n          </div>\n        </div>\n        <div class = "divider"></div>\n        <div class = "well" style="margin-bottom:15px;text-align: center;background-color: #ddd">\n          <img ng-src="{{falling.src.path}}" style="width:60px;height:60px;"/>\n        </div>\n        <div class = "divider"></div>\n        <div class="form-group form-group-sm" style="margin-bottom:10px;">\n          <label class="col-sm-5 control-label">环境氛围</label>\n          <div class="col-sm-7">\n          	<div style="line-height: 24px;font-size: 12px;"><span style="margin-right:39px;">弱</span><span style="margin-right:37px;">中</span><span>强</span></div>\n          	<div style="width: 100px;" ui-slider min="1" max="3" ng-model="falling.density"></div>\n\n          </div>\n        </div>\n        \n        <div class="form-group form-group-sm" style="margin-bottom:0px;">\n          <div class="modal-footer" style="padding-bottom:0px;">\n            <a class="btn-main" dropdown-toggle type="button" ng-click = "saveEffect(falling)" class="btn btn-success btn-sm btn-main login" style="width:88px;">保存</a>\n            <a dropdown-toggle type="button" ng-click = "cancelEffect()" class="btn-grey0" style="width:88px;">取消</a>\n          </div>\n        </div>\n      </form>\n    </div>\n  </div>')
    }
    ]),
    b.module("scene/effect/snowfly.tpl.html", []).run(["$templateCache", function(a) {
        a.put("scene/effect/snowfly.tpl.html", "")
    }
    ]),
    b.module("scene/pageeffect/fall.tpl.html", []).run(["$templateCache", function(a) {
        a.put("scene/pageeffect/fall.tpl.html", '<div class="effect-img" style="width:150px;height:215px;background-color:#ccc">\n    <img ng-src="{{falling.src.path}}" style="width:60px;height:60px;top:50%;margin-top:-30px;left:50%;margin-left:-30px;position: absolute;"/>\n</div>\n<div class="effect-form">\n    <form class="form-contain" role="form">\n        <div class="form-list clearfix">\n            <lable class="form-label">环境图片：</lable>\n            <div class="form-input">\n                <select ng-model = "falling.src" ng-options = "fallingObj.name for fallingObj in fallings">\n                </select>\n            </div>\n        </div>\n        <div class="form-list clearfix" style="margin-top: 10px;">\n            <lable class="form-label">环境氛围：</lable>\n            <div class="form-input">\n                <div style="line-height: 24px;font-size: 12px;"><span style="margin-right:39px;">弱</span><span style="margin-right:37px;">中</span><span>强</span></div>\n                <div style="width: 100px;" ui-slider min="1" max="3" ng-model="falling.density"></div>\n            </div>\n        </div>\n    </form>\n</div>')
    }
    ]),
    b.module("scene/pageeffect/finger.tpl.html", []).run(["$templateCache", function(a) {
        a.put("scene/pageeffect/finger.tpl.html", '<div class="effect-img">\n    <img ng-src="{{finger.bgImage.path}}"/>\n    <img class="finger-zw" ng-src="{{finger.zwImage.path}}"/>\n</div>\n<div class="effect-form">\n    <form class="form-contain" role="form">\n        <div class="form-list clearfix">\n            <lable class="form-label">背景图片：</lable>\n            <div class="form-input">\n                <select ng-model = "finger.bgImage" ng-options = "bgImage.name for bgImage in fingerBackgrounds"/>\n            </div>\n        </div>\n        <div class="form-list clearfix">\n            <lable class="form-label">指纹图片：</lable>\n            <div class="form-input">\n                <select ng-model = "finger.zwImage" ng-options = "zwImage.name for zwImage in fingerZws"/>\n            </div>\n        </div>\n    </form>\n</div>')
    }
    ]),
    b.module("scene/pageeffect/fireworks.tpl.html", []).run(["$templateCache", function(a) {
        a.put("scene/pageeffect/fireworks.tpl.html", '<div class="effect-img">\n    <img ng-src="{{CLIENT_CDN + \'assets/images/create/fireworks.jpg\'}}"/>\n</div>')
    }
    ]),
    b.module("scene/pageeffect/money.tpl.html", []).run(["$templateCache", function(a) {
        a.put("scene/pageeffect/money.tpl.html", '<div class="effect-img">\n    <img ng-src="{{CLIENT_CDN + \'assets/images/create/money_thumb2.jpg\'}}"/>\n</div>\n<div class="effect-form">\n    <form class="form-contain" role="form">\n        <div class="form-list clearfix">\n            <lable class="form-label">提示文字：</lable>\n            <div class="form-input">\n                <input type="text" ng-model="money.tip" placeholder="提示文字" maxlength="15" ng-keyup="$event.keyCode == 13 ? confirm() : null" autofocus stop-propagation style="width: 290px;"/>\n            </div>\n        </div>\n    </form>\n</div>\n')
    }
    ]),
    b.module("scene/pageeffect/pageeffect.tpl.html", []).run(["$templateCache", function(a) {
        a.put("scene/pageeffect/pageeffect.tpl.html", '<div class="dialog-contain ">\n    <div class="dialog-head">\n        <h1>特效组件</h1>\n        <a class="bbs-help-tip-media" target="_blank" href="http://www.48ym.com/forum.php?mod=viewthread&tid=1939&extra="><span class="eqf-exclaquestion-sign"></span></a>\n        <p ng-show =\'!authError\'>特效是对应某一页的特殊效果，每个页面只能有一个特效</p>\n        <p ng-show = \'authError\'>{{authError}}</p>\n    </div>\n    <div class="form_console dialog-content" >\n        <div class="modify_area">\n            <div class="effect-list">\n                <ul>\n                    <li ng-class="{\'select-effect\': controlView.effectIndex == $index || controlView.effectType == effect.type}" ng-repeat="effect in effectList" ng-click="selectEffect(effect, $index)">\n                        <img ng-src="{{effect.src}}"/>\n                    </li>\n                </ul>\n            </div>\n            <div class="effect-detail">\n                <div class="scratch-effect" ng-show="controlView.effectType == \'scratch\'" ng-include="\'scene/pageeffect/scratch.tpl.html\'" ng-controller="scratchEffectCtrl"></div>\n                <div class="finger-effect" ng-show="controlView.effectType == \'finger\'" ng-include="\'scene/pageeffect/finger.tpl.html\'" ng-controller="fingerEffectCtrl"></div>\n                <div class="money-effect" ng-show="controlView.effectType == \'money\'" ng-include="\'scene/pageeffect/money.tpl.html\'" ng-controller="moneyEffectCtrl"></div>\n                <div class="fall-effect" ng-show="controlView.effectType == \'fallingObject\'" ng-include="\'scene/pageeffect/fall.tpl.html\'" ng-controller="fallEffectCtrl"></div>\n                <div class="snow-effect" ng-show="controlView.effectType == \'snowFly\'" ng-include="\'scene/pageeffect/snow.tpl.html\'" ng-controller="snowEffectCtrl"></div>\n                <div class="firework-effect" ng-show="controlView.effectType == \'fireWorks\'" ng-include="\'scene/pageeffect/fireworks.tpl.html\'" ng-controller="fireWorksCtrl"></div>\n            </div>\n        </div>\n    </div>\n</div>\n<div class="btn-contain btn-small">\n    <a class="btn-main login" ng-click="confirm()">确定</a>\n    <a class="btn-grey0 cancel" ng-click="cancel()">取消</a>\n</div>');
    }
    ]),
    b.module("scene/pageeffect/scratch.tpl.html", []).run(["$templateCache", function(a) {
        a.put("scene/pageeffect/scratch.tpl.html", '<div class="effect-img">\n    <img ng-src="{{scratch.image.path}}" />\n</div>\n<div class="effect-form">\n    <form class="form-contain" role="form">\n        <div class="form-list clearfix">\n            <lable class="form-label">覆盖效果：</lable>\n            <div class="form-input">\n                <select ng-model="scratch.image" style="width:290px;" ng-options="scracthImage.name for scracthImage in scratches"/>\n            </div>\n        </div>\n        <div class="form-list clearfix">\n            <lable class="form-label">自选图片：</lable>\n            <div class="form-input">\n                <a ng-click = "openUploadModal()" class="auto_img btn-main btn-success ">自定义图片</a>\n            </div>\n        </div>\n        <div class="form-list clearfix">\n            <lable class="form-label">涂抹比例：</lable>\n            <div class="form-input">\n                <select ng-model="scratch.percentage" ng-options="percentage.name for percentage in percentages"/>\n            </div>\n        </div>\n        <div class="form-list clearfix">\n            <lable class="form-label">提示文字：</lable>\n            <div class="form-input">\n                <input type="text" ng-model="scratch.tip" placeholder="提示文字" maxlength="15" ng-keyup="$event.keyCode == 13 ? confirm() : null" autofocus stop-propagation style="width: 290px;"/>\n            </div>\n        </div>\n    </form>\n</div>')
    }
    ]),
    b.module("scene/pageeffect/snow.tpl.html", []).run(["$templateCache", function(a) {
        a.put("scene/pageeffect/snow.tpl.html", '<div class="effect-img">\n    <img ng-src="{{CLIENT_CDN + \'assets/images/create/snowfly.png\'}}"/>\n</div>')
    }
    ]),
    b.module("scene/scene.tpl.html", []).run(["$templateCache", function(a) {
        a.put("scene/scene.tpl.html", '\n<div ng-include="\'header.tpl.html\'"></div>\n<div class="choose_template min_contain">\n    <div class="main clearfix">\n        <div class="title">\n            空白自主创建，或者选择一个样例\n            <a class="bbs-help-tip" target="_blank" href="http://www.48ym.com/forum.php?mod=viewthread&tid=1906&page=1&extra=#pid6622">\n                <span class="eqf-exclaquestion-sign"></span></a>\n            <!-- <a class="btn-secondary" ng-click="createScene()">or自主创建</a> -->\n        </div>\n\n        <div class="scene_type clearfix">\n            <div class="new_hot">\n                <div class="product" style="float:right">\n                    <a style="padding-right:5px" href="http://www.48ym.com/forum.php?mod=viewthread&tid=8103" target="_blank">品牌合作</a>|\n                    <a style="padding-left:5px" href=" http://www.48ym.com/forum.php?mod=viewthread&tid=8293" target="_blank">样例提交</a>\n                </div>\n                <a ng-class="{hover: order==\'new\'}" ng-click="freeTplChoice=\'\';tplnew(\'new\');">最新场景</a>\n                <a ng-class="{hover: order==\'hot\'}" ng-click="freeTplChoice=\'\';tplnew(\'hot\')">热门场景</a>\n                <a ng-class="{hover: freeTplChoice==\'free\'}" ng-click="order=\'\';freeTpl(\'free\')">免费</a>\n                <a ng-class="{hover: freeTplChoice==\'noFree\'}" ng-click="order=\'\';freeTpl(\'noFree\')">付费</a>\n            </div>\n            <div class="scene_list">\n                <ul class="clearfix scene_cat">\n                    <li ng-class="{active : 0 == childcat}" ng-click="allpage(null,null)">全部</li>\n                    <li ng-class="{active : pageTplType.value == childcat}" ng-click="getPageTplsByType(pageTplType.value,pageTplType.id)" ng-repeat="pageTplType in pageTplTypes">{{pageTplType.name}}</li>\n                    <li ng-class="{active: 1 == childcat}" ng-click="getCompanyTpl()" ng-show="userProperty.type ==2 || userProperty.type ==21">企业样例</li>\n                </ul>\n                <ul class="clearfix child_cat">\n                    <li ng-click="getPageTpls(type,childCat.bizType,childCat.id)" ng-class="{active:childCat.id == categoryId}" ng-repeat="childCat in childCatrgoryList">{{childCat.name}}</li>\n                </ul>                \n            </div>\n        </div>\n        \n        <div class="content clearfix">\n            <div class="mask">\n                <ul>\n                    <li ng-click = "createScene()" title="创建一个空白场景">                        \n                        <div style="height:240px; background-color:#bdd5ef;"><i class = "fa fa-plus"></i></div>\n                        <p style="height:100px;">自主创建<i class="add_icon"></i></p>                  \n                    </li>\n                    <li ng-repeat="tpl in tpls track by $index" ng-class="{mr0:$index%4 == 2}">         \n                        <div class = "roll" ng-hover resource="tpl">\n                            <div class = "mask-floor" ng-show="tpl.show">\n                            </div>\n                            <img style="width:235px;height:240px;" ng-src="{{PREFIX_FILE_HOST + tpl.cover}}" alt="" />\n                            <div class="my_xinxi"><p>{{tpl.name}}<i class="add_icon"></i></p>\n                                <p style="background-color:#FFF;color:#999;padding-right:10px;">作者：{{tpl.userName}}</p>\n                            </div>\n                            <a ng-show="tpl.show" class = "preview_scene btn" href="{{PREFIX_CLIENT_HOST + \'/v-\' + tpl.code}}" target="_blank">预览</a>\n                            <a ng-show="tpl.show" class = "preview_scene edit_scene btn" ng-click="createScene(tpl)">就这个了</a>\n                            <span class="tpl-price" ng-if="!!tpl.price"><strong>{{tpl.price}}秀点</strong></span>\n                        </div>                \n                    </li>\n                </ul>\n            </div>\n        </div>\n        <div class="clearfix fl" ng-show="totalItems > 11">\n            <pagination style="float: left" first-text="首页" last-text="尾页" previous-text="上一页" next-text="下一页" max-size="10" items-per-page="11" total-items="totalItems" ng-model="currentPage" ng-change="pageChanged(currentPage)" boundary-links="true" rotate="true" num-pages="numPages"></pagination>\n            <div class="current_page">\n                <input type="text" ng-model="toPage" ng-keyup="$event.keyCode == 13 ? pageChanged(toPage) : null">\n                <a ng-click="pageChanged(toPage)" class="go">GO</a>\n                <span>当前: {{currentPage}} / {{numPages}} 页</span>\n            </div>\n        </div>\n    </div>\n</div>\n<div ng-include="\'footer.tpl.html\'"></div>\n<div ng-include="\'scene/createUserGuide.tpl.html\'"></div>')
    }
    ]),
    b.module("scene/userGuide.tpl.html", []).run(["$templateCache", function(a) {
        a.put("scene/userGuide.tpl.html", '<div class="scene-user-guide" ng-click="showNextGuide()" ng-show="firstLogin" ng-controller="SceneUserGuideCtrl">\n    <!-- 菜单栏 -->\n    <div class="menu-tool-bar" ng-class="{\'active\': 2 == currentGuideIndex}"></div>\n    <!-- 页面模板 -->\n    <div class="page-template" ng-class="{\'active\': 0 == currentGuideIndex}">\n    </div>\n    <!-- 页面管理 -->\n    <div class="page-manager" ng-class="{\'active\': 1 == currentGuideIndex}"></div>\n    <!-- 工具栏设置 -->\n    <div class="tool-bar-setting" ng-class="{\'active\': 3 == currentGuideIndex}"></div>\n\n    <!-- 工具栏非提示区域 -->\n    <div class="tool-bar-no-guide"></div>\n    <!-- 编辑区域 -->\n    <div class="page-edit-area" ng-class="{\'active\': 4 == currentGuideIndex}"></div>\n\n    <!-- 页面模板-guide -->\n    <div class="scene-guide-info " ng-show="0 == currentGuideIndex">\n        <div class="tooltip right" role="tooltip">\n            <div class="tooltip-arrow"></div>\n            <div class="tooltip-inner">\n                页面模板，内容丰富，点击使用\n                <div class="tooltip-know">知道了</div>\n            </div>\n        </div>\n    </div>\n    <!-- 页面管理-guide -->\n    <div class="scene-guide-info" ng-show="1 == currentGuideIndex">\n        <div class="tooltip left" role="tooltip">\n            <div class="tooltip-arrow"></div>\n            <div class="tooltip-inner">\n                点击“+”可以添加新页面<br />\n                按住页面可以随意拖拽更换顺序 <br />\n                点击 复制/删除 当前页面，双击更改名称\n                <div class="tooltip-know">知道了</div>\n            </div>\n        </div>\n    </div>\n    <!-- 菜单栏-guide -->\n    <div class="scene-guide-info" ng-show="2 == currentGuideIndex">\n        <div class="tooltip bottom" role="tooltip">\n            <div class="tooltip-arrow"></div>\n            <div class="tooltip-inner">\n                自由组件，点击添加组件\n                <div class="tooltip-know">知道了</div>\n            </div>\n        </div>\n    </div>\n\n    <!-- 设置-guide -->\n    <div class="scene-guide-info" ng-show="3 == currentGuideIndex">\n        <div class="tooltip bottom tooltip-setting" role="tooltip">\n            <div class="tooltip-arrow"></div>\n            <div class="tooltip-inner">\n                <div class="tooltip_setting_head">场景设置搬家啦！在这里可以进行：</div>\n                <div>\n                    <p>①设置场景封面</p>\n                    <p>②修改场景封面</p>\n                </div>\n                <div>\n                    <p>③设置翻页方式</p>\n                    <p>④设置场景尾页</p>\n                </div>\n                <div class="tooltip-know">知道了</div>\n            </div>\n        </div>\n    </div>\n    <!-- 编辑区域-guide -->\n    <div class="scene-guide-info " ng-show="4 == currentGuideIndex">\n        <div class="tooltip right tooltip-edit" role="tooltip">\n            <div class="tooltip-arrow"></div>\n            <div class="tooltip-inner">\n                场景编辑区域，任意摆放所见即所得\n                <div class="tooltip-know">知道了</div>\n            </div>\n        </div>\n    </div>\n</div>')
    }
    ]),
    b.module("show/active/active-xq.tpl.html", []).run(["$templateCache", function(a) {
        a.put("show/active/active-xq.tpl.html", '<div id="show-contain">\n	<div ng-include="\'show/category/nav.tpl.html\'" ng-controller="NavCtrl"></div>\n	<div class="cake">\n		<div class="same-content">\n			<a href="#/show">秀场</a> > <a href="#/show/active">活动</a> > {{activeMes.title}}\n		</div>\n	</div>\n	<div class="same-content">\n		<div class="active-lunbo mt" slides2 id="{{\'pro_\' + activeId}}" width="1000px" height="400px" style="width:1000px;height:400px;">\n			<div class="slides_container"></div>\n			<div class="hd-icon">\n				<a class="eqf-left22 prev"></a>\n				<a class="eqf-right23 next"></a>\n			</div>\n		</div>\n		<div class="show-list tuijian">\n			<h2>推荐<a href="" ng-click="attend()">我要参加</a><span>RECOMMEND</span></h2>\n			<ul class="clearfix">\n				<li ng-repeat="recList in recSceneList">\n					<a href="{{PREFIX_CLIENT_HOST + \'/v-\' + recList.code}}" target="_blank">\n						<img ng-src="{{PREFIX_FILE_HOST + recList.cover}}" />\n						<p>{{recList.name}}</p>\n						<p>\n							<span class="auth"><img title="{{recList.userLoginName}}" ng-src="{{recList.headImg}}" /></span>\n							<span><em class="eqf-eye"></em>{{recList.showCount}}</span>\n						</p>\n					</a>\n				</li>\n			</ul>\n		</div>\n		<div id="introduction" ng-bind-html="activeMes.introduction"></div>\n		<div class="show-list">\n			<h2>最新<span>NEW</span></h2>\n			<ul class="clearfix">\n				<li ng-repeat="scene in sceneList">\n					<a href="{{PREFIX_CLIENT_HOST + \'/v-\' + scene.code}}" target="_blank">\n						<img ng-src="{{PREFIX_FILE_HOST + scene.cover}}" />\n						<p>{{scene.name}}</p>\n						<p>\n							<span class="auth"><img title="{{scene.userLoginName}}" ng-src="{{scene.headImg}}" /></span>\n							<span><em class="eqf-eye2"></em>{{scene.showCount}}</span>\n						</p>\n					</a>\n				</li>\n			</ul>\n		</div>\n		<div class="same-content page-turning" ng-show="totalItems > 16">\n			<pagination previous-text="<<" next-text=">>" max-size="16" items-per-page="pageSize" total-items="totalItems" ng-model="currentPage" ng-change="pageChanged(currentPage)" boundary-links="true" rotate="true" num-pages="numPages"></pagination>\n		</div>\n		<div class="same-content hezuo" ng-show="friendLinks.length > 0">\n			<h2>合作<span>FRIEND</span></h2>\n			<ul class="clearfix">\n				<li ng-repeat="link in friendLinks">\n					<a href="{{link.url}}" target="_blank">\n						<img ng-src="{{link.logo}}" title="{{link.name}}" logo="{{link.name}}"/></a>\n				</li>\n			</ul>\n		</div>\n	</div>\n</div>\n<div ng-include="\'footer.tpl.html\'"></div>\n')
    }
    ]),
    b.module("show/active/active.tpl.html", []).run(["$templateCache", function(a) {
        a.put("show/active/active.tpl.html", '<div id="show-contain">\n	<div ng-include="\'show/category/nav.tpl.html\'" ng-controller="NavCtrl"></div>\n<!--	<div class="cake">\n		<div class="same-content">\n			<a href="#/show">秀场</a> > 活动\n		</div>\n	</div>-->\n	<div class="same-content">\n		<div class="active-lunbo mt" slides2 id="active" width="1000px" height="400px" style="width:1000px;height:400px;">\n			<div class="slides_container"></div>\n			<div class="hd-icon">\n				<a class="eqf-left22 prev"></a>\n				<a class="eqf-right23 next"></a>\n			</div>\n		</div>\n		<div class="active-list mt">\n			<h2>活动<span>ACTIVITY</span></h2>\n			<ul>\n				<li ng-repeat="hdList in activeList">\n					<div class="join">\n						<span>作品：{{hdList.joinNum}}</span><span>截止日期：{{hdList.endDate | date:\'yyyy-MM-dd\'}}</span>\n						<a ng-click="attend()">参加</a>\n					</div>\n					<div>\n						<a ng-click="join(hdList.id)">\n							<img ng-src="{{PREFIX_FILE_HOST + hdList.image}}" />{{hdList.title}}\n						</a>\n					</div>\n				</li>\n			</ul>\n		</div>\n		<div class="same-content page-turning" ng-show="totalItems > 10">\n			<pagination previous-text="<<" next-text=">>" max-size="10" items-per-page="pageSize" total-items="totalItems" ng-model="currentPage" ng-change="pageChanged(currentPage)" boundary-links="true" rotate="true" num-pages="numPages"></pagination>\n		</div>\n		<div class="same-content hezuo" ng-show="friendLinks.length > 0">\n			<h2>合作<span>FRIEND</span></h2>\n			<ul class="clearfix">\n				<li ng-repeat="link in friendLinks">\n					<a href="{{link.url}}" target="_blank">\n						<img ng-src="{{link.logo}}" title="{{link.name}}" alt="{{link.name}}" />\n					</a>\n				</li>\n			</ul>\n		</div>\n	</div>\n</div>\n<div ng-include="\'footer.tpl.html\'"></div>\n')
    }
    ]),
    b.module("show/category/category.tpl.html", []).run(["$templateCache", function(a) {
        a.put("show/category/category.tpl.html", '<div id="show-contain">\n	<div ng-include="\'show/category/nav.tpl.html\'" ng-controller="NavCtrl"></div>\n	<div class="show-con same-content clearfix">\n		<div class="hd-lunbo" slides2 id="secneType" width="650px" height="260px">\n			<div class="slides_container"></div>\n			<div class="hd-icon">\n				<a class="eqf-left22 prev"></a>\n				<a class="eqf-right23 next"></a>\n			</div>\n		</div>\n		<aside>\n			<h2><a href="#/show/active">更多</a>活动<span>ACTIVITY</span></h2>\n			<ul>\n				<li ng-repeat="hdList in activeList">\n					<a ng-click="join(hdList.id)">\n						<img ng-src="{{PREFIX_FILE_HOST + hdList.image}}" />\n						{{hdList.title}}\n					</a>\n				</li>\n			</ul>\n		</aside>\n	</div>\n	<div class="show-list same-content">\n		<h2>\n			<span class="category_sort">\n				<a ng-class="{active:order == null}" ng-click="tplNew(null)">最新</a>|\n				<!--<a ng-class="{active:order == \'3\'}" ng-click="tplNew(\'3\')">最热</a>-->\n				<a ng-class="{active:order == \'1\'}" ng-click="tplNew(\'1\')">样例</a></span>{{catName}}\n		</h2>\n		<div class="category">\n			<ul class="category_two clearfix">\n				<li ng-repeat="child in childCatrgoryList" ng-click="getPageTpls(child.id)">\n					<a href="" ng-class="{active:child.id == categoryId}">{{child.name}}</a>\n				</li>\n			</ul>\n		</div>\n	</div>\n	<div class="show-list same-content">\n		<ul class="clearfix" ng-show="tpls.length">\n			<li ng-repeat="tpl in tpls">\n				<a href="{{PREFIX_CLIENT_HOST + \'/v-\' + tpl.code}}" target="_blank">\n					<img ng-src="{{PREFIX_FILE_HOST + tpl.cover}}" />\n					<p>{{tpl.name}}</p>\n					<p>\n						<span><em class="eqf-eye2"></em>{{tpl.showCount}}</span>\n						<span class="auth"><img title="{{tpl.userName}}" ng-src="{{tpl.headImg}}" /></span>\n					</p>\n				</a>\n				<a ng-if="tpl.isTemplate" class="screen-use" target="_blank" ng-click="userTpl(tpl)">使用</a>\n			</li>\n		</ul>\n		<div style="margin:20px;" ng-hide="tpls.length">此分类下暂无场景</div>\n	</div>\n	<div class="same-content page-turning" ng-show="totalItems > 16" style="margin-bottom:20px;">\n		<pagination previous-text="<<" next-text=">>" max-size="16" items-per-page="pageSize" total-items="totalItems" ng-model="currentPage" ng-change="pageChanged(currentPage)" boundary-links="true" rotate="true" num-pages="numPages"></pagination>\n	</div>\n</div>\n<div ng-include="\'footer.tpl.html\'"></div>\n')
    }
    ]),
    b.module("show/category/nav.tpl.html", []).run(["$templateCache", function(a) {
        a.put("show/category/nav.tpl.html", '<div class="show-head">\n	<header class="clearfix">\n		<ul class="clearfix">\n			<li><a href="">发现</a></li>\n			<li><a href="">论坛</a></li>\n			<li><a href="">NAME</a></li>\n		</ul>\n		<a class="logo" href="#/home" target="_blank">\n			<img ng-src="{{CLIENT_CDN}}assets/images/show/logo.png" />\n		</a>\n	</header>\n	<div class="banner">\n		<div class="big-font"><img ng-src="{{CLIENT_CDN}}assets/images/show/faxian.png" /></div>\n		<div class="input-search">\n			<input class="search" type="text" value="" ng-model="val" ng-change="search(val)" ng-keypress="EnterPress(event,val)" ng-keydown="EnterPress(val)" />\n			<span class="eqf-serach search-icon" ng-click="submit()" style="cursor:pointer"></span>\n		</div>\n	</div>\n	<nav>\n		<ul class="same-content clearfix">\n			<li><a href="#/show/" ng-class="{active: childCat == \'index\'}">秀场</a></li>\n			<li><a href="#/show/active" ng-class="{active: childCat == \'active\'}">活动</a></li>\n			<li><a href="#/show/recommend" ng-class="{active: childCat == \'recommend\'}">推荐</a></li>\n			<li ng-repeat="type in sceneType" >\n				<a ng-class="{active: childCat == type.value}" ng-click="getCategoryPage(type.value,type.id)">{{type.name}}</a>\n			</li>\n			<li><a href="#/show/visitor" ng-class="{active: childCat == \'visitor\'}">秀客</a></li>\n		</ul>\n	</nav>\n</div>\n')
    }
    ]),
    b.module("show/index.tpl.html", []).run(["$templateCache", function(a) {
        a.put("show/index.tpl.html", '<div id="show-contain">\n	<div ng-include="\'show/category/nav.tpl.html\'" ng-controller="NavCtrl"></div>\n	<div class="show-con same-content clearfix">\n		<div class="hd-lunbo" slides2 id="index" width="650px" height="260px">\n			<div class="slides_container"></div>\n			<div class="hd-icon">\n				<a class="eqf-left22 prev"></a>\n				<a class="eqf-right23 next"></a>\n			</div>\n		</div>\n		<aside>\n			<h2><a href="#/show/active">更多</a>活动<span>ACTIVITY</span></h2>\n			<ul>\n				<li ng-repeat="hdList in activeList">\n					<a ng-click="join(hdList.id)">\n						<img ng-src="{{PREFIX_FILE_HOST + hdList.image}}" />\n						{{hdList.title}}\n					</a>\n				</li>\n			</ul>\n		</aside>\n	</div>\n	<div class="show-list same-content">\n		<h2>\n			<a href="#/show/recommend">更多</a>推荐<span>RECOMMEND</span>\n		</h2>\n		<ul class="clearfix">\n			<li ng-repeat="tpl in sceneList">\n				<a href="{{PREFIX_CLIENT_HOST + \'/v-\' + tpl.code}}" target="_blank">\n					<img ng-src="{{PREFIX_FILE_HOST + tpl.cover}}" />\n					<p>{{tpl.name}}</p>\n					<p>\n						<span><em class="eqf-eye2"></em>{{tpl.showCount}}</span>\n						<span class="auth"><img title="{{tpl.userName}}" ng-src="{{tpl.headImg}}" /></span>\n					</p>\n				</a>\n				<a ng-if="tpl.isTemplate" class="screen-use" target="_blank" ng-click="userTpl(tpl)">使用</a>\n			</li>\n		</ul>\n	</div>\n	<div class="hezuo same-content" ng-show="friendLinks.length>0">\n		<h2>合作<span>FRIEND</span></h2>\n		<ul class="clearfix">\n			<li ng-repeat="list in friendLinks">\n				<a href="{{list.url}}" target="_blank">\n					<img ng-src="{{list.logo }}" alt="{{list.name}}" title="{{list.name}}" />\n				</a>\n			</li>\n		</ul>\n	</div>\n</div>\n<div ng-include="\'footer.tpl.html\'"></div>\n')
    }
    ]),
    b.module("show/recommend/recommend.tpl.html", []).run(["$templateCache", function(a) {
        a.put("show/recommend/recommend.tpl.html", '<div id="show-contain">\n	<div ng-include="\'show/category/nav.tpl.html\'" ng-controller="NavCtrl"></div>\n<!--	<div class="cake">\n		<div class="same-content">\n			<a href="#/show">首页</a> > 推荐\n		</div>\n	</div>-->\n	<div class="show-list same-content">\n		<h2>\n			<span class="category_sort">\n				<a ng-class="{active:order == null}" ng-click="tplNew(null)">最新</a>|\n				<!--<a ng-class="{active:order == \'3\'}" ng-click="tplNew(\'3\')">最热</a>-->\n				<a ng-class="{active:order == \'1\'}" ng-click="tplNew(\'1\')">样例</a></span>\n			推荐<span>RECOMMEND</span>\n		</h2>\n		<ul class="clearfix">\n			<li ng-repeat="tpl in recommendList">\n				<a href="{{PREFIX_CLIENT_HOST + \'/v-\' + tpl.code}}" target="_blank">\n					<img ng-src="{{PREFIX_FILE_HOST + tpl.cover}}" />\n					<p>{{tpl.name}}</p>\n					<p>\n						<span><em class="eqf-eye2"></em>{{tpl.showCount}}</span>\n						<span class="auth"><img title="{{tpl.userName}}" ng-src="{{tpl.headImg}}" /></span>\n					</p>\n				</a>\n				<a ng-if="tpl.isTemplate" class="screen-use" target="_blank" ng-click="userTpl(tpl)">使用</a>\n			</li>\n		</ul>\n	</div>\n	<div class="same-content page-turning" style="margin-bottom:20px;" ng-show="totalItems > 16">\n		<pagination previous-text="<<" next-text=">>" max-size="16" items-per-page="pageSize" total-items="totalItems" ng-model="currentPage" ng-change="pageChanged(currentPage)" boundary-links="true" rotate="true" num-pages="numPages"></pagination>\n	</div>\n</div>\n<div ng-include="\'footer.tpl.html\'"></div>\n')
    }
    ]),
    b.module("show/search/search.tpl.html", []).run(["$templateCache", function(a) {
        a.put("show/search/search.tpl.html", '<div id="show-contain">\n	<div class="show-head">\n		<header class="clearfix">\n			<ul class="clearfix">\n				<li><a href="">发现</a></li>\n				<li><a href="">论坛</a></li>\n				<li><a href="">NAME</a></li>\n			</ul>\n			<a class="logo" href="#/home" target="_blank">\n				<img ng-src="{{CLIENT_CDN}}assets/images/show/logo.png" />\n			</a>\n		</header>\n		<div class="banner">\n			<div class="big-font"><img ng-src="{{CLIENT_CDN}}assets/images/show/faxian.png" /></div>\n		</div>\n	</div>\n	<div class="cake">\n		<div class="same-content">\n			<a href="#/show">首页</a> > 搜索-{{name}}\n		</div>\n	</div>\n	<div class="same-content" style="margin-bottom:20px;">\n		<div class="show-list same-content">\n			<h2>\n				搜索<span>SEARCH</span>\n			</h2>\n			<div class="search clearfix">\n				<input type="text" value="" id = "search" ng-model="val" onchange="search(val)" ng-keypress="EnterPress(event,val)" ng-keydown="EnterPress(val)">\n				<a href="" ng-click="submit(val)"><em class="eqf-serach"></em>搜索</a>\n			</div>\n			<div class="search-con">\n				<p>您搜索的关键词：<span class="key">{{name}}</span> 共有<span class="key">{{totalItems}}</span>条结果</p>\n			</div>\n			<ul class="clearfix">\n				<li ng-repeat="tpl in searchList">\n					<a href="{{PREFIX_CLIENT_HOST + \'/v-\' + tpl.code}}" target="_blank">\n						<img ng-src="{{PREFIX_FILE_HOST + tpl.cover}}" />\n						<p>{{tpl.name}}</p>\n						<p>\n							<span><em class="eqf-eye2"></em>{{tpl.showCount}}</span>\n							<span class="auth"><img title="{{tpl.userName}}" ng-src="{{tpl.headImg}}" /></span>\n						</p>\n					</a>\n					<a ng-if="tpl.isTemplate" class="screen-use" target="_blank" ng-click="userTpl(tpl)">使用</a>\n				</li>\n			</ul>\n		</div>\n		<div class="same-content page-turning" ng-show="totalItems > 16">\n			<pagination previous-text="<<" next-text=">>" max-size="10" items-per-page="pageSize" total-items="totalItems" ng-model="currentPage" ng-change="pageChanged(currentPage)" boundary-links="true" rotate="true" num-pages="numPages"></pagination>\n		</div>\n	</div>\n</div>\n<div ng-include="\'footer.tpl.html\'"></div>\n')
    }
    ]),
    b.module("show/visitor/visitor-xq.tpl.html", []).run(["$templateCache", function(a) {
        a.put("show/visitor/visitor-xq.tpl.html", '<div id="show-contain">\n    <div ng-include="\'show/category/nav.tpl.html\'" ng-controller="NavCtrl"></div>\n    <div class="cake">\n        <div class="same-content">\n            <a href="#/show">秀场</a> > <a href="#/show/visitor">秀客</a> > {{visitorMsg.name}}\n        </div>\n    </div>\n    <div class="visitor-xq same-content">\n        <div class="clearfix">\n            <img ng-src="{{visitorMsg.headImg}}" width="200px" height="200px">\n            <div class="visitor-dec">\n                <h4><!--<span><em class="eqf-phone"></em>个人名片场景<em>人气：33943</em></span>-->{{visitorMsg.name}}</h4>\n                <p class="des">{{visitorMsg.introduction}}</p>\n                <ul>\n                    <li>擅长领域：<span ng-repeat="server in serverTag">{{server.name}}</span></li>\n                    <li>服务地域：<span ng-repeat="cate in cateTag">{{cate.name}}</span></li>\n                    <li>支付方式：<span ng-repeat="pay in payTag">{{pay.name}}</span></li>\n                </ul>\n            </div>\n        </div>\n        <div class="contact">\n            <a ng-if="visitorMsg.qq" href="http://wpa.qq.com/msgrd?v=3&amp;uin=\'+ {{visitorMsg.qq}} +\'&amp;site=www.cactussoft.cn&amp;menu=yes" target="_blank" class="qq"><em class="eqf-qq"></em></a>\n            <a ng-if="!visitorMsg.qq" class="hui hint--top hint--rounded" data-hint="该秀客没有留下QQ号"><em class="eqf-qq"></em></a>\n            <a class="hint--top hint--rounded weixin" data-hint="{{\'微信号：\' + visitorMsg.wechat}}"><em class="eqf-wechat"></em></a>\n            <a class="phone hint--top hint--rounded" data-hint="{{\'电话号：\' + visitorMsg.tel}}"><em class="eqf-glyphicon-earphone"></em></a>\n            <a ng-if="visitorMsg.email" class="sixin" href="mailto:\'+ {{visitorMsg.email}} +\'"><em class="eqf-envelope"></em></a>\n            <a ng-if="!visitorMsg.email" class="hui hint--top hint--rounded" data-hint="该秀客没有留下邮箱"><em class="eqf-envelope"></em></a>\n        </div>\n        <!--<p class="guanzhu"><a href=""><em class="eqf-plus2"></em>关注</a><a href=""><em class="eqf-envelope"></em>私信</a></p>-->\n\n    </div>\n    <div class="show-list same-content">\n        <h2>\n            作品<span>WORKS</span>\n        </h2>\n        <ul class="clearfix">\n            <li ng-repeat="tpl in visitorWorks">\n                <a href="{{PREFIX_CLIENT_HOST + \'/v-\' + tpl.code}}" target="_blank">\n                    <img ng-src="{{PREFIX_FILE_HOST + tpl.cover}}" />\n                    <p>{{tpl.name}}</p>\n                    <p>\n                        <span><em class="eqf-eye2"></em>{{tpl.showCount}}</span>\n                        <span class="auth"><img title="{{tpl.userName}}" ng-src="{{tpl.headImg}}" /></span>\n                    </p>\n                </a>\n            </li>\n        </ul>\n    </div>\n    <div class="same-content page-turning" ng-show="totalItems > 16">\n        <pagination previous-text="<<" next-text=">>" max-size="16" items-per-page="pageSize" total-items="totalItems" ng-model="currentPage" ng-change="pageChanged(currentPage)" boundary-links="true" rotate="true" num-pages="numPages"></pagination>\n    </div>\n</div>\n<div ng-include="\'footer.tpl.html\'"></div>')
    }
    ]),
    b.module("show/visitor/visitor.tpl.html", []).run(["$templateCache", function(a) {
        a.put("show/visitor/visitor.tpl.html", '<div id="show-contain">\n    <div ng-include="\'show/category/nav.tpl.html\'" ng-controller="NavCtrl"></div>\n<!--    <div class="cake">\n        <div class="same-content">\n            <a href="#/show">首页</a> > 秀客\n        </div>\n    </div>-->\n    <div class="visitor-contain">\n        <div class="visitor same-content clearfix">\n            <section>\n                <h2><span><a href="">加入秀客</a><a href="">秀客家园</a><a href="">投诉</a></span>找秀客</h2>\n                    <div class="select-list">\n                        <span>服务地域</span>|<a ng-class="{active:serverAll == \'all\'}" ng-click="serverWu(\'province\',\'serverAll\')">不限</a>\n                        <a ng-repeat="server in serverLabel | filter: getLimitedServeRegion" ng-click="subServer(server)" ng-class="{active:currentServer ==server}">{{server.name}}</a>\n                        <a ng-show="moreArea" class="more" data-toggle="dropdown">更多</a>\n                        <div class="other-label dropdown-menu">\n                            <a ng-repeat="otherServer in serverLabel | filter: getOtherServeRegion" ng-click="subServer(otherServer)" ng-class="{active:currentServer == otherServer}">\n                                {{otherServer.name}}\n                            </a>\n     <!--                       <div style="text-align: center;"><a class="btn-main" >确认</a></div>-->\n                        </div>\n                    </div>\n                    <div class="select-list" style="position:relative;">\n                        <span>擅长领域</span>|<a ng-class="{active:cateAll == \'all\'}" ng-click="serverWu(\'company_industry\',\'cateAll\')">不限</a>\n                        <a ng-repeat="tag in cateLabel | filter: getLimitedCateRegion" ng-click="subLabel(tag)" ng-class="{active:currentCate ==tag}">{{tag.name}}</a>\n                        <a data-toggle="dropdown" ng-show="moreLabel" class="more">更多</a>\n                        <div class="other-label dropdown-menu">\n                            <a ng-repeat="otherCate in cateLabel | filter: getOtherCateRegion" ng-click="subLabel(otherCate)" ng-class="{active:currentCate == otherCate}">\n                                {{otherCate.name}}\n                            </a>\n                            <!--<div style="text-align: center;"><a class="btn-main" ng-click="queren()">确认</a></div>-->\n                        </div>\n                    </div>\n                    <div class="select-list">\n                        <span>付款方式</span>|<a ng-class="{active:payAll == \'all\'}" ng-click="serverWu(\'payType\',\'payAll\')">不限</a>\n                        <a ng-repeat="pay in payLabel" ng-click="subPay(pay)" ng-class="{active: currentPay == pay}">{{pay.name}}</a>\n                    </div>\n            </section>\n            <aside class="visitor-list">\n                <h2>本周之星</h2>\n                <div class="visitor-same">\n                    <div class="visitor-one clearfix">\n                        <a ng-click="visitorXq(recommendVisitor.userId)">\n                            <img ng-src="{{recommendVisitor.headImg}}" width="80px" height="80px">\n                        </a>\n                        <h3><a ng-click="visitorXq(recommendVisitor.userId)">{{recommendVisitor.name}}</a></h3>\n                        <p class="dec">{{recommendVisitor.introduction}}</p>\n                        <!--<p class="guanzhu"><a href=""><em class="eqf-plus2"></em>关注</a><a href=""><em class="eqf-envelope"></em>私信</a></p>-->\n                    </div>\n                    <div class="visitor-works">\n                        <ul>\n                            <li><span>作品</span>|<a href="{{PREFIX_CLIENT_HOST + \'/v-\' + work1Code}}" target="_blank">{{work1Name}}</a></li>\n                            <li><span>作品</span>|<a href="{{PREFIX_CLIENT_HOST + \'/v-\' + work2Code}}"  target="_blank">{{work2Name}}</a></li>\n                            <li><span>作品</span>|<a href="{{PREFIX_CLIENT_HOST + \'/v-\' + work3Code}}" target="_blank">{{work3Name}}</a></li>\n                        </ul>\n                    </div>\n                </div>\n            </aside>\n        </div>\n        <div class="same-content visitor-item">\n            <h2><!-- <a><em class="eqf-refresh"></em>换一批</a> -->秀客列表</h2>\n            <div class="visitor-content">\n                <ul class="clearfix">\n                    <li class="visitor-list visitor-same" ng-repeat="visitor in visitorList">\n                        <div class="visitor-one clearfix">\n                            <a href="">\n                                <img ng-src="{{visitor.headImg}}" width="80px" height="80px">\n                            </a>\n                            <h3><a ng-click="visitorXq(visitor.userId)">{{visitor.name}}</a></h3>\n                            <p class="dec">{{visitor.introduction}}</p>\n                            <!--<p class="guanzhu"><a href=""><em class="eqf-plus2"></em>关注</a><a href=""><em class="eqf-envelope"></em>私信</a></p>-->\n                        </div>\n                        <div class="visitor-works">\n                            <ul>\n                                <li><span>作品</span>|<a href="{{PREFIX_CLIENT_HOST + \'/v-\' + represent1Code}}" target="_blank">{{represent1Name}}</a></li>\n                                <li><span>作品</span>|<a href="{{PREFIX_CLIENT_HOST + \'/v-\' + represent2Code}}" target="_blank">{{represent2Name}}</a></li>\n                                <li><span>作品</span>|<a href="{{PREFIX_CLIENT_HOST + \'/v-\' + represent3Code}}" target="_blank">{{represent3Name}}</a></li>\n                            </ul>\n                        </div>\n                    </li>\n                </ul>\n            </div>\n        </div>\n        <div class="same-content page-turning" ng-show="totalItems > 16" style="margin-bottom:20px;">\n            <pagination previous-text="<<" next-text=">>" max-size="16" items-per-page="pageSize" total-items="totalItems" ng-model="currentPage" ng-change="pageChanged(currentPage)" boundary-links="true" rotate="true" num-pages="numPages"></pagination>\n        </div>\n    </div>\n\n</div>\n<div ng-include="\'footer.tpl.html\'"></div>');
    }
    ]),
    b.module("usercenter/console/apply.tpl.html", []).run(["$templateCache", function(a) {
        a.put("usercenter/console/apply.tpl.html", '<div class="dialog-contain apply-show">\n    <div class="dialog-head">\n        <h1>申请秀客</h1>\n        <p ng-show="!actionerror">申请成为秀客</p>\n        <p ng-show="actionerror">{{actionerror}}</p>\n    </div>\n    <div class="dialog-content">\n        <form class="form-contain" role="form">\n            <div class="form-list clearfix">\n                <label class="form-label">简短介绍</label>\n                <div class="form-input">\n                    <input type="text" class="shortIntroduction" ng-model="applyInfo.shortIntroduction"  maxlength = "15" placeholder="15个中文字符"/>\n                </div>\n            </div>\n            <div class="form-list clearfix">\n                <label class="form-label">秀客介绍</label>\n                <div class="form-input" style="height:70px;">\n                    <textarea maxlength="300" class="Introduction" ng-model="applyInfo.introduction" placeholder="300个中文字符"></textarea>\n                </div>\n            </div>\n            <div class="form-list clearfix">\n                <label class="form-label"></label>\n                <div class="form-input">\n                    <input type="text" class="selfScene" ng-model="applyInfo.selfScene" placeholder="秀客介绍场景地址"/>\n                </div>\n            </div>\n            <div class="form-list clearfix">\n                <label class="form-label">代表作品</label>\n                <div class="form-input my-scene" >\n                    <div ng-show="myShowScene">\n                        <select ng-model="applyInfo.represent1" class="represent1" ng-options="scene.name for scene in myShowScene">\n                            <option value="">请选择作品1</option>\n                        </select>\n                        <select ng-model="applyInfo.represent2" class="represent2" ng-options="scene.name for scene in myShowScene">\n                            <option value="">请选择作品2</option>\n                        </select>\n                        <select ng-model="applyInfo.represent3" class="represent3" ng-options="scene.name for scene in myShowScene">\n                            <option value="">请选择作品3</option>\n                        </select>\n                    </div>\n                    <div ng-show="!myShowScene">\n                        您暂无代表作品，请先创建场景，或者将已有场景加入秀场（此操作在场景设置页）。\n                    </div>\n                </div>\n            </div>\n            <div class="form-list clearfix">\n                <label class="form-label">服务地域</label>\n                <div class="form-input pag apply-check">\n                    <a ng-show="moreArea" class="more" data-toggle="dropdown">更多</a>\n                    <span ng-repeat="server in serverLabel | filter: getLimitedServeRegion" >\n                        <input type="checkbox" id="{{server.name + $index}}" ng-model="server.ischecked" class="area">\n                        <label for="{{server.name + $index}}">{{server.name}}</label>\n                    </span>\n                    <div class="other-label dropdown-menu">\n                        <span ng-repeat="otherServer in serverLabel | filter: getOtherServeRegion" forbidden-close>\n                            <input type="checkbox" id="{{otherServer.name + $index}}" class="area" ng-model="otherServer.ischecked">\n                            <label for="{{otherServer.name + $index}}">{{otherServer.name}}</label>\n                        </span>\n                        <div style="text-align: center;padding-bottom:10px;"><a class="btn-main" ng-click="areaQr()">确认</a></div>\n                    </div>\n                </div>\n            </div>\n            <div class="form-list clearfix">\n                <label class="form-label">擅长领域</label>\n                <div class="form-input pag apply-check">\n                    <a ng-show="moreLabel" class="more" data-toggle="dropdown">更多</a>\n                    <span ng-repeat="tag in cateLabel | filter: getLimitedCateRegion">\n                        <input type="checkbox" id="{{tag.name + $index}}" class="area" ng-model="tag.ischecked" ng-value="tag">\n                        <label for="{{tag.name + $index}}">{{tag.name}}</label>\n                    </span>\n                    <div class="other-label dropdown-menu">\n                        <span ng-repeat="otherCate in cateLabel | filter: getOtherCateRegion" forbidden-close>\n                            <input type="checkbox" id="{{otherCate.name + $index}}" class="area" ng-model="otherCate.ischecked" ng-value="other">\n                            <label for="{{otherCate.name + $index}}">{{otherCate.name}}</label>\n                        </span>\n                        <div style="text-align: center;padding-bottom:10px;"><a class="btn-main" ng-click="queren()">确认</a></div>\n                    </div>\n                </div>\n            </div>\n            <div class="form-list clearfix">\n                <label class="form-label">支付方式</label>\n                <div class="form-input apply-check">\n                    <span ng-repeat="pay in payLabel">\n                        <input type="checkbox" id="{{pay.name + $index}}" ng-model="pay.ischecked" class="area"><label for="{{pay.name + $index}}">{{pay.name}}</label>\n                    </span>\n                </div>\n            </div>\n            <div class="form-list clearfix">\n                <label class="form-label">服务QQ</label>\n                <div class="contact"><input type="text" class="qq" ng-model="applyInfo.qq" value="" /></div>\n                <label class="form-label">微信号</label>\n                <div class="contact"><input type="text" class="wechat" ng-model="applyInfo.wechat" value="" /></div>\n            </div>\n            <div class="form-list clearfix">\n                <label class="form-label">联系电话</label>\n                <div class="contact"><input type="text" class="tel" ng-model="applyInfo.tel" value="" /></div>\n                <label class="form-label">联系邮箱</label>\n                <div class="contact"><input type="text" class="email" ng-model="applyInfo.email" value="" /></div>\n            </div>\n            <div class="btn-contain btn-big">\n                <a class="btn-main login" ng-click="submit(applyInfo)">提交申请</a>\n                <a class="btn-grey0 cancel" ng-click="cancel()">取消</a>\n            </div>\n        </form>\n    </div>\n</div>')
    }
    ]),
    b.module("usercenter/console/branch.tpl.html", []).run(["$templateCache", function(a) {
        a.put("usercenter/console/branch.tpl.html", '<div class="dialog-contain">\n    <div class="dialog-head">\n        <h1>添加子账号</h1>\n        <p ng-show="!authError">添加子账号</p>\n        <p ng-show="authError">{{authError}}</p>\n    </div>\n    <div class="dialog-content branch-modal">\n        <form class="form-contain" role="form">\n            <div class="form-list clearfix">\n                <label class="form-label">分账号</label>\n                <div class="form-input">\n                    <input type="text" class="login-name" ng-model="branch.loginName" placeholder="请设置邮箱账号" ng-readonly="originData"/>\n                </div>\n            </div>\n            <div style="margin-top:10px;"><span style="padding-left:115px;color:#ccc;">默认密码为eqxiu</span></div>\n            <div class="form-list clearfix">\n                <label class="form-label">用户名</label>\n                <div class="form-input">\n                    <input type="text" class="branch-name" ng-model="branch.name" placeholder="请填写用户名"/>\n                </div>\n            </div> \n            <div class="form-list clearfix">\n                <label class="form-label">部门</label>\n                <div class="form-input">\n                    <select ng-model="branch.dept" ng-options="dept.name for dept in depts">\n                        <option value="">全部</option>\n                    </select>\n                </div>\n            </div>\n            <div class="form-list clearfix">\n                <div ng-show="!showAddSec">\n                    <label class="form-label"></label>\n                    <div class="form-input">\n                        <span class="fa fa-plus-circle add-dept" ng-click="showAddSec = true;">添加部门</span>\n                    </div>\n                </div>\n                <div ng-show="showAddSec" class="dept-list">\n                    <label class="form-label"></label>\n                    <div class="form-input">\n                        <input style="width:100px" class="dept-name" type="text" ng-model="dept.name"/>\n                        <span>输入部门名称</span>\n                        <span class="btn add" ng-click="addDept();">添加</span>\n                        <span class="btn cancel" ng-click="showAddSec = false;">取消</span>\n                    </div>\n                </div> \n            </div> \n            <div class="btn-contain btn-big">\n                <a class="btn-main login" ng-click="confirm()">保存</a>\n                <a class="btn-grey0 cancel" ng-click="cancel()">取消</a>\n            </div>                                                                  \n        </form>\n    </div>\n</div>')
    }
    ]),
    b.module("usercenter/console/relAccount.tpl.html", []).run(["$templateCache", function(a) {
        a.put("usercenter/console/relAccount.tpl.html", '<div class="dialog-contain ">\n    <div class="dialog-head">\n        <h1>绑定邮箱</h1>\n        <p ng-show="!relErr">绑定已有账户邮箱</p>\n        <p ng-show="relErr">{{relErr}}</p>\n    </div>\n    <div class="dialog-content">\n        <form class="form-contain" role="form">\n            <div class="form-list clearfix">\n                <label for="inputPassword3" class="form-label">登录账号</label>\n                <div class="form-input">\n                    <input type="text" ng-model="user.email" ng-blur="checkUpperCase();" placeholder="输入邮箱"/>\n                </div>\n            </div>  \n            <div class="form-list clearfix">\n                <label for="inputPassword3" class="form-label">密码</label>\n                <div class="form-input">\n                    <input type="password" style="float:right;" maxlength = "12" ng-model="user.password" placeholder="输入密码"/>\n                </div>\n            </div>\n			<div class="btn-contain btn-big">\n			    <a class="btn-main login" ng-click="relAccount()">立即绑定</a>\n			    <a class="btn-grey0 cancel" ng-click="cancel()">取消</a>\n			</div>                              	\n        </form>\n    </div>\n</div>')
    }
    ]),
    b.module("usercenter/console/resetbranchpass.tpl.html", []).run(["$templateCache", function(a) {
        a.put("usercenter/console/resetbranchpass.tpl.html", '<div class="dialog-contain ">\n    <div class="dialog-head">\n        <h1>修改密码</h1>\n        <p ng-show="!authError">在此修改密码，退出再登录后及成功</p>\n        <p ng-show="authError">{{authError}}</p>\n    </div>\n    <div class="dialog-content">\n        <form class="form-contain" role="form">\n            <div class="form-list clearfix">\n                <label for="inputPassword3" class="form-label">分账号：</label>\n                <div class="form-input" style="top: 6px;">{{branch.loginName}}</div>\n            </div>\n            <div class="tip" style="padding-left: 30px;margin: 20px 0;">\n                <span>重置密码后，密码将恢复为初始密码:</span>\n                <span style="color: #ff0000;">eqxiu</span>\n            </div>\n            <div class="btn-contain btn-big">\n                <a class="btn-main login" ng-click="reset()">重置为初始密码</a>\n                <a class="btn-grey0 cancel" ng-click="cancel()">取消</a>\n            </div>\n        </form>\n    </div>\n</div>\n')
    }
    ]),
    b.module("usercenter/console/upgrade_company.tpl.html", []).run(["$templateCache", function(a) {
        a.put("usercenter/console/upgrade_company.tpl.html", '<div class="dialog-contain upgrade">\n	<div class="dialog-head">\n		<h1>企业信息</h1>\n		<p>完善你的企业信息后，才能申请企业账号！</p>\n	</div>\n	<div class="dialog-content">\n		<form class="form-contain" role="form">\n		    <div class="form-list clearfix">\n		        <label for="inputPassword3" class="form-label">企业</label>\n		        <div class="form-input">\n		            <input type="text" class="comname" ng-model="companyInfo.name" placeholder="企业名称"><span>必填</span>\n		        </div>\n		    </div>\n		    <div class="form-list clearfix">\n		        <label for="inputPassword3" class="form-label">企业规模</label>\n		        <div class="upgrade-select">\n		            <select ng-model="companyInfo.scale" class="scale" ng-options="scale.name for scale in scales">\n		            	<option value="">无</option>\n		            </select>\n		        </div>\n		        <label for="inputPassword3" class="form-label">所属行业</label>\n		        <div class="upgrade-select">\n		            <select ng-model="companyInfo.industry" class="industry" ng-options="industry.name for industry in industries">\n		            	<option value="">无</option>\n		            </select>\n		        </div>		        \n		    </div>	\n	        <div class="form-list clearfix">\n	            <label for="inputPassword3" class="form-label">部门</label>\n	            <div class="form-input">\n	                <input type="text" class="department" ng-model="companyInfo.department" placeholder="部门"><span>必填</span>\n	            </div>\n	        </div>	\n	        <div class="form-list clearfix">\n	            <label for="inputPassword3" class="form-label">企业邮箱</label>\n	            <div class="form-input">\n	                <input type="text" class="email" ng-model="companyInfo.email" placeholder="企业邮箱"><span>必填</span>\n	            </div>\n	        </div>	        	    	    	    \n	        <div class="form-list clearfix">\n	            <label for="inputPassword3" class="form-label">网址</label>\n	            <div class="form-input">\n	                <input type="text" class="website" ng-model="companyInfo.website" placeholder="网址"><span>必填</span>\n	            </div>\n	        </div>\n	        <div class="form-list clearfix">\n	            <label for="inputPassword3" class="form-label">地址</label>\n	            <div class="form-input">\n	                <input type="text" class="address" ng-model="companyInfo.address"  placeholder="地址"><span>必填</span>\n	            </div>\n	        </div>\n	        <div class="form-list clearfix">\n	            <label for="inputPassword3" class="form-label">联系人</label>\n	            <div class="form-input">\n	                <input type="text" class="comcontact" ng-model="companyInfo.contacts" placeholder="联系人"><span>必填</span>\n	            </div>\n	        </div>\n	        <div class="form-list clearfix">\n	            <label for="inputPassword3" class="form-label">手机</label>\n	            <div class="form-input">\n	                <input type="type" class="tel" ng-model="companyInfo.tel" placeholder="手机"><span>必填</span>\n	            </div>\n	        </div>\n	        <div class="form-list clearfix">\n	            <label for="inputPassword3" class="form-label">电话</label>\n	            <div class="form-input">\n	                <input type="type" class="mobile" ng-model="companyInfo.mobile" placeholder="电话" maxlength = \'12\'><span>必填</span>\n	            </div>\n	        </div>	        \n	        <div class="form-list clearfix">\n	            <div class=" upload-company">\n					<img class="upload-img" ng-show="companyInfo.license" style="margin-left:-15px;padding-top:0" ng-model="companyInfo.license" ng-src="{{companyImg ||(PREFIX_FILE_HOST + companyInfo.license)}}" width="220px" height="160px" />\n	            	<a ng-hide="companyInfo.license" class="upload-com-con" ng-click="goUpload()">\n		                <img ng-src="{{CLIENT_CDN}}assets/images/upload_03.png" >\n		                <p>点击上传企业营业照片</p>\n		                <p style="padding-left:45px;">将优先审核</p>\n		            </a>\n	            </div>\n	            <div ng-show="companyInfo.license" class="updata-img"><a ng-click="goUpload()">更改图片</a></div>\n	        </div>\n	        <div class="form-list clearfix">\n	            <div class="falv">\n	                <input style="margin-top:0px;width:20px;float:none;" type="checkbox" value="  true" class="col-sm-3 ng-pristine ng-valid" checked disabled="disabled">  我确认提供信息真实可靠，并承担相关法律责任\n	            </div>\n	        </div>	\n	        <p class="autherror" ng-show="authError">{{authError}}</p>	\n        	<div class="btn-contain btn-big">\n            	<a class="btn-main login" ng-click="upgradeCompanyMessage(companyInfo)">提交</a>\n                <a class="btn-grey0 cancel" ng-click="quXiao()">取消</a>\n            </div>	        \n		</form>		\n	</div>\n</div>')
    }
    ]),
    b.module("usercenter/request_reg.tpl.html", []).run(["$templateCache", function(a) {
        a.put("usercenter/request_reg.tpl.html", '<div class="request_reg">\n	<div class="close" ng-click="cancel()">x</div>\n	<div class="erwei" qr-code qr-url="{{PREFIX_CLIENT_HOST + \'/m/#/wxLogin?id=\' + currentUser.id}}"></div>\n<!-- 	<div class="erwei" qr-code qr-url="{{PREFIX_CLIENT_HOST + \'/m/#/wxreg?id=\' + currentUser.id}}"></div>	 -->	\n</div>')
    }
    ]),
    b.module("usercenter/tab/account.tpl.html", []).run(["$templateCache", function(a) {
        a.put("usercenter/tab/account.tpl.html", '<div class="panel panel-default">\n  <div class="panel-body">\n    <div class="account" ng-show="!showBranch">\n        <div class="login-name">登录账号：\n            <span>{{userinfo.noRel || userinfo.loginName}} <a ng-if="!userinfo.noRel" ng-click="  goReset()" style="color:#08a1ef;padding-left:5px;">修改密码</a></span>\n            <span ng-if="userinfo.noRel"><a style="display:inline-block;" ng-click="relAccount()"><img ng-src="{{CLIENT_CDN}}assets/images/bangding.png"></a></span>\n        </div>\n        <div class="company-message">\n            <span ng-show="userinfo.type ==1 && companyInfo.status != 0"><a ng-click="upgradeCompany()">升级为企业账号</a><img ng-src="{{CLIENT_CDN}}assets/images/query.png" title="  企业账号：提供企业功能，适合企业自己使用，可以按照部门创建分账号 "></span>\n            <span ng-show="companyInfo.status == 0">企业账号申请中</span>\n            <span ng-show="companyInfo.status == -1">企业账号审核被拒绝!</span>\n        </div>        \n        <!-- 绑定邮箱弹出框 -->\n        <div class="email-account" ng-show="emailAccount">\n            <h1>您的账号还没有绑定邮箱</h1>\n            <p>去用户中心>账号管理，<a ng-click="relAccount()">马上绑定</a></p>\n        </div>     \n        <div class="company-message" ng-show="userinfo.type==2">账号类型：\n            <span>企业账号</span>\n            <span><a ng-click="showBranch = true;">管理分账号</a></span>\n        </div>\n        <div class="relInfo">\n            <div>账号关联后，可以通过关联账号直接登录！</div>\n            <ul class="clearfix" style="margin-top: 20px;">\n                <li class="wx" ng-class="{wxrel: wxRel}">\n                    <img ng-src="{{CLIENT_CDN}}assets/images/wechatwhite.png">微信\n                    <span ng-if="!wxRel">未关联</span>\n                    <a class="no-relate" ng-if="!wxRel" ng-click="bindThirdAccount(\'weixin\');">关联</a>\n                    <span ng-if="wxRel">已关联</span>\n                    <a class="related" ng-if="wxRel" ng-click="unbindRelation(\'weixin\')">解除关联</a>\n                </li>\n                <li class="qq" ng-class="{qqrel: qqRel}">\n                    <img ng-src="{{CLIENT_CDN}}assets/images/QQwhite.png">QQ\n                    <span ng-if="!qqRel">未关联</span>\n                    <a class="no-relate" ng-if="!qqRel" ng-click="bindThirdAccount(\'qq\');">关联</a>\n                    <span ng-if="qqRel">已关联</span>\n                    <a class="related" ng-if="qqRel" ng-click="unbindRelation(\'qq\')">解除关联</a>\n                </li>\n                <li class="wb" ng-if="false" ng-class="{wbrel: wbRel}">\n                    <img ng-src="{{CLIENT_CDN}}assets/images/weibowhite.png">微博\n                    <span ng-if="!wbRel">未关联</span>\n                    <span ng-if="wbRel">已关联</span>\n                </li>\n            </ul>\n        </div>\n    </div>\n    <div class="branches" ng-show="showBranch">\n        <div class="ctrl-opera">\n            <span class="fa fa-mail-reply" ng-click="showBranch=false;">&nbsp;&nbsp;返回</span>\n            <span class="fa fa-plus-circle fr" ng-click="manageBranch()">&nbsp;&nbsp;添加账号</span>\n        </div>\n        <div class="branch-list">\n            <table class = "col-sm-12 table table-bordered text-center branches-table" >\n                <thead>\n                    <tr>\n                        <th class="col-sm-3">&nbsp;分账号&nbsp;</th>\n                        <th class="col-sm-2">用户名</th>\n                        <th class="col-sm-2">部门</th>\n                        <th class="col-sm-2">创建时间</th>\n                        <th class="col-sm-3">管理</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    <tr ng-repeat="branch in branches">\n                        <td>{{branch.loginName}}</td>\n                        <td>{{branch.name}}</td>\n                        <td>{{branch.deptName}}</td>\n                        <td>{{branch.regTime | date:\'yyyy-MM-dd\'}}</td>\n                        <td>\n                            <a class="branch-close" ng-show="branch.status==1" ng-click="openBranch(branch, false);"><ins>关闭</ins></a>\n                            <a class="branch-close" ng-show="branch.status==2" ng-click="openBranch(branch, true);"><ins>开放</ins></a>\n                            <a href="" class="pass-reset" ng-click="openResetModal(branch);">重置密码</a>\n                            <a ng-click="manageBranch(branch)"><span class="glyphicon glyphicon-cog"></span></a>\n                        </td>\n                    </tr>\n                </tbody>\n            </table>\n        </div>\n        <div class="clearfix fl" ng-show = "branches.length > 0">\n            <pagination style="float: left" first-text="首页" last-text="尾页" previous-text="上一页" next-text="下一页" max-size="5" items-per-page="XdpageSize" total-items="branchesCount" ng-model="currentPage.branchCurrentPage" boundary-links="true" rotate="true" num-pages="branchesNumPages"></pagination>\n            <div class="current_page">\n                <input type="text" ng-model="branchToPage" ng-keyup="$event.keyCode == 13 ? pageChanged(branchToPage, \'branchCurrentPage\') : null">\n                <a ng-click="pageChanged(branchToPage, \'branchCurrentPage\')" class="go">GO</a>\n                <span>当前: {{currentPage.branchCurrentPage}} / {{branchesNumPages}} 页</span>\n            </div>\n        </div>\n    </div>\n  </div>\n</div>')
    }
    ]),
    b.module("usercenter/tab/domain.tpl.html", []).run(["$templateCache", function(a) {
        a.put("usercenter/tab/domain.tpl.html", '<div class="dialog-contain domain-xiudian">\n    <div class="dialog-head">\n        <h1>绑定域名</h1>\n        <p ng-show="!actionerror">请您输入正确的域名地址</p>\n        <p ng-show="actionerror">{{actionerror}}</p>\n    </div>\n    <div class="dialog-content">\n        <form class="form-contain" role="form">\n            <div class="form-list clearfix">\n                <label class="form-label">绑定域名</label>\n                <div class="form-input">\n                    <input type="text" class="dns" ng-model="domainMess.url" placeholder="请输入要绑定的域名">\n                </div>\n            </div>\n        </form>\n        <div class="clearfix xiudian-time" ng-init="someVariable = null">\n            <span class="form-label" style="font-size:16px">选择有效期</span>\n            <span ng-repeat="type in domainMess.typeList" style="padding-left:10px;">\n                <input type="radio" ng-model="$parent.someVariable" id="\'{{type.value}}\'" ng-value="domainMess.type">\n                <label for="\'{{type.value}}\'">{{type.label}}秀点{{type.value}}天</label>\n            </span>\n        </div>\n        <div class="btn-contain btn-big">\n            <a class="btn-main login" ng-click="submit(domainMess.url,someVariable.value,someVariable.label)">确认</a>\n            <a class="btn-grey0 cancel" ng-click="quXiao()">取消</a>\n        </div>\n    </div>\n    <div class="xiudian clearfix" ng-show="xiudian">\n        <div class="chongzhi">\n            <h1>秀点不足</h1>\n            <p>我的秀点：{{xdCounts}}，需消耗{{count}}秀点</p>\n            <div class="erweima">\n                微信扫描二维码，</br>关注易起秀微信账号，马上充值\n            </div>\n        </div>\n        <img ng-src="{{CLIENT_CDN}}assets/images/111.jpg" >\n        <div class="know"><a class="btn-main" ng-click="know()">知道了</a></div>\n    </div>\n</div>')
    }
    ]),
    b.module("usercenter/tab/message.tpl.html", []).run(["$templateCache", function(a) {
        a.put("usercenter/tab/message.tpl.html", '<div class="panel panel-default">\n  <div class="panel-body message-panel">\n    <div class="panel-heading" style="padding-right:0px;">\n        <span style = "float: right;">\n            <a class="reject-issue" href="http://www.48ym.com/forum.php?mod=viewthread&tid=890" target="_blank">审核问题</a>\n            <a style = "color: #08a1ef;" ng-show = "newMsgs.length > 0" ng-click = "setRead(newMsgs)">全部设为已读</a>\n        </span>\n    </div>                \n    <div class = "clearfix" style="border-bottom: 1px solid #F0F0F0;" ng-repeat = "newMsg in newMsgs">\n      <div style="width:120px;float:left;" class = "mes_content mes_type" ng-class = "{new_msg: newMsg.status == 1,yidu_msg: newMsg.status == 2}"><span class = "glyphicon" ng-class = "{\'glyphicon-bullhorn\': newMsg.bizType==1,\'glyphicon-ban-circle\': newMsg.bizType==2, \'glyphicon-star-empty\': newMsg.bizType == 3}"></span> {{newMsg.type}}</div>\n      <div class = "mes_content xiaoxi_con" ng-bind-html="newMsg.content">\n      </div>\n      <div class = "mes_content" style="width:165px;float:left;padding-right:0px;text-align:right;">{{newMsg.sendTime | date:\'yyyy-MM-dd HH:mm:ss\'}}</div>\n    </div>\n    <div ng-show = "newMsgs.length == 0">您暂时还没有消息！</div>\n    <div class="clearfix fl" ng-show = "msgCount > 5">\n          <pagination style="float: left" first-text="首页" last-text="尾页" previous-text="上一页" next-text="下一页" max-size="5" items-per-page="pageSize" total-items="msgCount" ng-model="currentPage.msgCurrentPage" boundary-links="true" rotate="true" num-pages="msgNumPages"></pagination>\n          <div class="current_page">\n              <input type="text" ng-model="toPage" ng-keyup="$event.keyCode == 13 ? pageChanged(toPage, \'msgCurrentPage\') : null">\n              <a ng-click="pageChanged(toPage, \'msgCurrentPage\')" class="go">GO</a>\n              <span>当前: {{currentPage.msgCurrentPage}} / {{msgNumPages}} 页</span>\n          </div>\n      </div>\n    </div>\n</div>')
    }
    ]),
    b.module("usercenter/tab/reset.tpl.html", []).run(["$templateCache", function(a) {
        a.put("usercenter/tab/reset.tpl.html", '<div class="dialog-contain ">\n    <div class="dialog-head">\n        <h1>修改密码</h1>\n        <p ng-show="!authError">在此修改密码，退出再登录后即成功</p>\n        <p ng-show="authError">{{authError}}</p>\n    </div>\n    <div class="dialog-content">\n        <form class="form-contain" role="form">\n            <div class="form-list clearfix">\n                <label for="inputPassword3" class="form-label">登录账号</label>\n                <div class="form-input" style="top: 6px;">{{userinfo.noRel || userinfo.loginName}}</div>\n            </div>\n            <div class="form-list clearfix">\n                <label for="inputPassword3" class="form-label">原始密码</label>\n                <div class="form-input">\n                    <input type="password" ng-model = "password.old" placeholder="原始密码">\n                </div>\n            </div>\n            <div class="form-list clearfix">\n                <label for="inputPassword3" class="form-label">新密码</label>\n                <div class="form-input">\n                    <input type="password" ng-model = "password.newPw"  placeholder="新密码">\n                </div>\n            </div>\n            <div class="form-list clearfix">\n                <label for="inputPassword3" class="form-label">重复密码</label>\n                <div class="form-input">\n                    <input type="password" class="resetpwd" ng-model = "password.confirm" placeholder="重复密码">\n                </div>\n            </div>\n            <div class="btn-contain btn-big">\n                <a class="btn-main login" ng-click="reset()">保存</a>\n                <a class="btn-grey0 cancel" ng-click="quXiao()">取消</a>\n            </div>\n        </form>     \n    </div>\n</div>')
    }
    ]),
    b.module("usercenter/tab/server.tpl.html", []).run(["$templateCache", function(a) {
        a.put("usercenter/tab/server.tpl.html", '<div class="panel panel-default" ng-controller="ServerTabCtrl">\n    <div class="panel-body">\n        <div class="server clearfix">\n            <div class="server-dns server-same">\n                <h1>\n                    绑定域名<!-- <span style="font-size: 16px;padding-left: 5px;">beta</span> -->\n                </h1>\n                <!--status: 1 正常使用\n                    status: 2 审核中\n                    status: 3 审核失败\n                    status: 4 停用\n                    status: 5 到期-->\n                <div ng-show="!isShowBindPanel">\n                    <div ng-show="status==1">\n                        <div class="pass-check">\n                            <div class="check-icon">\n                                <span class="eqf-yes2"></span>\n                            </div>\n                            <div class="check-desc">\n                                <span>您申请的绑定域名{{domainInfo.url}}已经通过审核</span>\n                                <div class="line"></div>\n                                <span class="check-mes">\n                                    已通过审核，可放心使用，剩余有效期{{domainInfo.restTime}}天\n                                </span>\n                            </div>\n                        </div>\n                    </div>\n                    <div ng-show="status==2">\n                        <div class="is-in-check">\n                            <div class="check-icon">\n                                <span class="eqf-clock-o"></span>\n                            </div>\n                            <div class="check-desc">\n                                <span>您申请的绑定域名{{domainInfo.url}}已经提交审核</span>\n                                <div class="line"></div>\n                                <span class="check-mes">审核中，请确保申请的域名解析指向指定IP地址：{{domainInfo.ipAddress}}</span>\n                                <div style="margin-top: 10px;">\n                                    申请的域名需要解析至指定的IP地址：{{domainInfo.ipAddress}}，才能通过审核并正常使用。<!-- ，域名解析操作流程详见 -->\n                                    <!-- <a href="">如何操作域名解析</a> -->\n                                    <a href="http://www.48ym.com/forum.php?mod=viewthread&tid=8604" target="_blank"><ins>如何操作？</ins></a>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    <div ng-show="status==3">\n                        <div class="is-in-fail">\n                            <div class="check-icon">\n                                <span class="eqf-fobden2"></span>\n                            </div>\n                            <div class="check-desc">\n                                <span>您申请的绑定域名{{domainInfo.url}}未通过雷锋站长审核，请重新申请</span>\n                                <div class="line"></div>\n                                <span class="check-mes">\n                                    {{domainInfo.remark}}\n                                </span>\n                            </div>\n                        </div>\n                        <div class="btn-dns">\n                            <a style="margin-top: 360px;" ng-click="reApply()">重新申请</a>\n                        </div>\n                    </div>\n                    <div ng-show="status==5">\n                        <div class="is-in-fail">\n                            <div class="check-icon">\n                                <span class="eqf-fobden2"></span>\n                            </div>\n                            <div class="check-desc">\n                                <span>您申请的绑定域名{{domainInfo.url}}已到期</span>\n                                <div class="line"></div>\n                                <span class="check-mes">\n                                    域名已到期，需要重新申请\n                                </span>\n                            </div>\n                        </div>\n                        <div class="btn-dns">\n                            <a style="margin-top: 360px;" ng-click="reApply()">重新申请</a>\n                        </div>\n                    </div>\n                </div>\n                <div ng-show="isShowBindPanel">\n                    <!-- <div ng-show="!showController.agreeBind">\n                        <p>\n                            <span>\n                                域名绑定通过审核后，绑定后的场景即可以使用新域名进行分享,场景网址显示为：申请得绑定域名＋场景编码\n                            </span>\n                            <br />\n                            1、绑定域名须经过工信部网站备案，若域名和所属方违背相关法律，\n                                我们将随时停止绑定。\n                            <br />\n                            2、域名绑定审核通过后，所属场景再次发布时可以使用新的域名场景\n                                地址。\n                            <br />\n                            3、域名生效后，雷锋站长场景网址显示为：你绑定的域名+雷锋站长场景\n                                编码。例如：http://www.yqxiu.cn/v-83o0wer\n                        </p>\n                        <div class="btn-dns">\n                            <a ng-click="bindDomain()">绑定域名</a>\n                        </div>\n                    </div> -->\n                    <div>\n                        <div class="step-bar" ng-init="step=1;">\n                            <span class="circle fl" ng-class="{\'fill-color\': step == 1}" ng-click="goStep(1);">1</span>\n                            <span class="line"></span>\n                            <span class="circle circle-center" ng-class="{\'fill-color\': step == 2}" ng-click="goStep(2);">2</span>\n                            <span class="line"></span>\n                            <span class="circle fr" ng-class="{\'fill-color\': step == 3}" ng-click="goStep(3);">3</span>\n                        </div> \n                        <div class="step1-container" ng-show="step==1;">\n                            <span style="margin-top:20px;">域名绑定通过审核后，绑定后的场景即可以使用新域名进行分享</span>\n                            <span>场景网址显示为：申请得绑定域名＋场景编码</span>\n                            <div class="scene-exp">\n                                <img src="{{CLIENT_CDN}}assets/images/usercenter/beforebind.png">\n                            </div>\n                            <div class="scene-exp new-dom">\n                                <img src="{{CLIENT_CDN}}assets/images/usercenter/afterbind.png">\n                            </div>\n                            <div class="btn-dns">\n                                <a style="margin-top: 20px;" ng-click="goStep(step+1)">绑定域名</a>\n                            </div>\n                        </div>\n                        <div class="step2-container" ng-show="step==2;">\n                            <p>\n                                声明：\n                                <br />\n                                1.申请绑定得域名需要经过工信部网站备案。\n                                <br/>\n                                2.若域名所属放在使用中违反相关法律法规，雷锋站长有权随时取消域名绑定。\n                                <br/>\n                                3.您提供的信息仅会在域名绑定环节中使用。\n                            </p>\n                            <div class="btn-dns">\n                                <a style="margin-top: 20px; margin-left: 10px;" ng-click="goStep(step+1);">同意</a>\n                                <a style="margin-top: 20px;" ng-click="goStep(step-1);">不同意</a>\n                            </div>\n                        </div>\n                        <div class="step3-container" ng-show="step==3;">\n                            <p style="padding-bottom: 0;" ng-show="!actionerror && isShowBindPanel && step == 3">请您输入正确的域名地址</p>\n                            <p style="padding: 20px 0 0;" ng-show="actionerror">{{actionerror}}</p>\n                            <form class="form-contain" role="form">\n                                <div class="form-list clearfix">\n                                    <label class="form-label">域名网址</label>\n                                    <div class="form-input">\n                                        <input type="text" class="dns" ng-model="model.url" placeholder="请输入要绑定的域名" autofocus>\n                                        <span>*</span>\n                                        <a style="margin-left:20px;" ng-click="isOpenDomain = true;isOpenTip = false;"><ins>什么是域名</ins></a>\n                                    </div>\n                                </div>\n                                <div class="clearfix xiudian-time" ng-init="someVariable = null">\n                                    <span class="form-label" style="font-size:16px">选择有效期</span>\n                                    <span ng-repeat="type in domainInfo.typeList" style="padding-left:10px;">\n                                        <input type="radio" ng-model="model.day" id="\'{{type.value}}\'" ng-value="type" ng-disabled="true">\n                                        <label for="\'{{type.value}}\'">{{type.label}}秀点{{type.value}}天</label>\n                                    </span>\n                                </div>\n                                <div class="form-list clearfix">\n                                    <label class="form-label">应用ID</label>\n                                    <div class="form-input">\n                                        <input type="text" class="dns" ng-model="model.appId" placeholder="微信公众号APPID">\n                                        <a style="margin-left: 30px;" ng-click="isOpenTip = true;isOpenDomain = false;"><ins>什么是应用ID和应用密钥</ins></a>\n                                    </div>\n                                </div>\n                                <div class="form-list clearfix">\n                                    <label class="form-label">应用密钥</label>\n                                    <div class="form-input">\n                                        <input type="password" class="dns" ng-model="model.secretId" placeholder="微信公众号APPSECRECT">\n                                        <a style="margin-left: 30px;" href="http://www.48ym.com/forum.php?mod=viewthread&tid=8604" target="_blank"><ins>为什么填写应用ID和应用密钥</ins></a>\n                                    </div>\n                                </div>\n                            </form>\n                            <div style="position:absolute;bottom:10px;">\n                                <a href="http://www.48ym.com/forum.php?mod=viewthread&tid=8604" target="_blank"><ins>不会操作？</ins></a>\n                                <!-- <a style="margin-left:20px;" ng-click="isOpenDomain = true;isOpenTip = false;"><ins>什么是域名</ins></a> -->\n                            </div>\n                            <div class="btn-dns">\n                                <a style="margin-top: 20px; margin-left: 10px;" ng-click="submit()">提交申请</a>\n                                <a style="margin-top: 20px;" ng-click="goStep(step-1)">上一步</a>\n                            </div>\n                            <div ng-show="isOpenTip" class="tip-modal">\n                                <div style="margin: 30px 45px;">\n                                    <span style="font-size: 24px;color:#66666">\n                                        应用ID和应用密钥是微信公众号得开发者信息\n                                    </span>\n                                </div>\n                                <div>\n                                    <div style="margin:0 45px;">\n                                        <img src="{{CLIENT_CDN}}assets/images/usercenter/OR3.png">\n                                        <span style="margin-left: 10px;">绑定域名后，场景可以使用得地址</span>\n                                    </div>\n                                    <div style="margin:45px 45px 20px 45px;">\n                                        <img style="position:absolute;" src="{{CLIENT_CDN}}assets/images/usercenter/OR4.png">\n                                        <p>\n                                            您只需要做以下操作即可实现这样得效果：\n                                            <br/>\n                                            1.申请微信公众号\n                                            <br/>\n                                            2.将申请得域名网址提交到公众号--js安全域名接口\n                                            <br/>\n                                            3.在公众号开发者信息中获取应用ID和应用密钥，并在申\n                                            <br/>\n                                            请绑定域名时添加他们\n                                            <br/>\n                                            4.提交至雷锋站长审核，并由雷锋站长提交至工信部备案\n                                        </p>\n                                    </div>\n                                    <div class="btn-dns1" style="text-align:center;">\n                                        <a style="margin-top: 20px;" ng-click="isOpenTip = false;">确定</a>\n                                    </div>\n                                </div>\n                            </div>\n                            <div ng-show="isOpenDomain" class="tip-modal" style="height: 400px;">\n                                <div style="margin: 30px 45px;">\n                                    <span style="font-size: 24px;color:#66666">\n                                        什么是域名\n                                    </span>\n                                </div>\n                                <div>\n                                    <div style="margin:45px 45px 20px 45px;">\n                                        <p style="margin-left: 0;">\n                                            域名级数是指一个域名由多少级组成，域名的各个级别被“.”分开，简而言之，有多少个点就是几级域名。如：eqxiu.com为一级域名，而bbs.eqxiu.com为二级域名。\n                                        </p>\n                                    </div>\n                                    <div class="btn-dns1" style="text-align:center;">\n                                        <a style="margin-top: 200px;" ng-click="isOpenDomain = false;">确定</a>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>');
    }
    ]),
    b.module("usercenter/tab/userinfo.tpl.html", []).run(["$templateCache", function(a) {
        a.put("usercenter/tab/userinfo.tpl.html", '<div class="panel panel-default">\n  <div class="panel-body">\n    <fieldset ng-disabled  = "!editInfo.isEditable">                 \n      <form class="form-horizontal" role="form" style="margin-top:25px;">\n        <div class="form-group" style="margin-bottom: 22px;">\n          <label for="inputPassword3" class="col-sm-2 control-label">登录账号</label>\n          <div class="col-sm-6" style="top: 6px;">{{userinfo.noRel || userinfo.loginName}}</div>\n        </div>\n        <div ng-show="userProperty.type !==2">\n            <div class="form-group">\n              <label for="inputEmail3" class="col-sm-2 control-label">用户名</label>\n              <div class="col-sm-6">\n                <input type="text" class="form-control" ng-model = "userinfo.name" id="inputEmail3" placeholder="用户名" maxlength = "12">\n              </div>\n            </div>\n            <div class="form-group">\n              <label class="col-sm-2 control-label">性别</label>\n              <div class="col-sm-6">\n                <label class="radio-inline">\n                  <input type="radio" ng-model = "userinfo.sex" id="inlineRadio1" value="1"> 男\n                </label>\n                <label class="radio-inline">\n                  <input type="radio" ng-model = "userinfo.sex" id="inlineRadio2" value="2"> 女\n                </label>\n              </div>\n            </div>\n            <div class="form-group">\n              <label for="inputEmail3" class="col-sm-2 control-label">手机</label>\n              <div class="col-sm-6">\n                <input type="text" class="form-control usertel" ng-model = "userinfo.phone" id="inputEmail3" placeholder="手机">\n              </div>\n            </div>\n            <div class="form-group">\n              <label for="inputPassword3" class="col-sm-2 control-label">QQ</label>\n              <div class="col-sm-6">\n                <input type="text" class="form-control userqq" ng-model = "userinfo.qq" id="inputPassword3" placeholder="QQ">\n              </div>\n            </div>\n            <div class="form-group">\n              <label for="inputPassword3" class="col-sm-2 control-label">座机</label>\n              <div class="col-sm-6">\n                <input type="text" class="form-control usermobile" ng-model = "userinfo.tel" id="inputPassword3" placeholder="座机">\n              </div>\n            </div>\n      </div>\n      <div ng-show="userProperty.type ==2">\n          <div class="form-group">\n            <label for="inputCompany" class="col-sm-2 control-label">企业</label>\n            <div class="col-sm-6">\n              <input type="text" class="form-control" ng-model = "companyInfo.name" id="inputCompany" placeholder="企业">\n            </div>\n          </div> \n          <div class="form-group">\n            <label for="inputWeb" class="col-sm-2 control-label">网址</label>\n            <div class="col-sm-6">\n              <input type="text" class="form-control" ng-model = "companyInfo.website" id="inputWeb" placeholder="网址">\n            </div>\n          </div> \n          <div class="form-group">\n            <label for="inputAddress" class="col-sm-2 control-label">地址</label>\n            <div class="col-sm-6">\n              <input type="text" class="form-control" ng-model = "companyInfo.address" id="inputAddress" placeholder="地址">\n            </div>\n          </div>\n          <div class="form-group">\n            <label for="inputcontacts" class="col-sm-2 control-label">联系人</label>\n            <div class="col-sm-6">\n              <input type="text" class="form-control" ng-model = "companyInfo.contacts" id="inputcontacts" placeholder="联系人" maxlength = "12">\n            </div>\n          </div> \n          <div class="form-group">\n            <label for="inputEmail3" class="col-sm-2 control-label">手机</label>\n            <div class="col-sm-6">\n              <input type="text" class="form-control tel" ng-model = "companyInfo.tel" id="inputEmail3" placeholder="手机">\n            </div>\n          </div>  \n          <div class="form-group">\n            <label for="inputEmail3" class="col-sm-2 control-label">座机</label>\n            <div class="col-sm-6">\n              <input type="text" class="form-control mobile" ng-model = "companyInfo.mobile" id="inputEmail3" placeholder="座机">\n            </div>\n          </div>                                                        \n      </div>     \n      <div class="form-group">\n        <div>\n          <script type="text/javascript" src="http://api.geetest.com/get.php?gt=1ebc844c9e3a8c23e2ea4b567a8afd2d"></script>\n        </div>\n      </div>\n      <div class="form-group">\n        <div class="col-sm-offset-2 col-sm-10">\n          <a class="btn-main" ng-show = "editInfo.isEditable && userProperty.type !==2" ng-click = "saveUserInfo(userinfo)">保存</a>\n          <a class="btn-main" ng-show = "editInfo.isEditable && userProperty.type ==2" ng-click = "saveCompanyInfo(companyInfo)">保存</a>          \n          <a class="btn-grey0" ng-click = "cancel();" ng-show = "editInfo.isEditable">取消</a>\n        </div>\n        <div class="col-sm-offset-2 col-sm-10"><a class="btn-main" ng-click = "editInfo.isEditable = true;" ng-show="!editInfo.isEditable"><span>编辑</span></a></div> \n      </div>\n    </form>\n    </fieldset>\n  </div>\n</div>')
    }
    ]),
    b.module("usercenter/tab/xd.tpl.html", []).run(["$templateCache", function(a) {
        a.put("usercenter/tab/xd.tpl.html", '<div class="panel panel-default">\n  <div class="panel-body">\n    <div style="border-bottom:1px solid #E7E7E7;padding-bottom:20px;">\n      <p style="float:right;padding-top:12px;"><a href="?c=pay" target="_blank">什么是秀点？</a></p>\n      <div style = "display: inline-block; width: auto;">我的秀点: <span style = "font-size: 26px; font-weight: 500;color:#08a1ef;">{{xdCounts}}</span>个&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span ng-click="openReg()" class="yaoqing" ng-show="sendXd.state"><em>邀请注册得秀点</em></span></div>\n    </div>\n    <div class="xiudian clearfix">\n      <div class="zhuansong"><img ng-click="openXd()" ng-src="{{CLIENT_CDN}}assets/images/zengsong.png" title="转送秀点" /></div>\n      <div class="shiyong_xd">\n        <ul class="clearfix">\n          <li class="huode">获得秀点<p>{{getXdStat.add | fixnum}}</p></li>\n          <li class="song">转送秀点<p>{{getXdStat.give | fixnum}}</p></li>\n          <li class="shiyong">使用秀点<p>{{getXdStat.pay | fixnum}}</p></li>\n        </ul>\n      </div>\n    </div>\n    <div class = "cols-sm-10 text-center" style = "margin-top: 30px;">\n      <p style="text-align:left;padding-bottom:20px;">秀点详情：</p>\n      <table class = "table table-bordered col-sm-12 table-striped">\n        <thead class = "text-center">\n          <tr>\n            <th class = "col-sm-2">类型</th>\n            <th class = "col-sm-2">时间</th>\n            <th class = "col-sm-2">数量</th>\n            <th class = "col-sm-6">使用详情</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr ng-repeat = "xd in xdLogs" style = "text-valign:middle;">\n            <td>{{xd.bizTitle}}</td>\n            <td>{{xd.optTime | date:\'yyyy-MM-dd HH:mm:ss\'}}</td>\n            <!-- <td>{{xd.bizType}}<a style = "height: 30px;" ng-href="{{PREFIX_CLIENT_HOST + \'v-\' + xd.sceneId}}">查看详情</a></td> -->\n            <td>{{xd.xd | fixnum}}</td>\n            <td>{{xd.remark}}</td>\n          </tr>\n        </tbody>\n      </table>\n      <div class="clearfix fl" ng-show = "XdCount > 10">\n            <pagination style="float: left" first-text="首页" last-text="尾页" previous-text="上一页" next-text="下一页" max-size="5" items-per-page="XdpageSize" total-items="XdCount" ng-click="XdpageChanged(XdcurrentPage)" ng-model="XdcurrentPage" boundary-links="true" rotate="true" num-pages="XdNumPages"></pagination>\n            <div class="current_page">\n                <input type="text" ng-model="XdcurrentPage" ng-keyup="$event.keyCode == 13 ? XdpageChanged(XdcurrentPage) : null">\n                <a ng-click="XdpageChanged(XdcurrentPage)" class="go">GO</a>\n                <span>当前: {{XdcurrentPage}} / {{XdNumPages}} 页</span>\n            </div>\n        </div>                                    \n    </div>\n  </div>\n</div>')
    }
    ]),
    b.module("usercenter/transfer.tpl.html", []).run(["$templateCache", function(a) {
        a.put("usercenter/transfer.tpl.html", '<div class="dialog-contain " ng-show="transfer">\n    <div class="dialog-head">\n        <h1>转送秀点</h1>\n        <p ng-show="!authError">可以向其他账号转送秀点</p>\n        <p ng-show="authError">{{authError}}</p>\n    </div>\n    <div class="dialog-content">\n		<div class="transfer">\n             <form class="form-contain" role="form">\n				<p>我的秀点<span>{{xdCount}}</span>个</p>                     \n				<div class="form-list clearfix">\n					<label class="form-label">转送账号</label>\n                    <div class="form-input">\n                        <input type="text" class="username" ng-model="userXd.toUser" placeholder="请填写转送的账号">\n                    </div>\n				</div>\n				<div class="form-list clearfix">\n					<label class="form-label">转送数目</label>\n                    <div class="form-input">\n                        <input type="text" class="num" maxlength = "12" ng-model="userXd.xdCount" placeholder="请填写转送数目">\n                    </div>\n				</div>	                  \n				<div class="btn-contain btn-big">\n				    <a class="btn-main login" ng-click="confirm()">确认</a>\n				    <a class="btn-grey0 cancel" ng-click="cancel()">取消</a>\n				</div>\n            </form>\n			<div class="action" style="text-align:center;background-color:#CCC;padding:3px 0;"><a style="font-size:12px;" href="http://www.48ym.com/forum.php?mod=viewthread&tid=1959&extra=page%3D1" target="_blank" >秀点转送是用户个人行为，请注意防范风险！</a></div>\n		</div>\n\n	</div>\n</div>\n<div ng-hide="transfer" style="text-align:center;" id="transfer_mes">\n    <p>您已成功向<span style="padding:0 15px">{{userXd.toUser}}</span>转送<span style="padding:0 15px">{{userXd.xdCount}}</span>个秀点！</p>\n    <a ng-click="cancel()">x</a>\n</div>')
    }
    ]),
    b.module("usercenter/usercenter.tpl.html", []).run(["$templateCache", function(a) {
        a.put("usercenter/usercenter.tpl.html", '<div ng-include="\'header.tpl.html\'"></div>\n<div id = "usercenter" class="min_contain">\n  <div class = "main clearfix">\n    <div class = "user_contain clearfix">\n        <div class = "user_img">\n          <img ng-src="{{userinfo.headImg.indexOf(\'http\') < 0 ? (PREFIX_FILE_HOST + userinfo.headImg) : headImg }}" width="160px" height="160px" />\n          <div class = "upload_button" ng-click = "customerUpload()">上传头像</div>\n        </div>\n        <div class="user_message">\n          <p>用户名：{{userinfo.name}}</p>\n          <p>我的秀点：{{xdCounts}}个 <a href="?c=pay" target="_blank">获取秀点</a></p>\n          <p>站内信息：<a href="#/usercenter/message">{{msgCount}}</a>条</p>\n          <p>\n            <!-- <a ng-click="applyShow()" style="padding-left:0">申请</a> -->\n              \n              <a ng-if="applyInfo == 0" ng-click="applyShow()" style="padding-left:0">{{applyStatusOn}}</a>\n              {{applyStatus}}\n              <a ng-if="applyInfo == 1" style="padding-left:10px;" href="http://www.48ym.com/forum.php?mod=viewthread&tid=10292" target="_blank">详细信息</a>\n          </p>\n        </div>\n    </div>\n    <div class = "content">\n        <div class="tab_user" style = "padding: 0;">\n          <ul class="nav nav-tabs tabs-left clearfix">\n            <li ng-class="{active: tabid == \'userinfo\'}"><a ng-click="goBaseInfo()">基础信息</a></li>\n            <li ng-class="{active: tabid == \'account\'}"><a ng-click="goAccount()">账号管理</a></li>\n            <li ng-class="{active: tabid == \'xd\'}"><a ng-click="goXd()">我的秀点</a></li>\n<!--              <li ng-class="{active: tabid == \'reset\'}" ng-if="!userinfo.noRel"><a ng-click="goReset()">修改密码</a></li> -->\n             <li ng-class="{active: tabid == \'message\'}"><a ng-click="goMessage()">站内消息</a></li>\n              <li ng-if="isDomainAccessable" ng-class="{active: tabid == \'server\'}"><a ng-click="goServer()">高级服务</a></li>\n          </ul>\n        </div>        \n      <div class="">\n        <div class="tab-content">\n          <div class="tab-pane" ng-class="{active: tabid == \'userinfo\'}" id="home">\n            <div ng-include="\'usercenter/tab/userinfo.tpl.html\'"></div>\n          </div>\n          <div class="tab-pane" ng-class="{active: tabid == \'account\'}" id="account">\n            <div ng-include="\'usercenter/tab/account.tpl.html\'"></div>\n          </div>\n          <div class="tab-pane" ng-class="{active: tabid == \'xd\'}">\n            <div ng-include="\'usercenter/tab/xd.tpl.html\'"></div>\n          </div>\n          <div class="tab-pane" ng-class="{active: tabid == \'message\'}" style = "background-color: #fff">\n            <div ng-include="\'usercenter/tab/message.tpl.html\'"></div>\n          </div>\n          <div class="tab-pane" ng-class="{active: tabid == \'server\'}">\n              <div ng-include="\'usercenter/tab/server.tpl.html\'"></div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n<div ng-include="\'footer.tpl.html\'"></div>')
    }
    ]),
    b.module("templates-common", ["directives/inputColor.tpl.html", "directives/lineChart.tpl.html", "directives/mapeditor.tpl.html", "directives/page-tpl-types.tpl.html", "directives/pieChart.tpl.html", "directives/toolbar.tpl.html", "security/login/form.tpl.html", "security/login/reset.tpl.html", "security/login/toolbar.tpl.html", "security/register/otherregister.tpl.html", "security/register/register.tpl.html"]),
    b.module("directives/inputColor.tpl.html", []).run(["$templateCache", function(a) {
        a.put("directives/inputColor.tpl.html", '<div class="eqc-input-color" ng-style="{backgroundColor: selectColor}">\n    <div x="{{x}}" y="{{y}}" ng-model="selectColor" colorpicker="{{colorMode}}" colorpicker-position="right"></div>\n    <a class="eqf-bg" ng-click="selectColor = defaultColor"></a>\n</div>')
    }
    ]),
    b.module("directives/lineChart.tpl.html", []).run(["$templateCache", function(a) {
        a.put("directives/lineChart.tpl.html", '<canvas id="chart-area" width="300" height="300"/>')
    }
    ]),
    b.module("directives/mapeditor.tpl.html", []).run(["$templateCache", function(a) {
        a.put("directives/mapeditor.tpl.html", '\n\n<div class="col-lg-6">\n	<div class="input-group">\n	  <input type="text" class="form-control" ng-model="address" placeholder="请输入地名">\n	  <span class="input-group-btn">\n	    <button ng-click="searchAddress()" class="btn btn-default" type="button">搜索</button>\n	  </span>\n	</div><!-- /input-group -->\n</div><!-- /.col-lg-6 -->\n<div id="r-result"></div>')
    }
    ]),
    b.module("directives/page-tpl-types.tpl.html", []).run(["$templateCache", function(a) {
        a.put("directives/page-tpl-types.tpl.html", '<div class="btn-group" style="padding: 0;">\n    <div class="dropdown">\n        <a class="btn dropdown-toggle first-child" data-toggle="dropdown" title="页面模板" style=" color: #fff;">\n            页面模板\n            &nbsp;\n            <b class="caret">\n            </b>\n        </a>\n        <ul class="dropdown-menu size-menu">\n            <li ng-repeat="type in pageTplTypes">\n                <a ng-href="#/scene/create/{{type.value}}?pageId=1">\n                    {{type.name}}\n                </a>\n            </li>\n        </ul>\n    </div>\n</div>')
    }
    ]),
    b.module("directives/pieChart.tpl.html", []).run(["$templateCache", function(a) {
        a.put("directives/pieChart.tpl.html", '<canvas id="chart-area" width="300" height="300"/>')
    }
    ]),
    b.module("directives/toolbar.tpl.html", []).run(["$templateCache", function(a) {
        a.put("directives/toolbar.tpl.html", '<div class="btn-toolbar" id="btn-toolbar"  data-role="editor-toolbar">\n    <div class="btn-group">\n        <div class="dropdown">\n            <a class="btn dropdown-toggle first-child" data-toggle="dropdown" title="文字大小">\n                <i class="glyphicon glyphicon-text-width">\n                </i>\n                &nbsp;\n                <b class="caret">\n                </b>\n            </a>\n            <ul class="dropdown-menu size-menu">\n                <li>\n                    <a dropdown-toggle data-edit="fontSize 7">\n                        48px\n                    </a>\n                </li>\n                <li>\n                    <a dropdown-toggle data-edit="fontSize 6">\n                        32px\n                    </a>\n                </li>\n                <li>\n                    <a dropdown-toggle data-edit="fontSize 5">\n                        24px\n                    </a>\n                </li>\n                <li>\n                    <a dropdown-toggle data-edit="fontSize 4">\n                        18px\n                    </a>\n                </li>\n                <li>\n                    <a dropdown-toggle data-edit="fontSize 3">\n                        16px\n                    </a>\n                </li>\n                <li>\n                    <a dropdown-toggle data-edit="fontSize 2">\n                        13px\n                    </a>\n                </li>\n                <li>\n                    <a dropdown-toggle data-edit="fontSize 1">\n                        12px\n                    </a>\n                </li>\n            </ul>\n        </div>\n    </div>\n    <div class="btn-group">\n        <div class="dropdown">\n            <a class="btn dropdown-toggle" data-toggle="dropdown" title="文字颜色">\n                <i class="glyphicon glyphicon-font color-btn">\n                </i>\n                &nbsp;\n                <b class="caret">\n                </b>\n            </a>\n            <ul class="dropdown-menu color-menu">\n            </ul>\n        </div>\n    </div>\n    <div class="btn-group">\n        <div class="dropdown">\n            <a class="btn dropdown-toggle" data-toggle="dropdown" title="文字背景颜色">\n                <i class="glyphicon glyphicon-font bgcolor-btn">\n                </i>\n                &nbsp;\n                <b class="caret">\n                </b>\n            </a>\n            <ul class="dropdown-menu bgcolor-menu">\n            </ul>\n        </div>\n    </div>\n    <div class="btn-group">\n        <a class="btn" data-edit="bold" title="文字加粗">\n            <i class="glyphicon glyphicon-bold">\n            </i>\n        </a>\n    </div>\n    <div class="btn-group">\n        <a class="btn" data-edit="justifyleft" title="文字居左">\n            <i class="glyphicon glyphicon-align-left">\n            </i>\n        </a>\n        <a class="btn" data-edit="justifycenter" title="文字居中">\n            <i class="glyphicon glyphicon-align-center">\n            </i>\n        </a>\n        <a class="btn" data-edit="justifyright" title="文字居右">\n            <i class="glyphicon glyphicon-align-right">\n            </i>\n        </a>\n    </div>\n    <div class="btn-group">\n        <a class="btn" ng-click="increaseLineHeight()" title="增大行间距">\n            <i class="fa fa-dedent"></i>\n        </a>\n        <a class="btn" ng-click="decreaseLineHeight()" title="减小行间距">\n            <i class="fa fa-indent"></i>\n        </a>\n    </div>\n    <div class="btn-group">\n        <div class="dropdown">\n            <a class="btn dropdown-toggle createLink" data-toggle="dropdown" sceneid = "{{sceneId}}" title="添加超链接：先选中要加连接的文字"><i class="fa fa-link"></i></a>\n            <div class="dropdown-menu input-append" style="min-width: 335px;padding:4px 4px 14px 19px;">\n                <div class = "span4" style="margin-top:10px;">\n                    <input name = "external" ng-model = "link" class = "span2" type = "radio" value = "external" style="vertical-align:middle;margin:0px;"> 网站地址：\n                    <input class="span2" placeholder="URL" sceneid="{{sceneId}}" type="text" data-edit="createLink" value = "http://" style="border-radius:0px;width:200px;height:35px;" />\n                </div>\n                <div class="span4" style="margin-top: 10px;text-align: right;">\n                    <a href="http://dwz.cn/" style="text-decoration: underline;color: #08A1EF;margin-right: 30px;" target="_blank">生成短链接</a>\n                </div>\n                <!-- <input class="span2" placeholder="URL" sceneid="{{sceneId}}" type="text" data-edit="createLink" value="http://"/>   -->\n                <div class = "span4" style = "margin-top: 10px;">\n                     <input name = "internal" ng-model = "link" class = "span2" type = "radio" value = "internal" style="vertical-align:middle;margin:0px;"> 场景页面：\n                    <select class = "span2" style = "width: 200px;height:35px;" ng-options = "page.name for page in internalLinks" sceneid="{{sceneId}}" data-edit = "createLink" pageid="{{internalLink.id}}" ng-model = "internalLink"></select> \n                </div>           \n                <div style="text-align:center"><a class="btn-main" style="color:#FFF; margin-top:20px;" dropdown-toggle>确定</a></div>\n            </div>\n        </div>        \n    </div>\n    <div class="btn-group">\n        <a class="btn" data-edit="unlink" title="清除超链接"><i class="fa fa-unlink"></i></a>\n    </div>\n    <div class="btn-group">\n        <a class="btn last-child" data-edit="RemoveFormat" title="清除样式">\n            <i class="fa fa-eraser">\n            </i>\n        </a>\n    </div>\n</div>')
    }
    ]),
    b.module("security/login/form.tpl.html", []).run(["$templateCache", function(a) {
        a.put("security/login/form.tpl.html", '<div class = "login-form-section">\n  <div class = "login-content">\n    <form class = "loginForm" novalidate ng-show = "showLogin && !sendPassword">\n      <div class = "section-title">\n        <h3>登录</h3>\n        <a class="bbs-help-tip" target="_blank" href="http://www.48ym.com/forum.php?mod=viewthread&tid=1903&extra=">\n          <span class="eqf-exclaquestion-sign"></span></a>\n      </div>\n      <div class="error-wrap">\n        <div class="alert alert-danger" role="alert" ng-show="authReason">\n            {{authReason}}\n        </div>\n        <div class="alert alert-danger" role="alert" ng-show="authError">\n            {{authError}}\n        </div>\n      </div>\n      <div class="textbox-wrap">\n        <div class="input-group">\n          <span class="input-group-addon "><i class="fa fa-envelope"></i></span>\n          <input class = "form-control" id = "username" name="userEmail" placeholder="邮箱 " type="text" ng-model="user.email" ng-keyup="$event.keyCode == 13 ? login() : null" required autofocus add-class/>\n        </div>\n      </div>\n      <div class="textbox-wrap">\n        <div class="input-group">\n          <span class="input-group-addon "><i class="fa fa-key"></i></span>\n          <input class = "form-control" name="pass" placeholder="密码" type="password" ng-model="user.password" ng-keyup="$event.keyCode == 13 ? login() : null" required add-class/>\n        </div>\n      </div>\n      <div class="textbox-wrap validate clearfix" ng-if="isValidateCodeLogin">\n        <div>\n          <script type="text/javascript" load-script ng-src="{{validateCodeUrl}}"></script>\n        </div>\n      </div>\n      <div class="login-form-action clearfix">\n        <div class = "pull-left">\n          <!-- <a ng-click = "openRegister()"><ins>还没注册？</ins></a> -->\n          <input style="margin-top:0px;"  name="rememberMe" ng-model="user.rememberMe" type="checkbox" value="true" />&nbsp;记住密码\n        </div>\n        <div class = "pull-right">\n          <!-- <a ng-click = "showLogin = false;"><ins>忘记密码?</ins></a> -->\n          <a ng-click = "rotate(showLogin)"><ins>忘记密码？</ins></a>\n        </div>\n      </div>\n      <div class="login-form-action clearfix">\n        <a class="btn pull-left btn-main" ng-click="login()">登录</a>\n        <a class="btn pull-right btn-grey0" ng-click="openRegister()">注册</a>\n      </div>\n      <div class="login-form-action clearfix third-party" style="line-height:30px;">\n        <span>第三方账号登录</span>\n           <a ng-click="openThirdPatyWindow(\'qq\')"  style="margin-left:30px;font-size: 12px;color: #967E7E;display:inline-block;"> <img src="/assets/images/Connect_logo_1.png"/>QQ登录</a>\n        <!-- <a ng-href="{{weiboUrl}}" class="weibo_login"><span class="weibo_title"></span></a> -->\n      </div>\n    </form>\n    <form class = "retrieveForm" ng-show = "!showLogin && !sendPassword" novalidate>\n      <div class = "section-title">\n        <h3>找回密码</h3>\n      </div>\n      <div class="error-wrap">\n        <div class="alert alert-danger" role="alert" ng-show="retrieveError">\n            {{retrieveError}}\n        </div>\n      </div>\n      <div class="textbox-wrap">\n        <div class="input-group">\n          <span class="input-group-addon "><i class="fa fa-envelope"></i></span>\n          <input class = "form-control" id = "retrieveUsername" name="userEmail" placeholder="邮箱 " type="text" ng-model="retrieve.email" ng-keyup="$event.keyCode == 13 ? retrievePassword() : null" required autofocus add-class/>\n        </div>\n      </div>\n      <!-- <div class="textbox-wrap validate">\n        <label class="input-label mid" for="validateCode">验证码</label>&nbsp;\n        <div class = "input-group" style = "display:inline-block;">\n          <input name="validateCode" id="retrieveretrieveValidateCode" ng-model="retrieveretrieve.validateCode" style="width: 100px; font-weight: bold; display: inline-block; height: 32px;" type="text" ng-keyup="$event.keyCode == 13 ? retrieveretrievePassword() : null" add-class>\n        </div>&nbsp;\n        <img class="mid validateCode" onclick="$(\'.validateCodeRefresh\').click();" ng-src="{{validateCodeSrc}}">&nbsp;\n        <a class="mid validateCodeRefresh" onclick="$(\'.validateCode\').attr(\'src\', PREFIX_URL + \'servlet/validateCodeServlet?\'+new Date().getTime());" href="javascript:">看不清楚</a>\n      </div> -->\n      <div class="login-form-action clearfix">\n        <div>\n          <script type="text/javascript" load-script ng-src="{{validateCodeUrl}}"></script>\n        </div>\n        <div class = "pull-right" style = "padding-top: 5px;">\n          <a ng-click = "rotate(showLogin)"><ins>我想起来了</ins></a>\n        </div>\n      </div>\n      <div class="login-form-action clearfix">\n        <button type="button" class="btn btn-success pull-left btn-main" ng-click="retrievePassword()">找回密码</button>\n        <button type="button" class="btn btn-success pull-right btn-grey0" ng-click="reset()">重置</button>\n      </div>\n    </form>\n    <div ng-show = "sendPassword" class = "section-title text-center">\n        <h3>恭喜你，找回密码成功。</h3>\n    </div>\n    <div class = "send_email" ng-show = "sendPassword">\n      重置密码的链接已发送到你的 {{retrieve.email}}邮箱，登录邮箱重置密码吧！\n    </div>\n    <div class = "login-form-tip" ng-show = "!sendPassword && !unExist">\n      <h6>为了获得更好的使用，建议使用谷歌浏览器（chrome）、360浏览器、IE11浏览器。</h6>\n    </div>\n  </div>\n</div>')
    }
    ]),
    b.module("security/login/reset.tpl.html", []).run(["$templateCache", function(a) {
        a.put("security/login/reset.tpl.html", '<!-- <div class="modal-header">\n    <span class="glyphicon glyphicon-exclamation-sign"></span>\n    <span>修改密码</span>\n</div>\n<form name="resetForm" novalidate class="login-form">\n    <div class="login_form">\n        <div class="alert alert-warning" role="alert" ng-show="authReason">\n            {{authReason}}\n        </div>\n        <div class="alert alert-danger" role="alert" ng-show="authError">\n            {{authError}}\n        </div>\n        <div class="input-wrap">\n            <input name="oldPassword" placeholder="旧密码 " type="password" ng-model="password.old" required autofocus>            \n        </div>\n        \n        <div class="input-wrap">\n            <input name="newPassword" placeholder="新密码" type="password" ng-model="password.newPw" required equals="{{password.confirm}}">\n        </div>\n\n        <div class="input-wrap">\n            <input name="confirmPassword" placeholder="重复密码" type="password" ng-model="password.confirm" required equals="{{password.newPw}}">\n        </div>\n        <div class="modal-footer">\n            <div class="btn-main" ng-click="reset()" ng-disabled=\'form.$invalid\'>确&nbsp;&nbsp;定</div>\n            <div class="btn-grey0" ng-click="cancel()" ng-disabled=\'form.$invalid\'>取&nbsp;&nbsp;消</div>\n        </div>\n    </div>\n</form>\n -->\n<div class = "login-form-section">\n  <div class = "login-content">\n    <form class = "loginForm" novalidate>\n      <div class = "section-title">\n        <h3>重设密码</h3>\n      </div>\n      <div class="error-wrap">\n        <div class="alert alert-danger" role="alert" ng-show="authReason">\n            {{authReason}}\n        </div>\n        <div class="alert alert-danger" role="alert" ng-show="authError">\n            {{authError}}\n        </div>\n      </div>\n      <div class="textbox-wrap">\n        <div class="input-group">\n          <span class="input-group-addon "><i class="fa fa-key"></i></span>\n          <input class = "form-control" name="pass" placeholder="新密码" type="password" ng-model="password.newPw" ng-keyup="$event.keyCode == 13 ? reset() : null" required add-class/>\n        </div>\n      </div>\n      <div class="textbox-wrap">\n        <div class="input-group">\n          <span class="input-group-addon "><i class="fa fa-key"></i></span>\n          <input class = "form-control" name="confirmPassword" placeholder="确认密码" type="password" ng-model="password.confirm" ng-keyup="$event.keyCode == 13 ? reset() : null" required add-class/>\n        </div>\n      </div>\n      <div class="login-form-action clearfix">\n        <button type="button" class="btn btn-success pull-left blue-btn" ng-click="reset()">确认</button>\n        <button type="button" class="btn btn-success pull-right reset-btn" ng-click="cancel()">取消</button>\n      </div>\n    </form>\n    <div class = "login-form-tip">\n      <h6>为了获得更好的使用，建议使用谷歌浏览器（chrome）、360浏览器、IE11浏览器。</h6>\n    </div>\n  </div>\n</div>')
    }
    ]),
    b.module("security/login/toolbar.tpl.html", []).run(["$templateCache", function(a) {
        a.put("security/login/toolbar.tpl.html", '<ul class="nav pull-right" style="margin-right:0px;"><!-- \n    <li class="divider-vertical" ng-click="goCats =!goCats" ></li> -->\n    <li class="" style="width:150px;margin-top:-2px;cursor:pointer;" ng-show="sendXd.state"><img ng-click="openReg()" ng-src="{{CLIENT_CDN}}assets/images/xiudianyaoqing.png" /></li>\n    <li class="mes_con dropdown-toggle hint--bottom hint--rounded" data-hint="消息中心">     \n        <a class = "mes_content eqf-envelope "  style ="position: relative;" data-toggle = "dropdown" ng-click = "openMsgPanel()">     \n        </a>\n        <span class = "mes_count" ng-if = "newMsgCount">{{newMsgCount}}</span>\n        <div class="dropdown-menu msg_pannel" role="menu" forbidden-close>\n            <div class = "clearfix">\n                <div class = "panel_title pull-left">\n                您有<span class = "mes_new">{{count}}</span>新消息\n            </div>\n            <div class = "panel_title text-right" style = "margin-left:0px;">\n                <a ng-click = "setRead()" ng-if = "false">设为已读消息</a>\n            </div>\n            </div>\n            <div class = "panel_content head_list_newMsg" ng-class = "{content_status_new: newMsg.status == 1,content_status_yidu: newMsg.status == 2}" ng-repeat = "newMsg in newMsgs"><a href="#/usercenter/message" ng-bind-html="newMsg.content"></a></div>\n            <div class = "panel_more text-center">\n                <a href="#/usercenter/message">查看全部消息 >></a>\n            </div>\n        </div>\n    </li>\n    <!-- <li class="mes_con">\n        <div style="height:200px;" class="head_hover">\n            <div class="vip_c"><span style="text-align:center;"><img ng-src="{{headImg ||(PREFIX_FILE_HOST + currentUser.headImg)}}" style = "width: 30px; height: 30px;"/></span><span class="vip_po" style = "top:0px;" ng-show = "isVendorUser"><img ng-src="{{CLIENT_CDN}}assets/images/main/fuwushang.png" style = "width:18px; height: 23px;"/></span></div>\n        </div>\n    </li> -->\n    <li ng-show="isAuthenticated()" class="custom_img">\n        <div style="height:200px;" class="head_hover" ng-mouseover="showCode = true" ng-mouseleave="showCode = false"><!-- <span>{{currentUser.loginName}}</span> -->\n            <div class="vip_c">\n                <span style="text-align:left;">\n                    <img ng-src="{{currentUser.headImg.indexOf(\'http\') < 0 ?(PREFIX_FILE_HOST + currentUser.headImg):headImg }}" style = "width: 30px; height: 30px;"/>\n                    <span class="userLevel-icon" ng-switch="currentUser.type">\n                        <span class="eqf-nomarluser" ng-switch-when="1"></span>\n                        <span class="eqf-vipuser" ng-switch-when="3"></span>\n                        <span class="eqf-companyuser" ng-switch-when="2"></span>\n                        <span class="eqf-companyuser" ng-switch-when="21"></span>\n                        <span class="eqf-serviceuser" ng-switch-when="4"></span>\n                    </span>\n                </span>\n                <span class="vip_po" style = "top:0px;" ng-show = "isVendorUser">\n                    <img ng-src="{{CLIENT_CDN}}assets/images/main/fuwushang.png" style = "width:18px; height: 23px;"/>\n                </span>\n            </div>\n            <div class="head_click" style="z-index:10000;" ng-show="showCode == true"> \n                <div><a href = "#/usercenter/userinfo">用户中心</a></div>\n                <div><a href = "#/usercenter/xd">我的秀点</a></div>\n                <div><a ng-click="logout()">退出</a></div> \n            </div>\n        </div>\n    </li>\n</ul>  ');
    }
    ]),
    b.module("security/register/otherregister.tpl.html", []).run(["$templateCache", function(a) {
        a.put("security/register/otherregister.tpl.html", '<form name="formName" novalidate class="login-form">\n    <div class = "text-center">\n        <div style = "position: relative; top: 0px; font-size: 15px;">第三方账号已授权</div>\n        <div style = "margin-top: 15px;">欢迎您&nbsp;<code>{{otherUserInfo.nickname}}</code>&nbsp;<img ng-src = "{{otherUserInfo.figureUrl}}"/>，完善以下信息，就可以使用我们的服务!</div>\n    </div>\n    <div class="login_form">\n        <div class="alert alert-danger" role="alert" ng-show="regErr">\n            {{regErr}}\n        </div>\n\n        <div class="input-wrap">\n            <input name="userEmail" placeholder="邮箱 " type="email" ng-model="user.email" ng-keyup="$event.keyCode == 13 ? fullfil() : null"  required autofocus>       \n        </div>\n        \n        <div class="input-wrap">\n            <input name="pass" placeholder="密码" type="password" ng-model="user.password" ng-keyup="$event.keyCode == 13 ? fullfil() : null" required>\n        </div>\n\n        <div class="input-wrap">\n            <input name="repeatPass" placeholder="确认密码" type="password" ng-model="user.repeatPassword" ng-keyup="$event.keyCode == 13 ? fullfil() : null" required>\n        </div>\n\n        <div class="checkbox">\n          <label>\n            <input type="checkbox" ng-model = "user.agreement"> 我已阅读并同意<a href="#/agreement" target = "_blank">《雷锋站长用户注册协议》</a>\n          </label>\n        </div>\n\n        <div class="login-btn btn-main" ng-click="fullfil()" ng-disabled=\'form.$invalid\'>完&nbsp;&nbsp;善</div>\n        \n    </div>\n</form>\n    \n')
    }
    ]),
    b.module("security/register/register.tpl.html", []).run(["$templateCache", function(a) {
        var reg_str = '<div class = "login-form-section">\n  <div class = "login-content">\n    <form novalidate>\n      <div class = "section-title">\n        <h3>注册</h3>\n      </div>\n      <div class="error-wrap">\n        <div class="alert alert-danger" role="alert" ng-show="regErr">\n            {{regErr}}\n        </div>\n      </div>\n      <div class="textbox-wrap">\n        <div class="input-group">\n          <span class="input-group-addon "><i class="fa fa-user"></i></span>\n          <input class = "form-control" id = "username1" name="userEmail" placeholder="邮箱 " type="text" ng-model="user.email" ng-keyup="$event.keyCode == 13 ? register() : null" ng-blur="checkUpperCase();" required autofocus add-class/>\n        </div>\n      </div>\n      <div class="textbox-wrap">\n        <div class="input-group">\n          <span class="input-group-addon "><i class="fa fa-key"></i></span>\n          <input class = "form-control" name="pass" placeholder="密码" type="password" ng-model="user.password" ng-keyup="$event.keyCode == 13 ? register() : null" required add-class/>\n        </div>\n      </div>\n      <div class="textbox-wrap">\n        <div class="input-group">\n          <span class="input-group-addon "><i class="fa fa-key"></i></span>\n          <input class = "form-control" name="repeatPass" placeholder="确认密码" type="password" ng-model="user.repeatPassword" ng-keyup="$event.keyCode == 13 ? register() : null" required add-class/>\n        </div>\n      </div>\n      <div class="login-form-action clearfix">\n        <div class="checkbox pull-left">\n          <div class="custom-checkbox">\n            <div class="icheckbox_square-blue" ng-class = "{checked: user.agreement == true, hover: user.agreement == false && hovered == true}">\n              <input class="check-box" type="checkbox" ng-mouseenter = "hovered = true;" ng-mouseleave = "hovered = false;" ng-model = "user.agreement" name="iCheck">\n            </div>\n          </div>\n          <span class="checkbox-text pull-left"> 我已同意</span>\n        </div>\n        <div class = "checkbox pull-right">\n          <a ng-click = "openLogin()"><ins>已有账户?</ins></a>\n        </div>\n      </div>\n      <div class = "login-form-action clearfix">\n        <button type="submit" ng-click="register()" class="btn btn-success pull-left blue-btn">注册</button>\n        <button type="button" ng-click="openLogin()" class="btn btn-success pull-right reset-btn">登录</button>\n      </div>\n      <div class="login-form-action clearfix third-party" style="line-height:30px;">\n        <span>第三方账号登录</span>\n        <a ng-href="{{weiChatUrl}}" class="wx_login"><span class="wx_title"></span></a>\n        <a href="{{qqUrl}}" class="qq_login"><span class="qq_title"></span></a>\n        <!-- <a ng-href="{{weiboUrl}}" class="weibo_login"><span class="weibo_title"></span></a> -->\n      </div>\n      <div class = "login-form-tip">\n        <h6>为了获得更好的使用，建议使用谷歌浏览器（chrome）、360浏览器、IE11浏览器。</h6>\n      </div>\n    </form>\n  </div>\n</div>';
        if (IS_OPEN_REG == 0) {
            reg_str = '<div class = "login-form-section"><img src="/assets/close_reg.jpg"></div>';
        }
        a.put("security/register/register.tpl.html", reg_str);
    }
    ])
}(window, window.angular);
